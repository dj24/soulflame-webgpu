(()=>{var e,o,t={136:(e,o,t)=>{"use strict";var l=t(416);class s{transform;inverseTransform;previousTransform;previousInverseTransform;size;atlasLocation;constructor(e,o,t){this.transform=e,this.size=o,this.inverseTransform=l._E.invert(this.transform),this.previousTransform=l._E.clone(this.transform),this.previousInverseTransform=l._E.clone(this.inverseTransform),this.atlasLocation=t}get worldSpaceBounds(){let e=l.R3.create(),o=l.R3.create();return l.R3.transformMat4(l.R3.create(),this.transform,e),l.R3.transformMat4(this.size,this.transform,o),{minBound:e,maxBound:o}}get worldSpaceCenter(){return l.R3.lerp(this.worldSpaceBounds.minBound,this.worldSpaceBounds.maxBound,.5)}toArray(){return[...this.transform,...this.inverseTransform,...this.previousTransform,...this.previousInverseTransform,...this.size,0,...this.atlasLocation,0]}}var g=t(823),u=t.n(g),p=t(532),a=t.n(p);const n=self,i=[1,2,3,4,5,6,7].map((e=>((e,o=0)=>{let t=l._E.identity();return l._E.translate(t,[e,0,o],t),l._E.scale(t,[.1,.1,.1],t),l._E.rotateY(t,Math.PI,t),l._E.translate(t,l.R3.divScalar(u().size,2),t),l._E.translate(t,l.R3.divScalar(u().size,-2),t),new s(t,u().size,[0,0,0])})(e%3*8+8,e/2*8))),d=((e,o=0)=>{let t=l._E.identity();return l._E.translate(t,[e,0,o],t),l._E.scale(t,[.1,.1,.1],t),l._E.rotateY(t,Math.PI,t),l._E.translate(t,l.R3.divScalar(a().size,2),t),l._E.translate(t,l.R3.divScalar(a().size,-2),t),new s(t,a().size,[64,0,0])})(0,0),r=new s(l._E.identity(),[0,0,0],[0,0,0]);n.onmessage=e=>{const o=(({maxObjectCount:e,objectCount:o,scale:t,translateX:s,rotateY:g})=>{((e,o,t=0,s=1)=>{e.previousTransform=l._E.clone(e.transform),e.previousInverseTransform=l._E.clone(e.inverseTransform);let g=l._E.identity();l._E.translate(g,[t,0,0],g);let u=.1*s;l._E.scale(g,[u,u,u],g),l._E.translate(g,l.R3.divScalar(e.size,2),g),l._E.rotateY(g,o-1,g),l._E.translate(g,l.R3.divScalar(e.size,-2),g),e.transform=g,e.inverseTransform=l._E.invert(g)})(d,g,s,.5*t);let u=[d,...i],p=u;p=p.slice(0,u.length);const a=e-u.length,n=new Array(a).fill(r);return u=[...p,...n],u})(e.data).flatMap((e=>e.toArray()));n.postMessage(o)}},532:e=>{e.exports={size:[126,89,57],normalisedPivot:[.5,.5,.5],bounds:{min:[0,0,0],max:[125,88,56]},sliceFilePaths:["https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/0.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/1.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/2.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/3.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/4.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/5.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/6.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/7.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/8.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/9.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/10.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/11.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/12.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/13.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/14.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/15.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/16.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/17.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/18.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/19.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/20.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/21.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/22.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/23.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/24.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/25.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/26.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/27.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/28.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/29.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/30.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/31.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/32.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/33.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/34.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/35.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/36.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/37.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/38.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/39.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/40.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/41.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/42.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/43.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/44.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/45.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/46.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/47.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/48.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/49.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/50.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/51.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/52.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/53.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/54.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/55.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/56.png"],emissiveVoxels:[]}},823:e=>{e.exports={size:[54,46,55],normalisedPivot:[.359375,.921875,.75],bounds:{min:[5,0,4],max:[58,45,58]},sliceFilePaths:["https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/0.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/1.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/2.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/3.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/4.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/5.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/6.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/7.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/8.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/9.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/10.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/11.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/12.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/13.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/14.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/15.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/16.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/17.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/18.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/19.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/20.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/21.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/22.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/23.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/24.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/25.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/26.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/27.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/28.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/29.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/30.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/31.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/32.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/33.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/34.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/35.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/36.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/37.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/38.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/39.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/40.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/41.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/42.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/43.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/44.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/45.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/46.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/47.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/48.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/49.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/50.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/51.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/52.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/53.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/54.png"],emissiveVoxels:[]}}},l={};function s(e){var o=l[e];if(void 0!==o)return o.exports;var g=l[e]={exports:{}};return t[e](g,g.exports,s),g.exports}s.m=t,s.x=()=>{var e=s.O(void 0,[416],(()=>s(136)));return s.O(e)},e=[],s.O=(o,t,l,g)=>{if(!t){var u=1/0;for(i=0;i<e.length;i++){for(var[t,l,g]=e[i],p=!0,a=0;a<t.length;a++)(!1&g||u>=g)&&Object.keys(s.O).every((e=>s.O[e](t[a])))?t.splice(a--,1):(p=!1,g<u&&(u=g));if(p){e.splice(i--,1);var n=l();void 0!==n&&(o=n)}}return o}g=g||0;for(var i=e.length;i>0&&e[i-1][2]>g;i--)e[i]=e[i-1];e[i]=[t,l,g]},s.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return s.d(o,{a:o}),o},s.d=(e,o)=>{for(var t in o)s.o(o,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((o,t)=>(s.f[t](e,o),o)),[])),s.u=e=>e+".main.js",s.miniCssF=e=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var o=s.g.document;if(!e&&o&&(o.currentScript&&(e=o.currentScript.src),!e)){var t=o.getElementsByTagName("script");if(t.length)for(var l=t.length-1;l>-1&&!e;)e=t[l--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{var e={136:1};s.f.i=(o,t)=>{e[o]||importScripts(s.p+s.u(o))};var o=self.webpackChunksoulflame_webgpu=self.webpackChunksoulflame_webgpu||[],t=o.push.bind(o);o.push=o=>{var[l,g,u]=o;for(var p in g)s.o(g,p)&&(s.m[p]=g[p]);for(u&&u(s);l.length;)e[l.pop()]=1;t(o)}})(),o=s.x,s.x=()=>s.e(416).then(o),s.x()})();