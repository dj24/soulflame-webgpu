(()=>{var e,o,t={136:(e,o,t)=>{"use strict";var s=t(416);class l{transform;inverseTransform;previousTransform;previousInverseTransform;size;atlasLocation;constructor(e,o,t){console.log("Creating voxel object",{size:o}),this.transform=e,this.size=o,this.inverseTransform=s._E.invert(this.transform),this.previousTransform=s._E.clone(this.transform),this.previousInverseTransform=s._E.clone(this.inverseTransform),this.atlasLocation=t}get worldSpaceBounds(){let e=s.R3.create(),o=s.R3.create();return s.R3.transformMat4(s.R3.create(),this.transform,e),s.R3.transformMat4(this.size,this.transform,o),{minBound:e,maxBound:o}}get worldSpaceCenter(){return s.R3.lerp(this.worldSpaceBounds.minBound,this.worldSpaceBounds.maxBound,.5)}toArray(){return[...this.transform,...this.inverseTransform,...this.previousTransform,...this.previousInverseTransform,...this.size,0,...this.atlasLocation,0]}}var r=t(532),a=t.n(r);const g=self,n=[7,7,7],i=(e=0)=>{let o=s._E.identity(),t=.05;return s._E.translate(o,[e,0,0],o),s._E.scale(o,[t,t,t],o),s._E.translate(o,s.R3.divScalar(a().size,2),o),s._E.translate(o,s.R3.divScalar(a().size,-2),o),new l(o,a().size,[n[0],0,0])},u=((e=>{let o=s._E.identity();s._E.translate(o,[0,0,0],o),s._E.translate(o,s.R3.divScalar(n,2),o),s._E.scale(o,[1.5,1.5,1.5],o),s._E.rotateY(o,0,o),s._E.translate(o,s.R3.divScalar(n,-2),o),new l(o,n,[0,0,0])})(),i()),p=i(128),d=[new l(s._E.identity(),[0,0,0],[0,0,0])];g.onmessage=e=>{const o=(({maxObjectCount:e,objectCount:o,scale:t,translateX:l,rotateY:r})=>{((e,o,t=0,l=1)=>{e.previousTransform=s._E.clone(e.transform),e.previousInverseTransform=s._E.clone(e.inverseTransform);let r=s._E.identity();s._E.translate(r,[t,0,0],r);let a=.05*l;s._E.scale(r,[a,a,a],r),s._E.translate(r,s.R3.divScalar(e.size,2),r),s._E.rotateY(r,o-1,r),s._E.translate(r,s.R3.divScalar(e.size,-2),r),e.transform=r,e.inverseTransform=s._E.invert(r)})(u,r,l,t);let a=[u,p],g=a;return g=g.slice(0,o),a=[...g,...d],a})(e.data).flatMap((e=>e.toArray()));g.postMessage(o)}},532:e=>{e.exports={size:[126,89,57],normalisedPivot:[.5,.5,.5],bounds:{min:[0,0,0],max:[125,88,56]},sliceFilePaths:["https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/0.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/1.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/2.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/3.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/4.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/5.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/6.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/7.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/8.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/9.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/10.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/11.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/12.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/13.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/14.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/15.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/16.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/17.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/18.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/19.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/20.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/21.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/22.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/23.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/24.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/25.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/26.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/27.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/28.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/29.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/30.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/31.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/32.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/33.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/34.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/35.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/36.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/37.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/38.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/39.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/40.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/41.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/42.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/43.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/44.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/45.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/46.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/47.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/48.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/49.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/50.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/51.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/52.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/53.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/54.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/55.png","https://dj24.github.io/soulflame-webgpu/voxel-models/dragon/56.png"],emissiveVoxels:[]}}},s={};function l(e){var o=s[e];if(void 0!==o)return o.exports;var r=s[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,l.x=()=>{var e=l.O(void 0,[416],(()=>l(136)));return l.O(e)},e=[],l.O=(o,t,s,r)=>{if(!t){var a=1/0;for(u=0;u<e.length;u++){for(var[t,s,r]=e[u],g=!0,n=0;n<t.length;n++)(!1&r||a>=r)&&Object.keys(l.O).every((e=>l.O[e](t[n])))?t.splice(n--,1):(g=!1,r<a&&(a=r));if(g){e.splice(u--,1);var i=s();void 0!==i&&(o=i)}}return o}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[t,s,r]},l.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return l.d(o,{a:o}),o},l.d=(e,o)=>{for(var t in o)l.o(o,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((o,t)=>(l.f[t](e,o),o)),[])),l.u=e=>e+".main.js",l.miniCssF=e=>{},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var o=l.g.document;if(!e&&o&&(o.currentScript&&(e=o.currentScript.src),!e)){var t=o.getElementsByTagName("script");if(t.length)for(var s=t.length-1;s>-1&&!e;)e=t[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),(()=>{var e={136:1};l.f.i=(o,t)=>{e[o]||importScripts(l.p+l.u(o))};var o=self.webpackChunksoulflame_webgpu=self.webpackChunksoulflame_webgpu||[],t=o.push.bind(o);o.push=o=>{var[s,r,a]=o;for(var g in r)l.o(r,g)&&(l.m[g]=r[g]);for(a&&a(l);s.length;)e[s.pop()]=1;t(o)}})(),o=l.x,l.x=()=>l.e(416).then(o),l.x()})();