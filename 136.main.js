(()=>{"use strict";var r,t,e={136:(r,t,e)=>{var a=e(416);class n{transform;inverseTransform;size;atlasLocation;constructor(r,t,e){this.transform=r,this.size=t,this.inverseTransform=a._E.invert(this.transform),this.atlasLocation=e}get worldSpaceBounds(){let r=a.R3.create(),t=a.R3.create();return a.R3.transformMat4(a.R3.create(),this.transform,r),a.R3.transformMat4(this.size,this.transform,t),{minBound:r,maxBound:t}}get worldSpaceCenter(){return a.R3.lerp(this.worldSpaceBounds.minBound,this.worldSpaceBounds.maxBound,.5)}toArray(){return[...this.transform,...this.inverseTransform,...this.size,0,...this.atlasLocation,0]}}const s=self,o=[18,15,8],i=[7,7,7],c=r=>{let t=a._E.identity();return a._E.translate(t,[0,0,0],t),a._E.translate(t,a.R3.divScalar(i,2),t),a._E.scale(t,[1,1,1],t),a._E.rotateY(t,r,t),a._E.translate(t,a.R3.divScalar(i,-2),t),new n(t,i,[0,0,0])},l=r=>{let t=a._E.identity(),e=.2*Math.sin(.002*performance.now())-4.5;return a._E.translate(t,[-5,e,0],t),a._E.translate(t,a.R3.divScalar(o,2),t),a._E.scale(t,[.2,.2,.2],t),a._E.rotateY(t,r,t),a._E.translate(t,a.R3.divScalar(o,-2),t),new n(t,o,[i[0],0,0])};s.onmessage=r=>{const t=(({maxObjectCount:r,objectCount:t,scale:e,translateX:s,rotateY:o,camera:i,objectSize:u})=>{let p=[l(o),c(o)],f=p;f=f.slice(0,t);const h=[...Array(r-f.length).keys()].map((()=>new n(a._E.identity(),[0,0,0],[0,0,0])));return p=[...f,...h],p})(r.data).flatMap((r=>r.toArray()));s.postMessage(t)}}},a={};function n(r){var t=a[r];if(void 0!==t)return t.exports;var s=a[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.x=()=>{var r=n.O(void 0,[416],(()=>n(136)));return n.O(r)},r=[],n.O=(t,e,a,s)=>{if(!e){var o=1/0;for(u=0;u<r.length;u++){for(var[e,a,s]=r[u],i=!0,c=0;c<e.length;c++)(!1&s||o>=s)&&Object.keys(n.O).every((r=>n.O[r](e[c])))?e.splice(c--,1):(i=!1,s<o&&(o=s));if(i){r.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=r.length;u>0&&r[u-1][2]>s;u--)r[u]=r[u-1];r[u]=[e,a,s]},n.d=(r,t)=>{for(var e in t)n.o(t,e)&&!n.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:t[e]})},n.f={},n.e=r=>Promise.all(Object.keys(n.f).reduce(((t,e)=>(n.f[e](r,t),t)),[])),n.u=r=>r+".main.js",n.miniCssF=r=>{},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),n.o=(r,t)=>Object.prototype.hasOwnProperty.call(r,t),(()=>{var r;n.g.importScripts&&(r=n.g.location+"");var t=n.g.document;if(!r&&t&&(t.currentScript&&(r=t.currentScript.src),!r)){var e=t.getElementsByTagName("script");if(e.length)for(var a=e.length-1;a>-1&&!r;)r=e[a--].src}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=r})(),(()=>{var r={136:1};n.f.i=(t,e)=>{r[t]||importScripts(n.p+n.u(t))};var t=self.webpackChunksoulflame_webgpu=self.webpackChunksoulflame_webgpu||[],e=t.push.bind(t);t.push=t=>{var[a,s,o]=t;for(var i in s)n.o(s,i)&&(n.m[i]=s[i]);for(o&&o(n);a.length;)r[a.pop()]=1;e(t)}})(),t=n.x,n.x=()=>n.e(416).then(t),n.x()})();