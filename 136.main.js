(()=>{"use strict";var t,r,e={136:(t,r,e)=>{var a=e(416);class n{transform;inverseTransform;size;atlasLocation;constructor(t,r,e){this.transform=t,this.size=r,this.inverseTransform=a._E.invert(this.transform),this.atlasLocation=e}get worldSpaceBounds(){let t=a.R3.create(),r=a.R3.create();return a.R3.transformMat4(a.R3.create(),this.transform,t),a.R3.transformMat4(this.size,this.transform,r),{minBound:t,maxBound:r}}get worldSpaceCenter(){return a.R3.lerp(this.worldSpaceBounds.minBound,this.worldSpaceBounds.maxBound,.5)}toArray(){return[...this.transform,...this.inverseTransform,...this.size,0,...this.atlasLocation,0]}}const s=self,o=[18,15,8],i=[7,7,7],c=t=>{let r=a._E.identity();return a._E.translate(r,[0,0,0],r),a._E.translate(r,a.R3.divScalar(i,2),r),a._E.scale(r,[1,1,1],r),a._E.rotateY(r,t,r),a._E.translate(r,a.R3.divScalar(i,-2),r),new n(r,i,[0,0,0])},l=t=>{let r=a._E.identity();return a._E.translate(r,[-5,-4.9,0],r),a._E.translate(r,a.R3.divScalar(o,2),r),a._E.scale(r,[.2,.2,.2],r),a._E.rotateY(r,t,r),a._E.translate(r,a.R3.divScalar(o,-2),r),new n(r,o,[i[0],0,0])};s.onmessage=t=>{const r=(({maxObjectCount:t,objectCount:r,scale:e,translateX:s,rotateY:o,camera:i,objectSize:u})=>{let p=[l(o),c(o)],f=p;f=f.slice(0,r);const h=[...Array(t-f.length).keys()].map((()=>new n(a._E.identity(),[0,0,0],[0,0,0])));return p=[...f,...h],p})(t.data).flatMap((t=>t.toArray()));s.postMessage(r)}}},a={};function n(t){var r=a[t];if(void 0!==r)return r.exports;var s=a[t]={exports:{}};return e[t](s,s.exports,n),s.exports}n.m=e,n.x=()=>{var t=n.O(void 0,[416],(()=>n(136)));return n.O(t)},t=[],n.O=(r,e,a,s)=>{if(!e){var o=1/0;for(u=0;u<t.length;u++){for(var[e,a,s]=t[u],i=!0,c=0;c<e.length;c++)(!1&s||o>=s)&&Object.keys(n.O).every((t=>n.O[t](e[c])))?e.splice(c--,1):(i=!1,s<o&&(o=s));if(i){t.splice(u--,1);var l=a();void 0!==l&&(r=l)}}return r}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[e,a,s]},n.d=(t,r)=>{for(var e in r)n.o(r,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((r,e)=>(n.f[e](t,r),r)),[])),n.u=t=>t+".main.js",n.miniCssF=t=>{},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var r=n.g.document;if(!t&&r&&(r.currentScript&&(t=r.currentScript.src),!t)){var e=r.getElementsByTagName("script");if(e.length)for(var a=e.length-1;a>-1&&!t;)t=e[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{var t={136:1};n.f.i=(r,e)=>{t[r]||importScripts(n.p+n.u(r))};var r=self.webpackChunksoulflame_webgpu=self.webpackChunksoulflame_webgpu||[],e=r.push.bind(r);r.push=r=>{var[a,s,o]=r;for(var i in s)n.o(s,i)&&(n.m[i]=s[i]);for(o&&o(n);a.length;)t[a.pop()]=1;e(r)}})(),r=n.x,n.x=()=>n.e(416).then(r),n.x()})();