(()=>{"use strict";var r,t,e={136:(r,t,e)=>{var a=e(416);class s{transform;inverseTransform;previousTransform;size;atlasLocation;constructor(r,t,e){this.transform=r,this.size=t,this.inverseTransform=a._E.invert(this.transform),this.previousTransform=a._E.clone(this.transform),this.atlasLocation=e}get worldSpaceBounds(){let r=a.R3.create(),t=a.R3.create();return a.R3.transformMat4(a.R3.create(),this.transform,r),a.R3.transformMat4(this.size,this.transform,t),{minBound:r,maxBound:t}}get worldSpaceCenter(){return a.R3.lerp(this.worldSpaceBounds.minBound,this.worldSpaceBounds.maxBound,.5)}toArray(){return[...this.transform,...this.inverseTransform,...this.previousTransform,...this.size,0,...this.atlasLocation,0]}}const n=self,o=[126,61,79],i=[7,7,7],l=(r=>{let t=a._E.identity();return a._E.translate(t,[0,0,0],t),a._E.translate(t,a.R3.divScalar(i,2),t),a._E.scale(t,[1.5,1.5,1.5],t),a._E.rotateY(t,0,t),a._E.translate(t,a.R3.divScalar(i,-2),t),new s(t,i,[0,0,0])})(),c=(()=>{let r=a._E.identity(),t=.05;return a._E.scale(r,[t,t,t],r),a._E.translate(r,a.R3.divScalar(o,2),r),a._E.translate(r,a.R3.divScalar(o,-2),r),new s(r,o,[i[0],0,0])})();n.onmessage=r=>{const t=(({maxObjectCount:r,objectCount:t,scale:e,translateX:n,rotateY:i})=>{((r,t,e=0,s=1)=>{r.previousTransform=a._E.clone(r.transform);let n=a._E.identity();a._E.translate(n,[e,0,0],n);let i=.05*s;a._E.scale(n,[i,i,i],n),a._E.translate(n,a.R3.divScalar(o,2),n),a._E.rotateY(n,t-1,n),a._E.translate(n,a.R3.divScalar(o,-2),n),r.transform=n,r.inverseTransform=a._E.invert(n)})(c,i,n,e);let u=[l,c],f=u;f=f.slice(0,t);const p=[...Array(r-f.length).keys()].map((()=>new s(a._E.identity(),[0,0,0],[0,0,0])));return u=[...f,...p],u})(r.data).flatMap((r=>r.toArray()));n.postMessage(t)}}},a={};function s(r){var t=a[r];if(void 0!==t)return t.exports;var n=a[r]={exports:{}};return e[r](n,n.exports,s),n.exports}s.m=e,s.x=()=>{var r=s.O(void 0,[416],(()=>s(136)));return s.O(r)},r=[],s.O=(t,e,a,n)=>{if(!e){var o=1/0;for(u=0;u<r.length;u++){for(var[e,a,n]=r[u],i=!0,l=0;l<e.length;l++)(!1&n||o>=n)&&Object.keys(s.O).every((r=>s.O[r](e[l])))?e.splice(l--,1):(i=!1,n<o&&(o=n));if(i){r.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=r.length;u>0&&r[u-1][2]>n;u--)r[u]=r[u-1];r[u]=[e,a,n]},s.d=(r,t)=>{for(var e in t)s.o(t,e)&&!s.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:t[e]})},s.f={},s.e=r=>Promise.all(Object.keys(s.f).reduce(((t,e)=>(s.f[e](r,t),t)),[])),s.u=r=>r+".main.js",s.miniCssF=r=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),s.o=(r,t)=>Object.prototype.hasOwnProperty.call(r,t),(()=>{var r;s.g.importScripts&&(r=s.g.location+"");var t=s.g.document;if(!r&&t&&(t.currentScript&&(r=t.currentScript.src),!r)){var e=t.getElementsByTagName("script");if(e.length)for(var a=e.length-1;a>-1&&!r;)r=e[a--].src}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=r})(),(()=>{var r={136:1};s.f.i=(t,e)=>{r[t]||importScripts(s.p+s.u(t))};var t=self.webpackChunksoulflame_webgpu=self.webpackChunksoulflame_webgpu||[],e=t.push.bind(t);t.push=t=>{var[a,n,o]=t;for(var i in n)s.o(n,i)&&(s.m[i]=n[i]);for(o&&o(s);a.length;)r[a.pop()]=1;e(t)}})(),t=s.x,s.x=()=>s.e(416).then(t),s.x()})();