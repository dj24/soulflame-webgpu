(()=>{var e,t,o={136:(e,t,o)=>{"use strict";var s=o(416);class l{transform;inverseTransform;previousTransform;previousInverseTransform;size;atlasLocation;constructor(e,t,o){this.transform=e,this.size=t,this.inverseTransform=s._E.invert(this.transform),this.previousTransform=s._E.clone(this.transform),this.previousInverseTransform=s._E.clone(this.inverseTransform),this.atlasLocation=o}get worldSpaceBounds(){let e=s.R3.create(),t=s.R3.create();return s.R3.transformMat4(s.R3.create(),this.transform,e),s.R3.transformMat4(this.size,this.transform,t),{minBound:e,maxBound:t}}get worldSpaceCenter(){return s.R3.lerp(this.worldSpaceBounds.minBound,this.worldSpaceBounds.maxBound,.5)}toArray(){return[...this.transform,...this.inverseTransform,...this.previousTransform,...this.previousInverseTransform,...this.size,0,...this.atlasLocation,0]}}var r=o(823),a=o.n(r);const n=self,i=[7,7,7],u=((e=>{let t=s._E.identity();s._E.translate(t,[0,0,0],t),s._E.translate(t,s.R3.divScalar(i,2),t),s._E.scale(t,[1.5,1.5,1.5],t),s._E.rotateY(t,0,t),s._E.translate(t,s.R3.divScalar(i,-2),t),new l(t,i,[0,0,0])})(),((e=0)=>{let t=s._E.identity(),o=.05;return s._E.translate(t,[e,0,0],t),s._E.scale(t,[o,o,o],t),s._E.translate(t,s.R3.divScalar(a().size,2),t),s._E.translate(t,s.R3.divScalar(a().size,-2),t),new l(t,a().size,[0,0,0])})()),p=new l(s._E.identity(),[0,0,0],[0,0,0]);n.onmessage=e=>{const t=(({maxObjectCount:e,objectCount:t,scale:o,translateX:l,rotateY:r})=>{((e,t,o=0,l=1)=>{e.previousTransform=s._E.clone(e.transform),e.previousInverseTransform=s._E.clone(e.inverseTransform);let r=s._E.identity();s._E.translate(r,[o,0,0],r);let a=.05*l;s._E.scale(r,[a,a,a],r),s._E.translate(r,s.R3.divScalar(e.size,2),r),s._E.rotateY(r,t-1,r),s._E.translate(r,s.R3.divScalar(e.size,-2),r),e.transform=r,e.inverseTransform=s._E.invert(r)})(u,r,l,o);let a=[u],n=a;n=n.slice(0,a.length);const i=e-a.length,g=new Array(i).fill(p);return a=[...n,...g],a})(e.data).flatMap((e=>e.toArray()));n.postMessage(t)}},823:e=>{e.exports={size:[54,46,55],normalisedPivot:[.359375,.921875,.75],bounds:{min:[5,0,4],max:[58,45,58]},sliceFilePaths:["https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/0.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/1.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/2.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/3.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/4.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/5.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/6.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/7.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/8.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/9.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/10.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/11.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/12.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/13.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/14.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/15.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/16.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/17.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/18.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/19.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/20.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/21.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/22.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/23.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/24.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/25.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/26.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/27.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/28.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/29.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/30.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/31.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/32.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/33.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/34.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/35.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/36.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/37.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/38.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/39.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/40.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/41.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/42.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/43.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/44.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/45.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/46.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/47.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/48.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/49.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/50.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/51.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/52.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/53.png","https://dj24.github.io/soulflame-webgpu/voxel-models/tavern/54.png"],emissiveVoxels:[]}}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return o[e](r,r.exports,l),r.exports}l.m=o,l.x=()=>{var e=l.O(void 0,[416],(()=>l(136)));return l.O(e)},e=[],l.O=(t,o,s,r)=>{if(!o){var a=1/0;for(p=0;p<e.length;p++){for(var[o,s,r]=e[p],n=!0,i=0;i<o.length;i++)(!1&r||a>=r)&&Object.keys(l.O).every((e=>l.O[e](o[i])))?o.splice(i--,1):(n=!1,r<a&&(a=r));if(n){e.splice(p--,1);var u=s();void 0!==u&&(t=u)}}return t}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[o,s,r]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,o)=>(l.f[o](e,t),t)),[])),l.u=e=>e+".main.js",l.miniCssF=e=>{},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var s=o.length-1;s>-1&&!e;)e=o[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),(()=>{var e={136:1};l.f.i=(t,o)=>{e[t]||importScripts(l.p+l.u(t))};var t=self.webpackChunksoulflame_webgpu=self.webpackChunksoulflame_webgpu||[],o=t.push.bind(t);t.push=t=>{var[s,r,a]=t;for(var n in r)l.o(r,n)&&(l.m[n]=r[n]);for(a&&a(l);s.length;)e[s.pop()]=1;o(t)}})(),t=l.x,l.x=()=>l.e(416).then(t),l.x()})();