"use strict";(self.webpackChunksoulflame_webgpu=self.webpackChunksoulflame_webgpu||[]).push([[416],{416:(n,t,r)=>{r.d(t,{R3:()=>z,_E:()=>G});let e=1e-6;Float32Array;let o=Float32Array;function a(n,t,r){const e=new o(3);return void 0!==n&&(e[0]=n,void 0!==t&&(e[1]=t,void 0!==r&&(e[2]=r))),e}Float32Array;new Map([[Float32Array,()=>new Float32Array(12)],[Float64Array,()=>new Float64Array(12)],[Array,()=>new Array(12).fill(0)]]).get(Float32Array);const u=a;function c(n,t,r){return(r=r||new o(3))[0]=n[0]-t[0],r[1]=n[1]-t[1],r[2]=n[2]-t[2],r}const i=c;function s(n,t,r){return(r=r||new o(3))[0]=n[0]*t,r[1]=n[1]*t,r[2]=n[2]*t,r}const f=s;function h(n,t){return(t=t||new o(3))[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}const M=h;function l(n,t,r){r=r||new o(3);const e=n[2]*t[0]-n[0]*t[2],a=n[0]*t[1]-n[1]*t[0];return r[0]=n[1]*t[2]-n[2]*t[1],r[1]=e,r[2]=a,r}function w(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function d(n){const t=n[0],r=n[1],e=n[2];return Math.sqrt(t*t+r*r+e*e)}const m=d;function v(n){const t=n[0],r=n[1],e=n[2];return t*t+r*r+e*e}const b=v;function p(n,t){const r=n[0]-t[0],e=n[1]-t[1],o=n[2]-t[2];return Math.sqrt(r*r+e*e+o*o)}const q=p;function y(n,t){const r=n[0]-t[0],e=n[1]-t[1],o=n[2]-t[2];return r*r+e*e+o*o}const A=y;function g(n,t){t=t||new o(3);const r=n[0],e=n[1],a=n[2],u=Math.sqrt(r*r+e*e+a*a);return u>1e-5?(t[0]=r/u,t[1]=e/u,t[2]=a/u):(t[0]=0,t[1]=0,t[2]=0),t}function x(n,t){return(t=t||new o(3))[0]=n[0],t[1]=n[1],t[2]=n[2],t}const F=x;function S(n,t,r){return(r=r||new o(3))[0]=n[0]*t[0],r[1]=n[1]*t[1],r[2]=n[2]*t[2],r}const _=S;function k(n,t,r){return(r=r||new o(3))[0]=n[0]/t[0],r[1]=n[1]/t[1],r[2]=n[2]/t[2],r}const T=k;var z=Object.freeze({__proto__:null,create:a,setDefaultType:function(n){const t=o;return o=n,t},fromValues:u,set:function(n,t,r,e){return(e=e||new o(3))[0]=n,e[1]=t,e[2]=r,e},ceil:function(n,t){return(t=t||new o(3))[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},floor:function(n,t){return(t=t||new o(3))[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},round:function(n,t){return(t=t||new o(3))[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},clamp:function(n,t=0,r=1,e){return(e=e||new o(3))[0]=Math.min(r,Math.max(t,n[0])),e[1]=Math.min(r,Math.max(t,n[1])),e[2]=Math.min(r,Math.max(t,n[2])),e},add:function(n,t,r){return(r=r||new o(3))[0]=n[0]+t[0],r[1]=n[1]+t[1],r[2]=n[2]+t[2],r},addScaled:function(n,t,r,e){return(e=e||new o(3))[0]=n[0]+t[0]*r,e[1]=n[1]+t[1]*r,e[2]=n[2]+t[2]*r,e},angle:function(n,t){const r=n[0],e=n[1],o=n[2],a=n[0],u=n[1],c=n[2],i=Math.sqrt(r*r+e*e+o*o)*Math.sqrt(a*a+u*u+c*c),s=i&&w(n,t)/i;return Math.acos(s)},subtract:c,sub:i,equalsApproximately:function(n,t){return Math.abs(n[0]-t[0])<e&&Math.abs(n[1]-t[1])<e&&Math.abs(n[2]-t[2])<e},equals:function(n,t){return n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]},lerp:function(n,t,r,e){return(e=e||new o(3))[0]=n[0]+r*(t[0]-n[0]),e[1]=n[1]+r*(t[1]-n[1]),e[2]=n[2]+r*(t[2]-n[2]),e},lerpV:function(n,t,r,e){return(e=e||new o(3))[0]=n[0]+r[0]*(t[0]-n[0]),e[1]=n[1]+r[1]*(t[1]-n[1]),e[2]=n[2]+r[2]*(t[2]-n[2]),e},max:function(n,t,r){return(r=r||new o(3))[0]=Math.max(n[0],t[0]),r[1]=Math.max(n[1],t[1]),r[2]=Math.max(n[2],t[2]),r},min:function(n,t,r){return(r=r||new o(3))[0]=Math.min(n[0],t[0]),r[1]=Math.min(n[1],t[1]),r[2]=Math.min(n[2],t[2]),r},mulScalar:s,scale:f,divScalar:function(n,t,r){return(r=r||new o(3))[0]=n[0]/t,r[1]=n[1]/t,r[2]=n[2]/t,r},inverse:h,invert:M,cross:l,dot:w,length:d,len:m,lengthSq:v,lenSq:b,distance:p,dist:q,distanceSq:y,distSq:A,normalize:g,negate:function(n,t){return(t=t||new o(3))[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},copy:x,clone:F,multiply:S,mul:_,divide:k,div:T,random:function(n=1,t){t=t||new o(3);const r=2*Math.random()*Math.PI,e=2*Math.random()-1,a=Math.sqrt(1-e*e)*n;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=e*n,t},zero:function(n){return(n=n||new o(3))[0]=0,n[1]=0,n[2]=0,n},transformMat4:function(n,t,r){r=r||new o(3);const e=n[0],a=n[1],u=n[2],c=t[3]*e+t[7]*a+t[11]*u+t[15]||1;return r[0]=(t[0]*e+t[4]*a+t[8]*u+t[12])/c,r[1]=(t[1]*e+t[5]*a+t[9]*u+t[13])/c,r[2]=(t[2]*e+t[6]*a+t[10]*u+t[14])/c,r},transformMat4Upper3x3:function(n,t,r){r=r||new o(3);const e=n[0],a=n[1],u=n[2];return r[0]=e*t[0]+a*t[4]+u*t[8],r[1]=e*t[1]+a*t[5]+u*t[9],r[2]=e*t[2]+a*t[6]+u*t[10],r},transformMat3:function(n,t,r){r=r||new o(3);const e=n[0],a=n[1],u=n[2];return r[0]=e*t[0]+a*t[4]+u*t[8],r[1]=e*t[1]+a*t[5]+u*t[9],r[2]=e*t[2]+a*t[6]+u*t[10],r},transformQuat:function(n,t,r){r=r||new o(3);const e=t[0],a=t[1],u=t[2],c=2*t[3],i=n[0],s=n[1],f=n[2],h=a*f-u*s,M=u*i-e*f,l=e*s-a*i;return r[0]=i+h*c+2*(a*l-u*M),r[1]=s+M*c+2*(u*h-e*l),r[2]=f+l*c+2*(e*M-a*h),r},getTranslation:function(n,t){return(t=t||new o(3))[0]=n[12],t[1]=n[13],t[2]=n[14],t},getAxis:function(n,t,r){const e=4*t;return(r=r||new o(3))[0]=n[e+0],r[1]=n[e+1],r[2]=n[e+2],r},getScaling:function(n,t){t=t||new o(3);const r=n[0],e=n[1],a=n[2],u=n[4],c=n[5],i=n[6],s=n[8],f=n[9],h=n[10];return t[0]=Math.sqrt(r*r+e*e+a*a),t[1]=Math.sqrt(u*u+c*c+i*i),t[2]=Math.sqrt(s*s+f*f+h*h),t}});let R=Float32Array;function j(n,t){return(t=t||new R(16))[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}const C=j;function D(n){return(n=n||new R(16))[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function I(n,t){t=t||new R(16);const r=n[0],e=n[1],o=n[2],a=n[3],u=n[4],c=n[5],i=n[6],s=n[7],f=n[8],h=n[9],M=n[10],l=n[11],w=n[12],d=n[13],m=n[14],v=n[15],b=M*v,p=m*l,q=i*v,y=m*s,A=i*l,g=M*s,x=o*v,F=m*a,S=o*l,_=M*a,k=o*s,T=i*a,z=f*d,j=w*h,C=u*d,D=w*c,I=u*h,O=f*c,P=r*d,Q=w*e,V=r*h,X=f*e,Y=r*c,Z=u*e,E=b*c+y*h+A*d-(p*c+q*h+g*d),U=p*e+x*h+_*d-(b*e+F*h+S*d),B=q*e+F*c+k*d-(y*e+x*c+T*d),G=g*e+S*c+T*h-(A*e+_*c+k*h),H=1/(r*E+u*U+f*B+w*G);return t[0]=H*E,t[1]=H*U,t[2]=H*B,t[3]=H*G,t[4]=H*(p*u+q*f+g*w-(b*u+y*f+A*w)),t[5]=H*(b*r+F*f+S*w-(p*r+x*f+_*w)),t[6]=H*(y*r+x*u+T*w-(q*r+F*u+k*w)),t[7]=H*(A*r+_*u+k*f-(g*r+S*u+T*f)),t[8]=H*(z*s+D*l+I*v-(j*s+C*l+O*v)),t[9]=H*(j*a+P*l+X*v-(z*a+Q*l+V*v)),t[10]=H*(C*a+Q*s+Y*v-(D*a+P*s+Z*v)),t[11]=H*(O*a+V*s+Z*l-(I*a+X*s+Y*l)),t[12]=H*(C*M+O*m+j*i-(I*m+z*i+D*M)),t[13]=H*(V*m+z*o+Q*M-(P*M+X*m+j*o)),t[14]=H*(P*i+Z*m+D*o-(Y*m+C*o+Q*i)),t[15]=H*(Y*M+I*o+X*i-(V*i+Z*M+O*o)),t}const O=I;function P(n,t,r){r=r||new R(16);const e=n[0],o=n[1],a=n[2],u=n[3],c=n[4],i=n[5],s=n[6],f=n[7],h=n[8],M=n[9],l=n[10],w=n[11],d=n[12],m=n[13],v=n[14],b=n[15],p=t[0],q=t[1],y=t[2],A=t[3],g=t[4],x=t[5],F=t[6],S=t[7],_=t[8],k=t[9],T=t[10],z=t[11],j=t[12],C=t[13],D=t[14],I=t[15];return r[0]=e*p+c*q+h*y+d*A,r[1]=o*p+i*q+M*y+m*A,r[2]=a*p+s*q+l*y+v*A,r[3]=u*p+f*q+w*y+b*A,r[4]=e*g+c*x+h*F+d*S,r[5]=o*g+i*x+M*F+m*S,r[6]=a*g+s*x+l*F+v*S,r[7]=u*g+f*x+w*F+b*S,r[8]=e*_+c*k+h*T+d*z,r[9]=o*_+i*k+M*T+m*z,r[10]=a*_+s*k+l*T+v*z,r[11]=u*_+f*k+w*T+b*z,r[12]=e*j+c*C+h*D+d*I,r[13]=o*j+i*C+M*D+m*I,r[14]=a*j+s*C+l*D+v*I,r[15]=u*j+f*C+w*D+b*I,r}const Q=P;let V,X,Y;function Z(n,t,r){r=r||new R(16);let e=n[0],o=n[1],a=n[2];const u=Math.sqrt(e*e+o*o+a*a);e/=u,o/=u,a/=u;const c=e*e,i=o*o,s=a*a,f=Math.cos(t),h=Math.sin(t),M=1-f;return r[0]=c+(1-c)*f,r[1]=e*o*M+a*h,r[2]=e*a*M-o*h,r[3]=0,r[4]=e*o*M-a*h,r[5]=i+(1-i)*f,r[6]=o*a*M+e*h,r[7]=0,r[8]=e*a*M+o*h,r[9]=o*a*M-e*h,r[10]=s+(1-s)*f,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}const E=Z;function U(n,t,r,e){e=e||new R(16);let o=t[0],a=t[1],u=t[2];const c=Math.sqrt(o*o+a*a+u*u);o/=c,a/=c,u/=c;const i=o*o,s=a*a,f=u*u,h=Math.cos(r),M=Math.sin(r),l=1-h,w=i+(1-i)*h,d=o*a*l+u*M,m=o*u*l-a*M,v=o*a*l-u*M,b=s+(1-s)*h,p=a*u*l+o*M,q=o*u*l+a*M,y=a*u*l-o*M,A=f+(1-f)*h,g=n[0],x=n[1],F=n[2],S=n[3],_=n[4],k=n[5],T=n[6],z=n[7],j=n[8],C=n[9],D=n[10],I=n[11];return e[0]=w*g+d*_+m*j,e[1]=w*x+d*k+m*C,e[2]=w*F+d*T+m*D,e[3]=w*S+d*z+m*I,e[4]=v*g+b*_+p*j,e[5]=v*x+b*k+p*C,e[6]=v*F+b*T+p*D,e[7]=v*S+b*z+p*I,e[8]=q*g+y*_+A*j,e[9]=q*x+y*k+A*C,e[10]=q*F+y*T+A*D,e[11]=q*S+y*z+A*I,n!==e&&(e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e}const B=U;var G=Object.freeze({__proto__:null,setDefaultType:function(n){const t=R;return R=n,t},create:function(n,t,r,e,o,a,u,c,i,s,f,h,M,l,w,d){const m=new R(16);return void 0!==n&&(m[0]=n,void 0!==t&&(m[1]=t,void 0!==r&&(m[2]=r,void 0!==e&&(m[3]=e,void 0!==o&&(m[4]=o,void 0!==a&&(m[5]=a,void 0!==u&&(m[6]=u,void 0!==c&&(m[7]=c,void 0!==i&&(m[8]=i,void 0!==s&&(m[9]=s,void 0!==f&&(m[10]=f,void 0!==h&&(m[11]=h,void 0!==M&&(m[12]=M,void 0!==l&&(m[13]=l,void 0!==w&&(m[14]=w,void 0!==d&&(m[15]=d)))))))))))))))),m},set:function(n,t,r,e,o,a,u,c,i,s,f,h,M,l,w,d,m){return(m=m||new R(16))[0]=n,m[1]=t,m[2]=r,m[3]=e,m[4]=o,m[5]=a,m[6]=u,m[7]=c,m[8]=i,m[9]=s,m[10]=f,m[11]=h,m[12]=M,m[13]=l,m[14]=w,m[15]=d,m},fromMat3:function(n,t){return(t=t||new R(16))[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=0,t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=0,t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromQuat:function(n,t){t=t||new R(16);const r=n[0],e=n[1],o=n[2],a=n[3],u=r+r,c=e+e,i=o+o,s=r*u,f=e*u,h=e*c,M=o*u,l=o*c,w=o*i,d=a*u,m=a*c,v=a*i;return t[0]=1-h-w,t[1]=f+v,t[2]=M-m,t[3]=0,t[4]=f-v,t[5]=1-s-w,t[6]=l+d,t[7]=0,t[8]=M+m,t[9]=l-d,t[10]=1-s-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},negate:function(n,t){return(t=t||new R(16))[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=-n[7],t[8]=-n[8],t[9]=-n[9],t[10]=-n[10],t[11]=-n[11],t[12]=-n[12],t[13]=-n[13],t[14]=-n[14],t[15]=-n[15],t},copy:j,clone:C,equalsApproximately:function(n,t){return Math.abs(n[0]-t[0])<e&&Math.abs(n[1]-t[1])<e&&Math.abs(n[2]-t[2])<e&&Math.abs(n[3]-t[3])<e&&Math.abs(n[4]-t[4])<e&&Math.abs(n[5]-t[5])<e&&Math.abs(n[6]-t[6])<e&&Math.abs(n[7]-t[7])<e&&Math.abs(n[8]-t[8])<e&&Math.abs(n[9]-t[9])<e&&Math.abs(n[10]-t[10])<e&&Math.abs(n[11]-t[11])<e&&Math.abs(n[12]-t[12])<e&&Math.abs(n[13]-t[13])<e&&Math.abs(n[14]-t[14])<e&&Math.abs(n[15]-t[15])<e},equals:function(n,t){return n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]&&n[3]===t[3]&&n[4]===t[4]&&n[5]===t[5]&&n[6]===t[6]&&n[7]===t[7]&&n[8]===t[8]&&n[9]===t[9]&&n[10]===t[10]&&n[11]===t[11]&&n[12]===t[12]&&n[13]===t[13]&&n[14]===t[14]&&n[15]===t[15]},identity:D,transpose:function(n,t){if((t=t||new R(16))===n){let r;return r=n[1],n[1]=n[4],n[4]=r,r=n[2],n[2]=n[8],n[8]=r,r=n[3],n[3]=n[12],n[12]=r,r=n[6],n[6]=n[9],n[9]=r,r=n[7],n[7]=n[13],n[13]=r,r=n[11],n[11]=n[14],n[14]=r,t}const r=n[0],e=n[1],o=n[2],a=n[3],u=n[4],c=n[5],i=n[6],s=n[7],f=n[8],h=n[9],M=n[10],l=n[11],w=n[12],d=n[13],m=n[14],v=n[15];return t[0]=r,t[1]=u,t[2]=f,t[3]=w,t[4]=e,t[5]=c,t[6]=h,t[7]=d,t[8]=o,t[9]=i,t[10]=M,t[11]=m,t[12]=a,t[13]=s,t[14]=l,t[15]=v,t},inverse:I,determinant:function(n){const t=n[0],r=n[1],e=n[2],o=n[3],a=n[4],u=n[5],c=n[6],i=n[7],s=n[8],f=n[9],h=n[10],M=n[11],l=n[12],w=n[13],d=n[14],m=n[15],v=h*m,b=d*M,p=c*m,q=d*i,y=c*M,A=h*i,g=e*m,x=d*o,F=e*M,S=h*o,_=e*i,k=c*o;return t*(v*u+q*f+y*w-(b*u+p*f+A*w))+a*(b*r+g*f+S*w-(v*r+x*f+F*w))+s*(p*r+x*u+_*w-(q*r+g*u+k*w))+l*(A*r+F*u+k*f-(y*r+S*u+_*f))},invert:O,multiply:P,mul:Q,setTranslation:function(n,t,r){return n!==(r=r||D())&&(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11]),r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r},getTranslation:function(n,t){return(t=t||a())[0]=n[12],t[1]=n[13],t[2]=n[14],t},getAxis:function(n,t,r){const e=4*t;return(r=r||a())[0]=n[e+0],r[1]=n[e+1],r[2]=n[e+2],r},setAxis:function(n,t,r,e){e!==n&&(e=j(n,e));const o=4*r;return e[o+0]=t[0],e[o+1]=t[1],e[o+2]=t[2],e},getScaling:function(n,t){t=t||a();const r=n[0],e=n[1],o=n[2],u=n[4],c=n[5],i=n[6],s=n[8],f=n[9],h=n[10];return t[0]=Math.sqrt(r*r+e*e+o*o),t[1]=Math.sqrt(u*u+c*c+i*i),t[2]=Math.sqrt(s*s+f*f+h*h),t},perspective:function(n,t,r,e,o){o=o||new R(16);const a=Math.tan(.5*Math.PI-.5*n);if(o[0]=a/t,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=a,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,e===1/0)o[10]=-1,o[14]=-r;else{const n=1/(r-e);o[10]=e*n,o[14]=e*r*n}return o},ortho:function(n,t,r,e,o,a,u){return(u=u||new R(16))[0]=2/(t-n),u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2/(e-r),u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1/(o-a),u[11]=0,u[12]=(t+n)/(n-t),u[13]=(e+r)/(r-e),u[14]=o/(o-a),u[15]=1,u},frustum:function(n,t,r,e,o,a,u){const c=t-n,i=e-r,s=o-a;return(u=u||new R(16))[0]=2*o/c,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2*o/i,u[6]=0,u[7]=0,u[8]=(n+t)/c,u[9]=(e+r)/i,u[10]=a/s,u[11]=-1,u[12]=0,u[13]=0,u[14]=o*a/s,u[15]=0,u},aim:function(n,t,r,e){return e=e||new R(16),V=V||a(),X=X||a(),Y=Y||a(),g(c(t,n,Y),Y),g(l(r,Y,V),V),g(l(Y,V,X),X),e[0]=V[0],e[1]=V[1],e[2]=V[2],e[3]=0,e[4]=X[0],e[5]=X[1],e[6]=X[2],e[7]=0,e[8]=Y[0],e[9]=Y[1],e[10]=Y[2],e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},cameraAim:function(n,t,r,e){return e=e||new R(16),V=V||a(),X=X||a(),Y=Y||a(),g(c(n,t,Y),Y),g(l(r,Y,V),V),g(l(Y,V,X),X),e[0]=V[0],e[1]=V[1],e[2]=V[2],e[3]=0,e[4]=X[0],e[5]=X[1],e[6]=X[2],e[7]=0,e[8]=Y[0],e[9]=Y[1],e[10]=Y[2],e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},lookAt:function(n,t,r,e){return e=e||new R(16),V=V||a(),X=X||a(),Y=Y||a(),g(c(n,t,Y),Y),g(l(r,Y,V),V),g(l(Y,V,X),X),e[0]=V[0],e[1]=X[0],e[2]=Y[0],e[3]=0,e[4]=V[1],e[5]=X[1],e[6]=Y[1],e[7]=0,e[8]=V[2],e[9]=X[2],e[10]=Y[2],e[11]=0,e[12]=-(V[0]*n[0]+V[1]*n[1]+V[2]*n[2]),e[13]=-(X[0]*n[0]+X[1]*n[1]+X[2]*n[2]),e[14]=-(Y[0]*n[0]+Y[1]*n[1]+Y[2]*n[2]),e[15]=1,e},translation:function(n,t){return(t=t||new R(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},translate:function(n,t,r){r=r||new R(16);const e=t[0],o=t[1],a=t[2],u=n[0],c=n[1],i=n[2],s=n[3],f=n[4],h=n[5],M=n[6],l=n[7],w=n[8],d=n[9],m=n[10],v=n[11],b=n[12],p=n[13],q=n[14],y=n[15];return n!==r&&(r[0]=u,r[1]=c,r[2]=i,r[3]=s,r[4]=f,r[5]=h,r[6]=M,r[7]=l,r[8]=w,r[9]=d,r[10]=m,r[11]=v),r[12]=u*e+f*o+w*a+b,r[13]=c*e+h*o+d*a+p,r[14]=i*e+M*o+m*a+q,r[15]=s*e+l*o+v*a+y,r},rotationX:function(n,t){t=t||new R(16);const r=Math.cos(n),e=Math.sin(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},rotateX:function(n,t,r){r=r||new R(16);const e=n[4],o=n[5],a=n[6],u=n[7],c=n[8],i=n[9],s=n[10],f=n[11],h=Math.cos(t),M=Math.sin(t);return r[4]=h*e+M*c,r[5]=h*o+M*i,r[6]=h*a+M*s,r[7]=h*u+M*f,r[8]=h*c-M*e,r[9]=h*i-M*o,r[10]=h*s-M*a,r[11]=h*f-M*u,n!==r&&(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r},rotationY:function(n,t){t=t||new R(16);const r=Math.cos(n),e=Math.sin(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},rotateY:function(n,t,r){r=r||new R(16);const e=n[0],o=n[1],a=n[2],u=n[3],c=n[8],i=n[9],s=n[10],f=n[11],h=Math.cos(t),M=Math.sin(t);return r[0]=h*e-M*c,r[1]=h*o-M*i,r[2]=h*a-M*s,r[3]=h*u-M*f,r[8]=h*c+M*e,r[9]=h*i+M*o,r[10]=h*s+M*a,r[11]=h*f+M*u,n!==r&&(r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r},rotationZ:function(n,t){t=t||new R(16);const r=Math.cos(n),e=Math.sin(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},rotateZ:function(n,t,r){r=r||new R(16);const e=n[0],o=n[1],a=n[2],u=n[3],c=n[4],i=n[5],s=n[6],f=n[7],h=Math.cos(t),M=Math.sin(t);return r[0]=h*e+M*c,r[1]=h*o+M*i,r[2]=h*a+M*s,r[3]=h*u+M*f,r[4]=h*c-M*e,r[5]=h*i-M*o,r[6]=h*s-M*a,r[7]=h*f-M*u,n!==r&&(r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r},axisRotation:Z,rotation:E,axisRotate:U,rotate:B,scaling:function(n,t){return(t=t||new R(16))[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},scale:function(n,t,r){r=r||new R(16);const e=t[0],o=t[1],a=t[2];return r[0]=e*n[0],r[1]=e*n[1],r[2]=e*n[2],r[3]=e*n[3],r[4]=o*n[4],r[5]=o*n[5],r[6]=o*n[6],r[7]=o*n[7],r[8]=a*n[8],r[9]=a*n[9],r[10]=a*n[10],r[11]=a*n[11],n!==r&&(r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r},uniformScaling:function(n,t){return(t=t||new R(16))[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},uniformScale:function(n,t,r){return(r=r||new R(16))[0]=t*n[0],r[1]=t*n[1],r[2]=t*n[2],r[3]=t*n[3],r[4]=t*n[4],r[5]=t*n[5],r[6]=t*n[6],r[7]=t*n[7],r[8]=t*n[8],r[9]=t*n[9],r[10]=t*n[10],r[11]=t*n[11],n!==r&&(r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r}});Float32Array,Float32Array}}]);