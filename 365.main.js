(()=>{var t,e,r={284:(t,e,r)=>{"use strict";var i=r(491),s=r(590),o=r(391),n=r.n(o),a=r(627);const l=n()("crystals"),c=(0,a.Cf)(l),h=(t,e)=>e[0]+e[1]*t[0]+e[2]*(t[0]*t[1]);class u{cache;size;noiseFunction;constructor(t,e){this.size=e,this.noiseFunction=t,this.cache=new Int16Array(e[0]*e[1]*e[2]);for(let i=0;i<e[0];i++)for(let s=0;s<e[1];s++)for(let o=0;o<e[2];o++){const n=h(e,[i,s,o]);this.cache[n]=(r=t(i,s,o),Math.floor(32767*r))}var r}get buffer(){return this.cache.buffer}get([t,e,r]){const i=h(this.size,[t,e,r]);return this.cache[i]/32767}}let f,d;const p={createOctreeAndReturnBytes:async(t,e,r)=>(d=new u(((e,r,i)=>((t,e,r,i=1,s=3,o=.5)=>{let n=0,a=0,l=1;for(let h=0;h<s;h++){const s=1<<h;a+=c(t*s*i,e*s*i,r*s*i)*l,n+=l,l*=o}return a/n})(e+t[0],r+t[1],i+t[2],.001,5)),e),f=new i.xV(((e,r,i)=>((t,e,r,i)=>{const s=(i+e)/128,o=function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}((d.get([t,e,r])+1)/2);return o>s?{red:0,green:255-128*l(),blue:0}:null})(e,r,i,t[1])),(()=>1),Math.max(...e),r),d=void 0,f.totalSizeBytes+i.ps)};(0,s.p)(p)},491:(t,e,r)=>{"use strict";r.d(e,{ps:()=>i,xV:()=>o});const i=8,s=t=>[1&t?1:0,2&t?1:0,4&t?1:0];class o{nodes;#t;#e;#r;#i;constructor(t,e,r,i){this.nodes=[],this.#t=0,this.#i=new DataView(i),this.#e=t,this.#r=e,this.#s(r,0,[0,0,0])}#o(t=8){return this.#t+=t,this.#t-(t-1)}#s(t,e,r){if(t<=this.#r(r[0],r[1],r[2])){const i=this.#e(r[0],r[1],r[2]),{red:s,green:o,blue:a}=i,l={red:s,green:o,blue:a,x:r[0],y:r[1],z:r[2],size:t};return void n(this.#i,e,l)}const i=Array.from({length:8},(()=>0)),o=(l=t,Math.pow(2,Math.ceil(Math.log2(l))));var l;const c=o/2;for(let t=0;t<8;t++){const e=s(t),o=r[0]+e[0]*c,n=r[1]+e[1]*c,a=r[2]+e[2]*c;for(let e=o;e<o+c;e++)for(let r=n;r<n+c;r++)for(let s=a;s<a+c;s++)this.#e(e,r,s)&&i[t]++}let h=0;const u=i.reduce(((t,e,r)=>e>0?(h=r+1,t|1<<r):t),0);if(i.reduce(((t,e)=>t+e),0)===o**3){const i=r.map((t=>t+o/2)),{red:s,green:a,blue:l}=this.#e(i[0],i[1],i[2]),c={red:s,green:a,blue:l,x:r[0],y:r[1],z:r[2],size:t};return void n(this.#i,e,c)}const f=this.#o(h),d=f-e;i.forEach(((t,e)=>{if(t){const t=f+e,i=s(e),o=r[0]+i[0]*c,n=r[1]+i[1]*c,a=r[2]+i[2]*c;this.#s(c,t,[o,n,a])}}));const p={firstChildIndex:d,childMask:u,x:r[0],y:r[1],z:r[2],size:o};a(this.#i,e,p)}get totalSizeBytes(){return this.#t*i}}const n=(t,e,r)=>{t.setUint8(e*i,0),t.setUint8(e*i+1,r.x),t.setUint8(e*i+2,r.y),t.setUint8(e*i+3,r.z),t.setUint8(e*i+4,r.red),t.setUint8(e*i+5,r.green),t.setUint8(e*i+6,r.blue),t.setUint8(e*i+7,Math.log2(r.size))},a=(t,e,r)=>{console.assert(r.firstChildIndex<2**24-1,`First child index of ${r.firstChildIndex} is too large to fit in 3 bytes`),console.assert(r.x<256,`X position of ${r.x} is too large to fit in 1 byte`),console.assert(r.y<256,`Y position of ${r.y} is too large to fit in 1 byte`),console.assert(r.z<256,`Z position of ${r.z} is too large to fit in 1 byte`),t.setUint8(e*i,r.childMask),t.setUint8(e*i+1,r.x),t.setUint8(e*i+2,r.y),t.setUint8(e*i+3,r.z),t.setUint32(e*i+4,r.firstChildIndex,!0),t.setUint8(e*i+7,Math.log2(r.size))}},234:()=>{}},i={};function s(t){var e=i[t];if(void 0!==e)return e.exports;var o=i[t]={id:t,loaded:!1,exports:{}};return r[t].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=r,s.x=()=>{var t=s.O(void 0,[974],(()=>s(284)));return s.O(t)},s.amdD=function(){throw new Error("define cannot be used indirect")},s.amdO={},t=[],s.O=(e,r,i,o)=>{if(!r){var n=1/0;for(h=0;h<t.length;h++){for(var[r,i,o]=t[h],a=!0,l=0;l<r.length;l++)(!1&o||n>=o)&&Object.keys(s.O).every((t=>s.O[t](r[l])))?r.splice(l--,1):(a=!1,o<n&&(n=o));if(a){t.splice(h--,1);var c=i();void 0!==c&&(e=c)}}return e}o=o||0;for(var h=t.length;h>0&&t[h-1][2]>o;h--)t[h]=t[h-1];t[h]=[r,i,o]},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce(((e,r)=>(s.f[r](t,e),e)),[])),s.u=t=>t+".main.js",s.miniCssF=t=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=r[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t})(),(()=>{var t={365:1};s.f.i=(e,r)=>{t[e]||importScripts(s.p+s.u(e))};var e=self.webpackChunksoulflame_webgpu=self.webpackChunksoulflame_webgpu||[],r=e.push.bind(e);e.push=e=>{var[i,o,n]=e;for(var a in o)s.o(o,a)&&(s.m[a]=o[a]);for(n&&n(s);i.length;)t[i.pop()]=1;r(e)}})(),e=s.x,s.x=()=>s.e(974).then(e),s.x()})();