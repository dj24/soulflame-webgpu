/*! For license information please see 381.app.js.LICENSE.txt */
(self.webpackChunksoulflame_webgpu=self.webpackChunksoulflame_webgpu||[]).push([[381],{391:(n,t,e)=>{var r=e(180),o=e(181),a=e(31),i=e(67),u=e(833),c=e(717),s=e(801);s.alea=r,s.xor128=o,s.xorwow=a,s.xorshift7=i,s.xor4096=u,s.tychei=c,n.exports=s},180:function(n,t,e){var r;!function(n,o,a){function i(n){var t,e=this,r=(t=4022871197,function(n){n=String(n);for(var e=0;e<n.length;e++){var r=.02519603282416938*(t+=n.charCodeAt(e));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});e.next=function(){var n=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=n-(e.c=0|n)},e.c=1,e.s0=r(" "),e.s1=r(" "),e.s2=r(" "),e.s0-=r(n),e.s0<0&&(e.s0+=1),e.s1-=r(n),e.s1<0&&(e.s1+=1),e.s2-=r(n),e.s2<0&&(e.s2+=1),r=null}function u(n,t){return t.c=n.c,t.s0=n.s0,t.s1=n.s1,t.s2=n.s2,t}function c(n,t){var e=new i(n),r=t&&t.state,o=e.next;return o.int32=function(){return 4294967296*e.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&u(r,e),o.state=function(){return u(e,{})}),o}o&&o.exports?o.exports=c:e.amdD&&e.amdO?void 0===(r=function(){return c}.call(t,e,t,o))||(o.exports=r):this.alea=c}(0,n=e.nmd(n),e.amdD)},717:function(n,t,e){var r;!function(n,o,a){function i(n){var t=this,e="";t.next=function(){var n=t.b,e=t.c,r=t.d,o=t.a;return n=n<<25^n>>>7^e,e=e-r|0,r=r<<24^r>>>8^o,o=o-n|0,t.b=n=n<<20^n>>>12^e,t.c=e=e-r|0,t.d=r<<16^e>>>16^o,t.a=o-n|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,n===Math.floor(n)?(t.a=n/4294967296|0,t.b=0|n):e+=n;for(var r=0;r<e.length+20;r++)t.b^=0|e.charCodeAt(r),t.next()}function u(n,t){return t.a=n.a,t.b=n.b,t.c=n.c,t.d=n.d,t}function c(n,t){var e=new i(n),r=t&&t.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var n=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},o.int32=e.next,o.quick=o,r&&("object"==typeof r&&u(r,e),o.state=function(){return u(e,{})}),o}o&&o.exports?o.exports=c:e.amdD&&e.amdO?void 0===(r=function(){return c}.call(t,e,t,o))||(o.exports=r):this.tychei=c}(0,n=e.nmd(n),e.amdD)},181:function(n,t,e){var r;!function(n,o,a){function i(n){var t=this,e="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var n=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^n^n>>>8},n===(0|n)?t.x=n:e+=n;for(var r=0;r<e.length+64;r++)t.x^=0|e.charCodeAt(r),t.next()}function u(n,t){return t.x=n.x,t.y=n.y,t.z=n.z,t.w=n.w,t}function c(n,t){var e=new i(n),r=t&&t.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var n=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},o.int32=e.next,o.quick=o,r&&("object"==typeof r&&u(r,e),o.state=function(){return u(e,{})}),o}o&&o.exports?o.exports=c:e.amdD&&e.amdO?void 0===(r=function(){return c}.call(t,e,t,o))||(o.exports=r):this.xor128=c}(0,n=e.nmd(n),e.amdD)},833:function(n,t,e){var r;!function(n,o,a){function i(n){var t=this;t.next=function(){var n,e,r=t.w,o=t.X,a=t.i;return t.w=r=r+1640531527|0,e=o[a+34&127],n=o[a=a+1&127],e^=e<<13,n^=n<<17,e^=e>>>15,n^=n>>>12,e=o[a]=e^n,t.i=a,e+(r^r>>>16)|0},function(n,t){var e,r,o,a,i,u=[],c=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,c=Math.max(c,t.length)),o=0,a=-32;a<c;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(i=i+1640531527|0,o=0==(e=u[127&a]^=r+i)?o+1:0);for(o>=128&&(u[127&(t&&t.length||0)]=-1),o=127,a=512;a>0;--a)r=u[o+34&127],e=u[o=o+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,u[o]=r^e;n.w=i,n.X=u,n.i=o}(t,n)}function u(n,t){return t.i=n.i,t.w=n.w,t.X=n.X.slice(),t}function c(n,t){null==n&&(n=+new Date);var e=new i(n),r=t&&t.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var n=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},o.int32=e.next,o.quick=o,r&&(r.X&&u(r,e),o.state=function(){return u(e,{})}),o}o&&o.exports?o.exports=c:e.amdD&&e.amdO?void 0===(r=function(){return c}.call(t,e,t,o))||(o.exports=r):this.xor4096=c}(0,n=e.nmd(n),e.amdD)},67:function(n,t,e){var r;!function(n,o,a){function i(n){var t=this;t.next=function(){var n,e,r=t.x,o=t.i;return n=r[o],e=(n^=n>>>7)^n<<24,e^=(n=r[o+1&7])^n>>>10,e^=(n=r[o+3&7])^n>>>3,e^=(n=r[o+4&7])^n<<7,n=r[o+7&7],e^=(n^=n<<13)^n<<9,r[o]=e,t.i=o+1&7,e},function(n,t){var e,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,e=0;e<t.length;++e)r[7&e]=r[7&e]<<15^t.charCodeAt(e)+r[e+1&7]<<13;for(;r.length<8;)r.push(0);for(e=0;e<8&&0===r[e];++e);for(8==e?r[7]=-1:r[e],n.x=r,n.i=0,e=256;e>0;--e)n.next()}(t,n)}function u(n,t){return t.x=n.x.slice(),t.i=n.i,t}function c(n,t){null==n&&(n=+new Date);var e=new i(n),r=t&&t.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var n=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},o.int32=e.next,o.quick=o,r&&(r.x&&u(r,e),o.state=function(){return u(e,{})}),o}o&&o.exports?o.exports=c:e.amdD&&e.amdO?void 0===(r=function(){return c}.call(t,e,t,o))||(o.exports=r):this.xorshift7=c}(0,n=e.nmd(n),e.amdD)},31:function(n,t,e){var r;!function(n,o,a){function i(n){var t=this,e="";t.next=function(){var n=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^n^n<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,n===(0|n)?t.x=n:e+=n;for(var r=0;r<e.length+64;r++)t.x^=0|e.charCodeAt(r),r==e.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function u(n,t){return t.x=n.x,t.y=n.y,t.z=n.z,t.w=n.w,t.v=n.v,t.d=n.d,t}function c(n,t){var e=new i(n),r=t&&t.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var n=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},o.int32=e.next,o.quick=o,r&&("object"==typeof r&&u(r,e),o.state=function(){return u(e,{})}),o}o&&o.exports?o.exports=c:e.amdD&&e.amdO?void 0===(r=function(){return c}.call(t,e,t,o))||(o.exports=r):this.xorwow=c}(0,n=e.nmd(n),e.amdD)},801:function(n,t,e){var r;!function(o,a,i){var u,c=256,s=i.pow(c,6),f=i.pow(2,52),l=2*f,h=c-1;function d(n,t,e){var r=[],h=x(w((t=1==t?{entropy:!0}:t||{}).entropy?[n,v(a)]:null==n?function(){try{var n;return u&&(n=u.randomBytes)?n=n(c):(n=new Uint8Array(c),(o.crypto||o.msCrypto).getRandomValues(n)),v(n)}catch(n){var t=o.navigator,e=t&&t.plugins;return[+new Date,o,e,o.screen,v(a)]}}():n,3),r),d=new p(r),y=function(){for(var n=d.g(6),t=s,e=0;n<f;)n=(n+e)*c,t*=c,e=d.g(1);for(;n>=l;)n/=2,t/=2,e>>>=1;return(n+e)/t};return y.int32=function(){return 0|d.g(4)},y.quick=function(){return d.g(4)/4294967296},y.double=y,x(v(d.S),a),(t.pass||e||function(n,t,e,r){return r&&(r.S&&m(r,d),n.state=function(){return m(d,{})}),e?(i.random=n,t):n})(y,h,"global"in t?t.global:this==i,t.state)}function p(n){var t,e=n.length,r=this,o=0,a=r.i=r.j=0,i=r.S=[];for(e||(n=[e++]);o<c;)i[o]=o++;for(o=0;o<c;o++)i[o]=i[a=h&a+n[o%e]+(t=i[o])],i[a]=t;(r.g=function(n){for(var t,e=0,o=r.i,a=r.j,i=r.S;n--;)t=i[o=h&o+1],e=e*c+i[h&(i[o]=i[a=h&a+t])+(i[a]=t)];return r.i=o,r.j=a,e})(c)}function m(n,t){return t.i=n.i,t.j=n.j,t.S=n.S.slice(),t}function w(n,t){var e,r=[],o=typeof n;if(t&&"object"==o)for(e in n)try{r.push(w(n[e],t-1))}catch(n){}return r.length?r:"string"==o?n:n+"\0"}function x(n,t){for(var e,r=n+"",o=0;o<r.length;)t[h&o]=h&(e^=19*t[h&o])+r.charCodeAt(o++);return v(t)}function v(n){return String.fromCharCode.apply(0,n)}if(x(i.random(),a),n.exports){n.exports=d;try{u=e(234)}catch(n){}}else void 0===(r=function(){return d}.call(t,e,t,n))||(n.exports=r)}("undefined"!=typeof self?self:this,[],Math)},590:(n,t,e)=>{"use strict";e.d(t,{p:()=>f});const r=Symbol("Comlink.proxy"),o=Symbol("Comlink.endpoint"),a=Symbol("Comlink.releaseProxy"),i=Symbol("Comlink.finalizer"),u=Symbol("Comlink.thrown"),c=n=>"object"==typeof n&&null!==n||"function"==typeof n,s=new Map([["proxy",{canHandle:n=>c(n)&&n[r],serialize(n){const{port1:t,port2:e}=new MessageChannel;return f(n,t),[e,[e]]},deserialize:n=>(n.start(),w(n,[],undefined))}],["throw",{canHandle:n=>c(n)&&u in n,serialize({value:n}){let t;return t=n instanceof Error?{isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:{isError:!1,value:n},[t,[]]},deserialize(n){if(n.isError)throw Object.assign(new Error(n.value.message),n.value);throw n.value}}]]);function f(n,t=globalThis,e=["*"]){t.addEventListener("message",(function o(a){if(!a||!a.data)return;if(!function(n,t){for(const e of n){if(t===e||"*"===e)return!0;if(e instanceof RegExp&&e.test(t))return!0}return!1}(e,a.origin))return void console.warn(`Invalid origin '${a.origin}' for comlink proxy`);const{id:c,type:s,path:h}=Object.assign({path:[]},a.data),d=(a.data.argumentList||[]).map(g);let p;try{const t=h.slice(0,-1).reduce(((n,t)=>n[t]),n),e=h.reduce(((n,t)=>n[t]),n);switch(s){case"GET":p=e;break;case"SET":t[h.slice(-1)[0]]=g(a.data.value),p=!0;break;case"APPLY":p=e.apply(t,d);break;case"CONSTRUCT":p=function(n){return Object.assign(n,{[r]:!0})}(new e(...d));break;case"ENDPOINT":{const{port1:t,port2:e}=new MessageChannel;f(n,e),p=function(n,t){return v.set(n,t),n}(t,[t])}break;case"RELEASE":p=void 0;break;default:return}}catch(n){p={value:n,[u]:0}}Promise.resolve(p).catch((n=>({value:n,[u]:0}))).then((e=>{const[r,a]=y(e);t.postMessage(Object.assign(Object.assign({},r),{id:c}),a),"RELEASE"===s&&(t.removeEventListener("message",o),l(t),i in n&&"function"==typeof n[i]&&n[i]())})).catch((n=>{const[e,r]=y({value:new TypeError("Unserializable return value"),[u]:0});t.postMessage(Object.assign(Object.assign({},e),{id:c}),r)}))})),t.start&&t.start()}function l(n){(function(n){return"MessagePort"===n.constructor.name})(n)&&n.close()}function h(n){if(n)throw new Error("Proxy has been released and is not useable")}function d(n){return M(n,{type:"RELEASE"}).then((()=>{l(n)}))}const p=new WeakMap,m="FinalizationRegistry"in globalThis&&new FinalizationRegistry((n=>{const t=(p.get(n)||0)-1;p.set(n,t),0===t&&d(n)}));function w(n,t=[],e=function(){}){let r=!1;const i=new Proxy(e,{get(e,o){if(h(r),o===a)return()=>{!function(n){m&&m.unregister(n)}(i),d(n),r=!0};if("then"===o){if(0===t.length)return{then:()=>i};const e=M(n,{type:"GET",path:t.map((n=>n.toString()))}).then(g);return e.then.bind(e)}return w(n,[...t,o])},set(e,o,a){h(r);const[i,u]=y(a);return M(n,{type:"SET",path:[...t,o].map((n=>n.toString())),value:i},u).then(g)},apply(e,a,i){h(r);const u=t[t.length-1];if(u===o)return M(n,{type:"ENDPOINT"}).then(g);if("bind"===u)return w(n,t.slice(0,-1));const[c,s]=x(i);return M(n,{type:"APPLY",path:t.map((n=>n.toString())),argumentList:c},s).then(g)},construct(e,o){h(r);const[a,i]=x(o);return M(n,{type:"CONSTRUCT",path:t.map((n=>n.toString())),argumentList:a},i).then(g)}});return function(n,t){const e=(p.get(t)||0)+1;p.set(t,e),m&&m.register(n,t,n)}(i,n),i}function x(n){const t=n.map(y);return[t.map((n=>n[0])),(e=t.map((n=>n[1])),Array.prototype.concat.apply([],e))];var e}const v=new WeakMap;function y(n){for(const[t,e]of s)if(e.canHandle(n)){const[r,o]=e.serialize(n);return[{type:"HANDLER",name:t,value:r},o]}return[{type:"RAW",value:n},v.get(n)||[]]}function g(n){switch(n.type){case"HANDLER":return s.get(n.name).deserialize(n.value);case"RAW":return n.value}}function M(n,t,e){return new Promise((r=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");n.addEventListener("message",(function t(e){e.data&&e.data.id&&e.data.id===o&&(n.removeEventListener("message",t),r(e.data))})),n.start&&n.start(),n.postMessage(Object.assign({id:o},t),e)}))}},627:(n,t,e)=>{"use strict";e.d(t,{Cf:()=>u});const r=1/3,o=1/6,a=n=>0|Math.floor(n),i=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function u(n=Math.random){const t=function(n){const t=512,e=new Uint8Array(t);for(let n=0;n<256;n++)e[n]=n;for(let t=0;t<255;t++){const r=t+~~(n()*(256-t)),o=e[t];e[t]=e[r],e[r]=o}for(let n=256;n<t;n++)e[n]=e[n-256];return e}(n),e=new Float64Array(t).map((n=>i[n%12*3])),u=new Float64Array(t).map((n=>i[n%12*3+1])),c=new Float64Array(t).map((n=>i[n%12*3+2]));return function(n,i,s){let f,l,h,d;const p=(n+i+s)*r,m=a(n+p),w=a(i+p),x=a(s+p),v=(m+w+x)*o,y=n-(m-v),g=i-(w-v),M=s-(x-v);let b,A,S,E,k,C;y>=g?g>=M?(b=1,A=0,S=0,E=1,k=1,C=0):y>=M?(b=1,A=0,S=0,E=1,k=0,C=1):(b=0,A=0,S=1,E=1,k=0,C=1):g<M?(b=0,A=0,S=1,E=0,k=1,C=1):y<M?(b=0,A=1,S=0,E=0,k=1,C=1):(b=0,A=1,S=0,E=1,k=1,C=0);const z=y-b+o,q=g-A+o,j=M-S+o,D=y-E+2*o,O=g-k+2*o,F=M-C+2*o,T=y-1+3*o,R=g-1+3*o,L=M-1+3*o,P=255&m,N=255&w,_=255&x;let U=.6-y*y-g*g-M*M;if(U<0)f=0;else{const n=P+t[N+t[_]];U*=U,f=U*U*(e[n]*y+u[n]*g+c[n]*M)}let X=.6-z*z-q*q-j*j;if(X<0)l=0;else{const n=P+b+t[N+A+t[_+S]];X*=X,l=X*X*(e[n]*z+u[n]*q+c[n]*j)}let H=.6-D*D-O*O-F*F;if(H<0)h=0;else{const n=P+E+t[N+k+t[_+C]];H*=H,h=H*H*(e[n]*D+u[n]*O+c[n]*F)}let I=.6-T*T-R*R-L*L;if(I<0)d=0;else{const n=P+1+t[N+1+t[_+1]];I*=I,d=I*I*(e[n]*T+u[n]*R+c[n]*L)}return 32*(f+l+h+d)}}},300:(n,t,e)=>{"use strict";e.d(t,{eR:()=>z});let r=1e-6;Float32Array;let o=Float32Array;function a(n,t,e){const r=new o(3);return void 0!==n&&(r[0]=n,void 0!==t&&(r[1]=t,void 0!==e&&(r[2]=e))),r}Float32Array;new Map([[Float32Array,()=>new Float32Array(12)],[Float64Array,()=>new Float64Array(12)],[Array,()=>new Array(12).fill(0)]]).get(Float32Array);const i=a;function u(n,t,e){return(e=e||new o(3))[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e}const c=u;function s(n,t,e){return(e=e||new o(3))[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e}const f=s;function l(n,t){return(t=t||new o(3))[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}const h=l;function d(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function p(n){const t=n[0],e=n[1],r=n[2];return Math.sqrt(t*t+e*e+r*r)}const m=p;function w(n){const t=n[0],e=n[1],r=n[2];return t*t+e*e+r*r}const x=w;function v(n,t){const e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return Math.sqrt(e*e+r*r+o*o)}const y=v;function g(n,t){const e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return e*e+r*r+o*o}const M=g;function b(n,t){return(t=t||new o(3))[0]=n[0],t[1]=n[1],t[2]=n[2],t}const A=b;function S(n,t,e){return(e=e||new o(3))[0]=n[0]*t[0],e[1]=n[1]*t[1],e[2]=n[2]*t[2],e}const E=S;function k(n,t,e){return(e=e||new o(3))[0]=n[0]/t[0],e[1]=n[1]/t[1],e[2]=n[2]/t[2],e}const C=k;var z=Object.freeze({__proto__:null,create:a,setDefaultType:function(n){const t=o;return o=n,t},fromValues:i,set:function(n,t,e,r){return(r=r||new o(3))[0]=n,r[1]=t,r[2]=e,r},ceil:function(n,t){return(t=t||new o(3))[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},floor:function(n,t){return(t=t||new o(3))[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},round:function(n,t){return(t=t||new o(3))[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},clamp:function(n,t=0,e=1,r){return(r=r||new o(3))[0]=Math.min(e,Math.max(t,n[0])),r[1]=Math.min(e,Math.max(t,n[1])),r[2]=Math.min(e,Math.max(t,n[2])),r},add:function(n,t,e){return(e=e||new o(3))[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e},addScaled:function(n,t,e,r){return(r=r||new o(3))[0]=n[0]+t[0]*e,r[1]=n[1]+t[1]*e,r[2]=n[2]+t[2]*e,r},angle:function(n,t){const e=n[0],r=n[1],o=n[2],a=n[0],i=n[1],u=n[2],c=Math.sqrt(e*e+r*r+o*o)*Math.sqrt(a*a+i*i+u*u),s=c&&d(n,t)/c;return Math.acos(s)},subtract:u,sub:c,equalsApproximately:function(n,t){return Math.abs(n[0]-t[0])<r&&Math.abs(n[1]-t[1])<r&&Math.abs(n[2]-t[2])<r},equals:function(n,t){return n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]},lerp:function(n,t,e,r){return(r=r||new o(3))[0]=n[0]+e*(t[0]-n[0]),r[1]=n[1]+e*(t[1]-n[1]),r[2]=n[2]+e*(t[2]-n[2]),r},lerpV:function(n,t,e,r){return(r=r||new o(3))[0]=n[0]+e[0]*(t[0]-n[0]),r[1]=n[1]+e[1]*(t[1]-n[1]),r[2]=n[2]+e[2]*(t[2]-n[2]),r},max:function(n,t,e){return(e=e||new o(3))[0]=Math.max(n[0],t[0]),e[1]=Math.max(n[1],t[1]),e[2]=Math.max(n[2],t[2]),e},min:function(n,t,e){return(e=e||new o(3))[0]=Math.min(n[0],t[0]),e[1]=Math.min(n[1],t[1]),e[2]=Math.min(n[2],t[2]),e},mulScalar:s,scale:f,divScalar:function(n,t,e){return(e=e||new o(3))[0]=n[0]/t,e[1]=n[1]/t,e[2]=n[2]/t,e},inverse:l,invert:h,cross:function(n,t,e){e=e||new o(3);const r=n[2]*t[0]-n[0]*t[2],a=n[0]*t[1]-n[1]*t[0];return e[0]=n[1]*t[2]-n[2]*t[1],e[1]=r,e[2]=a,e},dot:d,length:p,len:m,lengthSq:w,lenSq:x,distance:v,dist:y,distanceSq:g,distSq:M,normalize:function(n,t){t=t||new o(3);const e=n[0],r=n[1],a=n[2],i=Math.sqrt(e*e+r*r+a*a);return i>1e-5?(t[0]=e/i,t[1]=r/i,t[2]=a/i):(t[0]=0,t[1]=0,t[2]=0),t},negate:function(n,t){return(t=t||new o(3))[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},copy:b,clone:A,multiply:S,mul:E,divide:k,div:C,random:function(n=1,t){t=t||new o(3);const e=2*Math.random()*Math.PI,r=2*Math.random()-1,a=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*a,t[1]=Math.sin(e)*a,t[2]=r*n,t},zero:function(n){return(n=n||new o(3))[0]=0,n[1]=0,n[2]=0,n},transformMat4:function(n,t,e){e=e||new o(3);const r=n[0],a=n[1],i=n[2],u=t[3]*r+t[7]*a+t[11]*i+t[15]||1;return e[0]=(t[0]*r+t[4]*a+t[8]*i+t[12])/u,e[1]=(t[1]*r+t[5]*a+t[9]*i+t[13])/u,e[2]=(t[2]*r+t[6]*a+t[10]*i+t[14])/u,e},transformMat4Upper3x3:function(n,t,e){e=e||new o(3);const r=n[0],a=n[1],i=n[2];return e[0]=r*t[0]+a*t[4]+i*t[8],e[1]=r*t[1]+a*t[5]+i*t[9],e[2]=r*t[2]+a*t[6]+i*t[10],e},transformMat3:function(n,t,e){e=e||new o(3);const r=n[0],a=n[1],i=n[2];return e[0]=r*t[0]+a*t[4]+i*t[8],e[1]=r*t[1]+a*t[5]+i*t[9],e[2]=r*t[2]+a*t[6]+i*t[10],e},transformQuat:function(n,t,e){e=e||new o(3);const r=t[0],a=t[1],i=t[2],u=2*t[3],c=n[0],s=n[1],f=n[2],l=a*f-i*s,h=i*c-r*f,d=r*s-a*c;return e[0]=c+l*u+2*(a*d-i*h),e[1]=s+h*u+2*(i*l-r*d),e[2]=f+d*u+2*(r*h-a*l),e},getTranslation:function(n,t){return(t=t||new o(3))[0]=n[12],t[1]=n[13],t[2]=n[14],t},getAxis:function(n,t,e){const r=4*t;return(e=e||new o(3))[0]=n[r+0],e[1]=n[r+1],e[2]=n[r+2],e},getScaling:function(n,t){t=t||new o(3);const e=n[0],r=n[1],a=n[2],i=n[4],u=n[5],c=n[6],s=n[8],f=n[9],l=n[10];return t[0]=Math.sqrt(e*e+r*r+a*a),t[1]=Math.sqrt(i*i+u*u+c*c),t[2]=Math.sqrt(s*s+f*f+l*l),t}});Float32Array,Float32Array,Float32Array}}]);