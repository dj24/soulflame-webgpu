(()=>{var t={698:(t,o,e)=>{"use strict";e.r(o)},687:(t,o,e)=>{"use strict";e.r(o),e.d(o,{MotionValue:()=>r,ScrollOffset:()=>Gt,animate:()=>To,animateStyle:()=>G,createAnimate:()=>lt,createMotionState:()=>vo,createStyleString:()=>Mo,createStyles:()=>xo,getAnimationData:()=>s,getStyleName:()=>L,glide:()=>Vt,inView:()=>Ft,mountedStates:()=>wo,resize:()=>Lt,scroll:()=>ro,spring:()=>It,stagger:()=>ut,style:()=>j,timeline:()=>bt,withControls:()=>Z});var n=function(){};class r{setAnimation(t){this.animation=t,null==t||t.finished.then((()=>this.clearAnimation())).catch((()=>{}))}clearAnimation(){this.animation=this.generator=void 0}}const i=new WeakMap;function s(t){return i.has(t)||i.set(t,{transforms:[],values:new Map}),i.get(t)}const a=()=>{},u=t=>t;function c(t,o){-1===t.indexOf(o)&&t.push(o)}function l(t,o){const e=t.indexOf(o);e>-1&&t.splice(e,1)}const p=["","X","Y","Z"],h={x:"translateX",y:"translateY",z:"translateZ"},d={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},f={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:d,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:u},skew:d},m=new Map,_=t=>`--motion-${t}`,y=["x","y","z"];["translate","scale","rotate","skew"].forEach((t=>{p.forEach((o=>{y.push(t+o),m.set(_(t+o),f[t])}))}));const g=(t,o)=>y.indexOf(t)-y.indexOf(o),w=new Set(y),v=t=>w.has(t),x=(t,o)=>{h[o]&&(o=h[o]);const{transforms:e}=s(t);c(e,o),t.style.transform=b(e)},b=t=>t.sort(g).reduce(k,"").trim(),k=(t,o)=>`${t} ${o}(var(${_(o)}))`,M=t=>t.startsWith("--"),A=new Set,E={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},T=t=>"object"==typeof t&&Boolean(t.createAnimation),S=t=>"function"==typeof t,O=t=>"number"==typeof t,z=t=>Array.isArray(t)&&!O(t[0]),I={ms:t=>1e3*t,s:t=>t/1e3},V=(t,o,e)=>o-t==0?1:(e-t)/(o-t),q=t=>Array.isArray(t)&&O(t[0]),F=(t,o)=>document.createElement("div").animate(t,o),P={cssRegisterProperty:()=>"undefined"!=typeof CSS&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{F({opacity:[1]})}catch(t){return!1}return!0},finished:()=>Boolean(F({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{F({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0}},B={},U={};for(const t in P)U[t]=()=>(void 0===B[t]&&(B[t]=P[t]()),B[t]);const D=(t,o)=>S(t)?U.linearEasing()?`linear(${((t,o)=>{let e="";const n=Math.round(o/.015);for(let o=0;o<n;o++)e+=t(V(0,n-1,o))+", ";return e.substring(0,e.length-2)})(t,o)})`:E.easing:q(t)?N(t):t,N=([t,o,e,n])=>`cubic-bezier(${t}, ${o}, ${e}, ${n})`,C=t=>Array.isArray(t)?t:[t];function L(t){return h[t]&&(t=h[t]),v(t)?_(t):t}const j={get:(t,o)=>{o=L(o);let e=M(o)?t.style.getPropertyValue(o):getComputedStyle(t)[o];if(!e&&0!==e){const t=m.get(o);t&&(e=t.initialValue)}return e},set:(t,o,e)=>{o=L(o),M(o)?t.style.setProperty(o,e):t.style[o]=e}};function R(t,o=!0){if(t&&"finished"!==t.playState)try{t.stop?t.stop():(o&&t.commitStyles(),t.cancel())}catch(t){}}const $=t=>"string"==typeof t;function W(t,o){var e;let n=(null==o?void 0:o.toDefaultUnit)||u;const r=t[t.length-1];if($(r)){const t=(null===(e=r.match(/(-?[\d.]+)([a-z%]*)/))||void 0===e?void 0:e[2])||"";t&&(n=o=>o+t)}return n}function G(t,o,e,n={},i){const u=window.__MOTION_DEV_TOOLS_RECORD,c=!1!==n.record&&u;let l,{duration:p=E.duration,delay:h=E.delay,endDelay:d=E.endDelay,repeat:f=E.repeat,easing:_=E.easing,persist:y=!1,direction:g,offset:w,allowWebkitAcceleration:b=!1}=n;const k=s(t),V=v(o);let q=U.waapi();V&&x(t,o);const F=L(o),P=function(t,o){return t.has(o)||t.set(o,new r),t.get(o)}(k.values,F),B=m.get(F);return R(P.animation,!(T(_)&&P.generator)&&!1!==n.record),()=>{const r=()=>{var o,e;return null!==(e=null!==(o=j.get(t,F))&&void 0!==o?o:null==B?void 0:B.initialValue)&&void 0!==e?e:0};let s=function(t,o){for(let e=0;e<t.length;e++)null===t[e]&&(t[e]=e?t[e-1]:o());return t}(C(e),r);const v=W(s,B);if(T(_)){const t=_.createAnimation(s,"opacity"!==o,r,F,P);_=t.easing,s=t.keyframes||s,p=t.duration||p}if(M(F)&&(U.cssRegisterProperty()?function(t){if(!A.has(t)){A.add(t);try{const{syntax:o,initialValue:e}=m.has(t)?m.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:o,initialValue:e})}catch(t){}}}(F):q=!1),V&&!U.linearEasing()&&(S(_)||z(_)&&_.some(S))&&(q=!1),q){B&&(s=s.map((t=>O(t)?B.toDefaultUnit(t):t))),1!==s.length||U.partialKeyframes()&&!c||s.unshift(r());const o={delay:I.ms(h),duration:I.ms(p),endDelay:I.ms(d),easing:z(_)?void 0:D(_,p),direction:g,iterations:f+1,fill:"both"};l=t.animate({[F]:s,offset:w,easing:z(_)?_.map((t=>D(t,p))):void 0},o),l.finished||(l.finished=new Promise(((t,o)=>{l.onfinish=t,l.oncancel=o})));const e=s[s.length-1];l.finished.then((()=>{y||(j.set(t,F,e),l.cancel())})).catch(a),b||(l.playbackRate=1.000001)}else if(i&&V)s=s.map((t=>"string"==typeof t?parseFloat(t):t)),1===s.length&&s.unshift(parseFloat(r())),l=new i((o=>{j.set(t,F,v?v(o):o)}),s,Object.assign(Object.assign({},n),{duration:p,easing:_}));else{const o=s[s.length-1];j.set(t,F,B&&O(o)?B.toDefaultUnit(o):o)}return c&&u(t,o,s,{duration:p,delay:h,easing:_,repeat:f,offset:w},"motion-one"),P.setAnimation(l),l}}const H=(t,o)=>t[o]?Object.assign(Object.assign({},t),t[o]):Object.assign({},t);function Y(t,o){var e;return"string"==typeof t?o?(null!==(e=o[t])&&void 0!==e||(o[t]=document.querySelectorAll(t)),t=o[t]):t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const X=t=>t(),Z=(t,o,e=E.duration)=>new Proxy({animations:t.map(X).filter(Boolean),duration:e,options:o},K),K={get:(t,o)=>{const e=t.animations[0];switch(o){case"duration":return t.duration;case"currentTime":return I.s((null==e?void 0:e[o])||0);case"playbackRate":case"playState":return null==e?void 0:e[o];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(Q)).catch(a)),t.finished;case"stop":return()=>{t.animations.forEach((t=>R(t)))};case"forEachNative":return o=>{t.animations.forEach((e=>o(e,t)))};default:return void 0===(null==e?void 0:e[o])?void 0:()=>t.animations.forEach((t=>t[o]()))}},set:(t,o,e)=>{switch(o){case"currentTime":e=I.ms(e);case"playbackRate":for(let n=0;n<t.animations.length;n++)t.animations[n][o]=e;return!0}return!1}},Q=t=>t.finished,J=(t,o,e)=>(((1-3*e+3*o)*t+(3*e-6*o))*t+3*o)*t,tt=1e-7,ot=12;function et(t,o,e,n){if(t===o&&e===n)return u;return r=>0===r||1===r?r:J(function(t,o,e,n,r){let i,s,a=0;do{s=o+(e-o)/2,i=J(s,n,r)-t,i>0?e=s:o=s}while(Math.abs(i)>tt&&++a<ot);return s}(r,0,1,t,e),o,n)}const nt=(t,o,e)=>Math.min(Math.max(e,t),o),rt=(t,o="end")=>e=>{const n=(e="end"===o?Math.min(e,.999):Math.max(e,.001))*t,r="end"===o?Math.floor(n):Math.ceil(n);return nt(0,1,r/t)},it={ease:et(.25,.1,.25,1),"ease-in":et(.42,0,1,1),"ease-in-out":et(.42,0,.58,1),"ease-out":et(0,0,.58,1)},st=/\((.*?)\)/;function at(t){if(S(t))return t;if(q(t))return et(...t);if(it[t])return it[t];if(t.startsWith("steps")){const o=st.exec(t);if(o){const t=o[1].split(",");return rt(parseFloat(t[0]),t[1].trim())}}return u}function ut(t=.1,{start:o=0,from:e=0,easing:n}={}){return(r,i)=>{const s=O(e)?e:function(t,o){if("first"===t)return 0;{const e=o-1;return"last"===t?e:e/2}}(e,i),a=Math.abs(s-r);let u=t*a;if(n){const o=i*t;u=at(n)(u/o)*o}return o+u}}function ct(t,o,e){return S(t)?t(o,e):t}function lt(t){return function(o,e,r={}){const i=(o=Y(o)).length;n(Boolean(i),"No valid element provided."),n(Boolean(e),"No keyframes defined.");const s=[];for(let n=0;n<i;n++){const a=o[n];for(const o in e){const u=H(r,o);u.delay=ct(u.delay,n,i);const c=G(a,o,e[o],u,t);s.push(c)}}return Z(s,r,r.duration)}}function pt(t,o){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&o.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)o.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(e[n[r]]=t[n[r]])}return e}Object.create,Object.create;const ht=(t,o,e)=>-e*t+e*o+t;function dt(t,o){const e=t[t.length-1];for(let n=1;n<=o;n++){const r=V(0,o,n);t.push(ht(e,1,r))}}function ft(t){const o=[0];return dt(o,t-1),o}function mt(t,o,e,n){var r;return O(o)?o:o.startsWith("-")||o.startsWith("+")?Math.max(0,t+parseFloat(o)):"<"===o?e:null!==(r=n.get(o))&&void 0!==r?r:t}const _t=(t,o,e)=>{const n=o-t;return((e-t)%n+n)%n+t};function yt(t,o){return z(t)?t[_t(0,t.length,o)]:t}function gt(t,o,e,n,r,i){!function(t,o,e){for(let n=0;n<t.length;n++){const r=t[n];r.at>o&&r.at<e&&(l(t,r),n--)}}(t,r,i);for(let s=0;s<o.length;s++)t.push({value:o[s],at:ht(r,i,n[s]),easing:yt(e,s)})}function wt(t,o){return t.at===o.at?null===t.value?1:-1:t.at-o.at}function vt(t,o=ft(t.length),e=u){const n=t.length,r=n-o.length;return r>0&&dt(o,r),r=>{let i=0;for(;i<n-2&&!(r<o[i+1]);i++);let s=nt(0,1,V(o[i],o[i+1],r));return s=yt(e,i)(s),ht(t[i],t[i+1],s)}}class xt{constructor(t,o=[0,1],{easing:e,duration:n=E.duration,delay:r=E.delay,endDelay:i=E.endDelay,repeat:s=E.repeat,offset:a,direction:c="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=u,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise(((t,o)=>{this.resolve=t,this.reject=o})),e=e||E.easing,T(e)){const t=e.createAnimation(o);e=t.easing,o=t.keyframes||o,n=t.duration||n}this.repeat=s,this.easing=z(e)?u:at(e),this.updateDuration(n);const l=vt(o,a,z(e)?e.map(at):u);this.tick=o=>{var e;let n=0;n=void 0!==this.pauseTime?this.pauseTime:(o-this.startTime)*this.rate,this.t=n,n/=1e3,n=Math.max(n-r,0),"finished"===this.playState&&void 0===this.pauseTime&&(n=this.totalDuration);const s=n/this.duration;let a=Math.floor(s),u=s%1;!u&&s>=1&&(u=1),1===u&&a--;const p=a%2;("reverse"===c||"alternate"===c&&p||"alternate-reverse"===c&&!p)&&(u=1-u);const h=n>=this.totalDuration?1:Math.min(u,1),d=l(this.easing(h));t(d),void 0===this.pauseTime&&("finished"===this.playState||n>=this.totalDuration+i)?(this.playState="finished",null===(e=this.resolve)||void 0===e||e.call(this,d)):"idle"!==this.playState&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const t=performance.now();this.playState="running",void 0!==this.pauseTime?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",void 0!==this.frameRequestId&&cancelAnimationFrame(this.frameRequestId),null===(t=this.reject)||void 0===t||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){void 0!==this.pauseTime||0===this.rate?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}function bt(t,o={}){var e;const r=function(t,o={}){var{defaultOptions:e={}}=o,r=pt(o,["defaultOptions"]);const i=[],s=new Map,a={},u=new Map;let c=0,l=0,p=0;for(let o=0;o<t.length;o++){const r=t[o];if($(r)){u.set(r,l);continue}if(!Array.isArray(r)){u.set(r.name,mt(l,r.at,c,u));continue}const[i,f,m={}]=r;void 0!==m.at&&(l=mt(l,m.at,c,u));let _=0;const y=Y(i,a),g=y.length;for(let t=0;t<g;t++){const o=(h=y[t],!(d=s).has(h)&&d.set(h,{}),d.get(h));for(const r in f){const i=kt(r,o);let s=C(f[r]);const a=H(m,r);let{duration:u=e.duration||E.duration,easing:c=e.easing||E.easing}=a;if(T(c)){n("opacity"===r||s.length>1,"spring must be provided 2 keyframes within timeline()");const t=c.createAnimation(s,"opacity"!==r,(()=>0),r);c=t.easing,s=t.keyframes||s,u=t.duration||u}const h=ct(m.delay,t,g)||0,d=l+h,y=d+u;let{offset:w=ft(s.length)}=a;1===w.length&&0===w[0]&&(w[1]=1);const v=w.length-s.length;v>0&&dt(w,v),1===s.length&&s.unshift(null),gt(i,s,c,w,d,y),_=Math.max(h+u,_),p=Math.max(y,p)}}c=l,l+=_}var h,d;return s.forEach(((t,o)=>{for(const n in t){const s=t[n];s.sort(wt);const a=[],u=[],c=[];for(let t=0;t<s.length;t++){const{at:o,value:e,easing:n}=s[t];a.push(e),u.push(V(0,p,o)),c.push(n||E.easing)}0!==u[0]&&(u.unshift(0),a.unshift(a[0]),c.unshift("linear")),1!==u[u.length-1]&&(u.push(1),a.push(null)),i.push([o,n,a,Object.assign(Object.assign(Object.assign({},e),{duration:p,easing:c,offset:u}),r)])}})),i}(t,o),i=r.map((t=>G(...t,xt))).filter(Boolean);return Z(i,o,null===(e=r[0])||void 0===e?void 0:e[3].duration)}function kt(t,o){return o[t]||(o[t]=[]),o[t]}function Mt(t,o){return o?t*(1e3/o):0}const At=5;function Et(t,o,e){const n=Math.max(o-At,0);return Mt(e-t(n),o-n)}const Tt=({stiffness:t=100,damping:o=10,mass:e=1,from:n=0,to:r=1,velocity:i=0,restSpeed:s,restDistance:a}={})=>{i=i?I.s(i):0;const u={done:!1,hasReachedTarget:!1,current:n,target:r},c=r-n,l=Math.sqrt(t/e)/1e3,p=((t=100,o=10,e=1)=>o/(2*Math.sqrt(t*e)))(t,o,e),h=Math.abs(c)<5;let d;if(s||(s=h?.01:2),a||(a=h?.005:.5),p<1){const t=l*Math.sqrt(1-p*p);d=o=>r-Math.exp(-p*l*o)*((p*l*c-i)/t*Math.sin(t*o)+c*Math.cos(t*o))}else d=t=>r-Math.exp(-l*t)*(c+(l*c-i)*t);return t=>{u.current=d(t);const o=0===t?i:Et(d,t,u.current),e=Math.abs(o)<=s,c=Math.abs(r-u.current)<=a;var l,p,h;return u.done=e&&c,u.hasReachedTarget=(l=n,p=r,h=u.current,l<p&&h>=p||l>p&&h<=p),u}};function St(t){return O(t)&&!isNaN(t)}function Ot(t){return $(t)?parseFloat(t):t}function zt(t){const o=new WeakMap;return(e={})=>{const n=new Map,r=(o=0,r=100,i=0,s=!1)=>{const a=`${o}-${r}-${i}-${s}`;return n.has(a)||n.set(a,t(Object.assign({from:o,to:r,velocity:i},e))),n.get(a)},i=(t,e)=>(o.has(t)||o.set(t,function(t,o=u){let e,n=10,r=t(0);const i=[o(r.current)];for(;!r.done&&n<1e4;)r=t(n),i.push(o(r.done?r.target:r.current)),void 0===e&&r.hasReachedTarget&&(e=n),n+=10;const s=n-10;return 1===i.length&&i.push(r.current),{keyframes:i,duration:s/1e3,overshootDuration:(null!=e?e:s)/1e3}}(t,e)),o.get(t));return{createAnimation:(t,o=!0,e,n,s)=>{let a,c,l,p=0,h=u;const d=t.length;if(o)if(h=W(t,n?m.get(L(n)):void 0),l=Ot(t[d-1]),d>1&&null!==t[0])c=Ot(t[0]);else{const t=null==s?void 0:s.generator;if(t){const{animation:o,generatorStartTime:e}=s,n=(null==o?void 0:o.startTime)||e||0,r=(null==o?void 0:o.currentTime)||performance.now()-n,i=t(r).current;c=i,p=Et((o=>t(o).current),r,i)}else e&&(c=Ot(e()))}if(St(c)&&St(l)){const t=r(c,l,p,null==n?void 0:n.includes("scale"));a=Object.assign(Object.assign({},i(t,h)),{easing:"linear"}),s&&(s.generator=t,s.generatorStartTime=performance.now())}return a||(a={easing:"ease",duration:i(r(0,100)).overshootDuration}),a}}}}const It=zt(Tt),Vt=zt((({from:t=0,velocity:o=0,power:e=.8,decay:n=.325,bounceDamping:r,bounceStiffness:i,changeTarget:s,min:a,max:u,restDistance:c=.5,restSpeed:l})=>{n=I.ms(n);const p={hasReachedTarget:!1,done:!1,current:t,target:t},h=t=>void 0===a?u:void 0===u||Math.abs(a-t)<Math.abs(u-t)?a:u;let d=e*o;const f=t+d,m=void 0===s?f:s(f);p.target=m,m!==f&&(d=m-t);const _=t=>-d*Math.exp(-t/n),y=t=>m+_(t),g=t=>{const o=_(t),e=y(t);p.done=Math.abs(o)<=c,p.current=p.done?m:e};let w,v;const x=t=>{var o;o=p.current,(void 0!==a&&o<a||void 0!==u&&o>u)&&(w=t,v=Tt({from:p.current,to:h(p.current),velocity:Et(y,t,p.current),damping:r,stiffness:i,restDistance:c,restSpeed:l}))};return x(0),t=>{let o=!1;return v||void 0!==w||(o=!0,g(t),x(t)),void 0!==w&&t>w?(p.hasReachedTarget=!0,v(t-w)):(p.hasReachedTarget=!1,!o&&g(t),p)}})),qt={any:0,all:1};function Ft(t,o,{root:e,margin:n,amount:r="any"}={}){if("undefined"==typeof IntersectionObserver)return()=>{};const i=Y(t),s=new WeakMap,a=new IntersectionObserver((t=>{t.forEach((t=>{const e=s.get(t.target);if(t.isIntersecting!==Boolean(e))if(t.isIntersecting){const e=o(t);S(e)?s.set(t.target,e):a.unobserve(t.target)}else e&&(e(t),s.delete(t.target))}))}),{root:e,rootMargin:n,threshold:"number"==typeof r?r:qt[r]});return i.forEach((t=>a.observe(t))),()=>a.disconnect()}const Pt=new WeakMap;let Bt;function Ut({target:t,contentRect:o,borderBoxSize:e}){var n;null===(n=Pt.get(t))||void 0===n||n.forEach((n=>{n({target:t,contentSize:o,get size(){return function(t,o){if(o){const{inlineSize:t,blockSize:e}=o[0];return{width:t,height:e}}return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}(t,e)}})}))}function Dt(t){t.forEach(Ut)}const Nt=new Set;let Ct;function Lt(t,o){return S(t)?(e=t,Nt.add(e),Ct||(Ct=()=>{const t={width:window.innerWidth,height:window.innerHeight},o={target:window,size:t,contentSize:t};Nt.forEach((t=>t(o)))},window.addEventListener("resize",Ct)),()=>{Nt.delete(e),!Nt.size&&Ct&&(Ct=void 0)}):function(t,o){Bt||"undefined"!=typeof ResizeObserver&&(Bt=new ResizeObserver(Dt));const e=Y(t);return e.forEach((t=>{let e=Pt.get(t);e||(e=new Set,Pt.set(t,e)),e.add(o),null==Bt||Bt.observe(t)})),()=>{e.forEach((t=>{const e=Pt.get(t);null==e||e.delete(o),(null==e?void 0:e.size)||null==Bt||Bt.unobserve(t)}))}}(t,o);var e}const jt=50,Rt=()=>({time:0,x:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0},y:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}}),$t={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Wt(t,o,e,n){const r=e[o],{length:i,position:s}=$t[o],a=r.current,u=e.time;r.current=t["scroll"+s],r.scrollLength=t["scroll"+i]-t["client"+i],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=V(0,r.scrollLength,r.current);const c=n-u;r.velocity=c>jt?0:Mt(r.current-a,c)}const Gt={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Ht={start:0,center:.5,end:1};function Yt(t,o,e=0){let n=0;if(void 0!==Ht[t]&&(t=Ht[t]),$(t)){const o=parseFloat(t);t.endsWith("px")?n=o:t.endsWith("%")?t=o/100:t.endsWith("vw")?n=o/100*document.documentElement.clientWidth:t.endsWith("vh")?n=o/100*document.documentElement.clientHeight:t=o}return O(t)&&(n=o*t),e+n}const Xt=[0,0];function Zt(t,o,e,n){let r=Array.isArray(t)?t:Xt,i=0,s=0;return O(t)?r=[t,t]:$(t)&&(r=(t=t.trim()).includes(" ")?t.split(" "):[t,Ht[t]?t:"0"]),i=Yt(r[0],e,n),s=Yt(r[1],o),i-s}const Kt={x:0,y:0};function Qt(t,o,e,n={}){const r=n.axis||"y";return{measure:()=>function(t,o=t,e){if(e.x.targetOffset=0,e.y.targetOffset=0,o!==t){let n=o;for(;n&&n!=t;)e.x.targetOffset+=n.offsetLeft,e.y.targetOffset+=n.offsetTop,n=n.offsetParent}e.x.targetLength=o===t?o.scrollWidth:o.clientWidth,e.y.targetLength=o===t?o.scrollHeight:o.clientHeight,e.x.containerLength=t.clientWidth,e.y.containerLength=t.clientHeight}(t,n.target,e),update:o=>{!function(t,o,e){Wt(t,"x",o,e),Wt(t,"y",o,e),o.time=e}(t,e,o),(n.offset||n.target)&&function(t,o,e){let{offset:n=Gt.All}=e;const{target:r=t,axis:i="y"}=e,s="y"===i?"height":"width",a=r!==t?function(t,o){let e={x:0,y:0},n=t;for(;n&&n!==o;)if(n instanceof HTMLElement)e.x+=n.offsetLeft,e.y+=n.offsetTop,n=n.offsetParent;else if(n instanceof SVGGraphicsElement&&"getBBox"in n){const{top:t,left:o}=n.getBBox();for(e.x+=o,e.y+=t;n&&"svg"!==n.tagName;)n=n.parentNode}return e}(r,t):Kt,u=r===t?{width:t.scrollWidth,height:t.scrollHeight}:{width:r.clientWidth,height:r.clientHeight},c={width:t.clientWidth,height:t.clientHeight};o[i].offset.length=0;let l=!o[i].interpolate;const p=n.length;for(let t=0;t<p;t++){const e=Zt(n[t],c[s],u[s],a[i]);l||e===o[i].interpolatorOffsets[t]||(l=!0),o[i].offset[t]=e}l&&(o[i].interpolate=vt(ft(p),o[i].offset),o[i].interpolatorOffsets=[...o[i].offset]),o[i].progress=o[i].interpolate(o[i].current)}(t,e,n)},notify:S(o)?()=>o(e):Jt(o,e[r])}}function Jt(t,o){return t.pause(),t.forEachNative(((t,{easing:o})=>{var e,n;if(t.updateDuration)o||(t.easing=u),t.updateDuration(1);else{const r={duration:1e3};o||(r.easing="linear"),null===(n=null===(e=t.effect)||void 0===e?void 0:e.updateTiming)||void 0===n||n.call(e,r)}})),()=>{t.currentTime=o.progress}}const to=new WeakMap,oo=new WeakMap,eo=new WeakMap,no=t=>t===document.documentElement?window:t;function ro(t,o={}){var{container:e=document.documentElement}=o,n=pt(o,["container"]);let r=eo.get(e);r||(r=new Set,eo.set(e,r));const i=Rt(),s=Qt(e,t,i,n);if(r.add(s),!to.has(e)){const t=()=>{const t=performance.now();for(const t of r)t.measure();for(const o of r)o.update(t);for(const t of r)t.notify()};to.set(e,t);const o=no(e);window.addEventListener("resize",t,{passive:!0}),e!==document.documentElement&&oo.set(e,Lt(e,t)),o.addEventListener("scroll",t,{passive:!0})}const a=to.get(e),u=requestAnimationFrame(a);return()=>{var o;"function"!=typeof t&&t.stop(),cancelAnimationFrame(u);const n=eo.get(e);if(!n)return;if(n.delete(s),n.size)return;const r=to.get(e);to.delete(e),r&&(no(e).removeEventListener("scroll",r),null===(o=oo.get(e))||void 0===o||o(),window.removeEventListener("resize",r))}}function io(t,o){return function(t){return"object"==typeof t}(t)?t:t&&o?o[t]:void 0}let so;function ao(){if(!so)return;const t=so.sort(co).map(lo);t.forEach(po),t.forEach(po),so=void 0}function uo(t){so?c(so,t):(so=[t],requestAnimationFrame(ao))}const co=(t,o)=>t.getDepth()-o.getDepth(),lo=t=>t.animateUpdates(),po=t=>t.next(),ho=(t,o)=>new CustomEvent(t,{detail:{target:o}});function fo(t,o,e){t.dispatchEvent(new CustomEvent(o,{detail:{originalEvent:e}}))}function mo(t,o,e){t.dispatchEvent(new CustomEvent(o,{detail:{originalEntry:e}}))}const _o=(t,o,e)=>n=>{n.pointerType&&"mouse"!==n.pointerType||(e(),fo(t,o,n))},yo={inView:{isActive:t=>Boolean(t.inView),subscribe:(t,{enable:o,disable:e},{inViewOptions:n={}})=>{const{once:r}=n,i=pt(n,["once"]);return Ft(t,(n=>{if(o(),mo(t,"viewenter",n),!r)return o=>{e(),mo(t,"viewleave",o)}}),i)}},hover:{isActive:t=>Boolean(t.hover),subscribe:(t,{enable:o,disable:e})=>{const n=_o(t,"hoverstart",o),r=_o(t,"hoverend",e);return t.addEventListener("pointerenter",n),t.addEventListener("pointerleave",r),()=>{t.removeEventListener("pointerenter",n),t.removeEventListener("pointerleave",r)}}},press:{isActive:t=>Boolean(t.press),subscribe:(t,{enable:o,disable:e})=>{const n=o=>{e(),fo(t,"pressend",o),window.removeEventListener("pointerup",n)},r=e=>{o(),fo(t,"pressstart",e),window.addEventListener("pointerup",n)};return t.addEventListener("pointerdown",r),()=>{t.removeEventListener("pointerdown",r),window.removeEventListener("pointerup",n)}}}},go=["initial","animate",...Object.keys(yo),"exit"],wo=new WeakMap;function vo(t={},o){let e,r=o?o.getDepth()+1:0;const i={initial:!0,animate:!0},s={},u={};for(const e of go)u[e]="string"==typeof t[e]?t[e]:null==o?void 0:o.getContext()[e];const c=!1===t.initial?"animate":"initial";let p=pt(io(t[c]||u[c],t.variants)||{},["transition"]);const h=Object.assign({},p),d=(t,o)=>()=>{i[t]=o,uo(m)},f=()=>{for(const o in yo){const n=yo[o].isActive(t),r=s[o];n&&!r?s[o]=yo[o].subscribe(e,{enable:d(o,!0),disable:d(o,!1)},t):!n&&r&&(r(),delete s[o])}},m={update:o=>{e&&(t=o,f(),uo(m))},setActive:(t,o)=>{e&&(i[t]=o,uo(m))},animateUpdates:function*(){var o,n;const r=p;p={};const s={};for(const e of go){if(!i[e])continue;const r=io(t[e]);if(r)for(const e in r)"transition"!==e&&(p[e]=r[e],s[e]=H(null!==(n=null!==(o=r.transition)&&void 0!==o?o:t.transition)&&void 0!==n?n:{},e))}const u=new Set([...Object.keys(p),...Object.keys(r)]),c=[];u.forEach((t=>{var o,n,i;void 0===p[t]&&(p[t]=h[t]),typeof(n=r[t])==typeof(i=p[t])&&(Array.isArray(n)&&Array.isArray(i)?function(t,o){const e=o.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(o[n]!==t[n])return!1;return!0}(n,i):n===i)||(null!==(o=h[t])&&void 0!==o||(h[t]=j.get(e,t)),c.push(G(e,t,p[t],s[t],xt)))})),yield;const l=c.map((t=>t())).filter(Boolean);if(!l.length)return;const d=p;e.dispatchEvent(ho("motionstart",d)),Promise.all(l.map((t=>t.finished))).then((()=>{e.dispatchEvent(ho("motioncomplete",d))})).catch(a)},getDepth:()=>r,getTarget:()=>p,getOptions:()=>t,getContext:()=>u,mount:t=>(n(Boolean(t),"Animation state must be mounted with valid Element"),e=t,wo.set(e,m),f(),()=>{wo.delete(e),function(t){so&&l(so,t)}(m);for(const t in s)s[t]()}),isMounted:()=>Boolean(e)};return m}function xo(t){const o={},e=[];for(let n in t){const r=t[n];v(n)&&(h[n]&&(n=h[n]),e.push(n),n=_(n));let i=Array.isArray(r)?r[0]:r;const s=m.get(n);s&&(i=O(r)?s.toDefaultUnit(r):r),o[n]=i}return e.length&&(o.transform=b(e)),o}const bo=t=>`-${t.toLowerCase()}`,ko=t=>t.replace(/[A-Z]/g,bo);function Mo(t={}){const o=xo(t);let e="";for(const t in o)e+=t.startsWith("--")?t:ko(t),e+=`: ${o[t]}; `;return e}const Ao=lt(xt);function Eo(t,o={}){return Z([()=>{const e=new xt(t,[0,1],o);return e.finished.catch((()=>{})),e}],o,o.duration)}function To(t,o,e){return(S(t)?Eo:Ao)(t,o,e)}},752:function(t,o,e){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.camera=o.deltaTime=o.elapsedTime=o.translateX=o.scale=o.resolution=o.canvas=o.gpuContext=o.device=void 0;const r=n(e(144)),i=e(768),s=e(608),a=e(830),u=e(562);e(698);const c=e(687),l=e(416),p=e(100),h=n(e(402)),d=n(e(509));o.resolution=l.vec2.zero();let f=1;o.scale=1,o.translateX=0;const m=performance.now();o.elapsedTime=m,o.deltaTime=0;const _=l.vec3.create(120,120,120),y=l.vec3.normalize(l.vec3.create(-1,-1,-1));o.camera=new a.Camera({fieldOfView:82.5,position:l.vec3.create(120,0,120),direction:l.vec3.normalize(l.vec3.create(-1,0,-1))});const g=()=>{const t=_,e=o.camera.position,n=y,r=o.camera.direction,i=o.camera.fieldOfView,s=o.scale,a=o.translateX;(0,c.animate)((u=>{o.camera.position=l.vec3.add(e,l.vec3.mulScalar(l.vec3.subtract(t,e),u)),o.camera.direction=l.vec3.add(r,l.vec3.mulScalar(l.vec3.subtract(n,r),u)),o.camera.fieldOfView=i+(82.5-i)*u,o.scale=s+(1-s)*u,o.translateX=a+(0-a)*u}),{easing:(0,c.spring)({restDistance:1e-4,damping:40,stiffness:700,mass:2})})};g(),window.addEventListener("resetcamera",g);const w=new u.DebugUI;let v;window.addEventListener("changefov",(t=>{o.camera.fieldOfView=parseFloat(t.detail)})),window.addEventListener("changetranslate",(t=>{o.translateX=parseFloat(t.detail)})),window.addEventListener("changescale",(t=>{o.scale=parseFloat(t.detail)}));void 0!==navigator.gpu?navigator.gpu.requestAdapter().then((t=>{t.requestDevice().then((t=>{o.device=t,console.log(o.device.limits),console.log({treeModel:h.default,miniViking:d.default});const e=(0,s.createComputePass)();((t,e)=>{let n,s,u,c,h,d;o.canvas=document.getElementById("webgpu-canvas"),o.gpuContext=o.canvas.getContext("webgpu");const _=navigator.gpu.getPreferredCanvasFormat();o.gpuContext.configure({device:t,format:_,usage:GPUTextureUsage.RENDER_ATTACHMENT});const y=t.createShaderModule({code:r.default}),g=t.createRenderPipeline({layout:"auto",vertex:{module:y,entryPoint:"vertex_main"},fragment:{module:y,entryPoint:"fragment_main",targets:[{format:_}]}}),x=()=>{cancelAnimationFrame(u),b()},b=()=>{const{clientWidth:t,clientHeight:n}=o.canvas.parentElement;let r=Math.min(window.devicePixelRatio,1.5);o.resolution=l.vec2.create(t*r,n*r),d=l.vec2.mulScalar(o.resolution,1/f),o.canvas.width=o.resolution[0],o.canvas.height=o.resolution[1],o.canvas.style.transform=`scale(${1/r})`,e.forEach((t=>{t.start()})),u=requestAnimationFrame(k)},k=async()=>{const r=performance.now()-m;o.deltaTime=r-o.elapsedTime,o.elapsedTime=r,(0,a.moveCamera)(),o.camera.update(),w.log(`Position: ${o.camera.position[0].toFixed(0)}, ${o.camera.position[1].toFixed(0)}, ${o.camera.position[2].toFixed(0)}\n    Resolution: ${d[0].toFixed(0)}x${d[1].toFixed(0)}\n    FPS: ${(1e3/o.deltaTime).toFixed(1)}\n    `);const f=t.createCommandEncoder();c?(0,i.writeToUniformBuffer)(c,[o.elapsedTime]):c=(0,i.createUniformBuffer)([o.elapsedTime]),h?(0,i.writeToUniformBuffer)(h,[d[0],d[1]]):h=(0,i.createUniformBuffer)([d[0],d[1]]);const _=(s&&s.destroy(),s=t.createTexture({size:[d[0],d[1],1],format:"rgba8unorm",usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.STORAGE_BINDING}),s.createView());e.forEach((t=>{let e=l.mat4.identity();l.mat4.translate(e,[o.translateX,0,0],e),l.mat4.translate(e,[32,32,32],e),l.mat4.rotateY(e,1e-4*performance.now(),e),l.mat4.scale(e,[o.scale,o.scale,o.scale],e),l.mat4.translate(e,[-32,-32,-32],e),l.mat4.invert(e,e);let n=new p.VoxelObject(e,[64,64,64]),r=new p.VoxelObject(l.mat4.identity(),[128,48,128]);document.getElementById("matrix").innerHTML=e.reduce(((t,o)=>`${t}<span>${o.toFixed(1)}</span>`),""),t.render({commandEncoder:f,resolutionBuffer:h,outputTextureView:_,voxelObjects:[n,r]})})),(({commandEncoder:e,outputTextureView:r})=>{const i=e.beginRenderPass({colorAttachments:[{view:o.gpuContext.getCurrentTexture().createView(),loadOp:"clear",clearValue:[.3,.3,.3,1],storeOp:"store"}]});n=t.createBindGroup({layout:g.getBindGroupLayout(0),entries:[{binding:0,resource:t.createSampler({magFilter:"linear",minFilter:"linear"})},{binding:1,resource:r}]}),i.setPipeline(g),i.setBindGroup(0,n),i.draw(6),i.end()})({commandEncoder:f,outputTextureView:_}),t.queue.submit([f.finish()]),u=requestAnimationFrame(k)},M=new ResizeObserver(x);v=t=>{f=t.detail,x()},window.addEventListener("changedownscale",v),M.observe(o.canvas.parentElement)})(o.device,[e])}))})):console.error("WebGPU not supported")},768:(t,o,e)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.createFloatUniformBuffer=o.writeToFloatUniformBuffer=o.createUniformBuffer=o.writeToUniformBuffer=void 0;const n=e(752);o.writeToUniformBuffer=(t,o)=>{const e=new Uint32Array(o);n.device.queue.writeBuffer(t,0,e.buffer,0,o.length*Uint32Array.BYTES_PER_ELEMENT)},o.createUniformBuffer=(t,e)=>{const r=new Uint32Array(t),i=n.device.createBuffer({size:r.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,label:e});return(0,o.writeToUniformBuffer)(i,t),i},o.writeToFloatUniformBuffer=(t,o)=>{const e=new Float32Array(o);n.device.queue.writeBuffer(t,0,e.buffer,0,o.length*Float32Array.BYTES_PER_ELEMENT)},o.createFloatUniformBuffer=(t,e)=>{const r=new Float32Array(t),i=n.device.createBuffer({size:r.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,label:e});return(0,o.writeToFloatUniformBuffer)(i,t),i}},830:(t,o,e)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.moveCamera=o.Camera=void 0;const n=e(752),r=e(718),i=e(224),s=e(416),a=new r.KeyboardControls;class u extends i.MoveableObject{fieldOfView;direction;near=.1;far=1e6;constructor(t){super({position:t.position}),this.fieldOfView=t.fieldOfView,this.direction=t.direction}get right(){return s.vec3.normalize(s.vec3.cross(s.vec3.create(0,1,0),this.direction))}get left(){return s.vec3.negate(this.right)}get up(){return s.vec3.normalize(s.vec3.cross(this.direction,this.right))}get down(){return s.vec3.negate(this.up)}rotateX(t){}rotateY(t){}}o.Camera=u,o.moveCamera=()=>{if(!document.hasFocus())return;let t=s.vec3.zero();a.pressed.a&&(t=s.vec3.add(t,n.camera.left)),a.pressed.d&&(t=s.vec3.add(t,n.camera.right)),a.pressed.w&&(t=s.vec3.add(t,n.camera.direction)),a.pressed.s&&(t=s.vec3.subtract(t,n.camera.direction)),a.pressed[" "]&&(t=s.vec3.add(t,n.camera.up)),a.pressed.Control&&(t=s.vec3.add(t,n.camera.down)),t=s.vec3.normalize(t),n.camera.velocity=s.vec3.add(n.camera.velocity,s.vec3.mulScalar(t,.01))}},608:function(t,o,e){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.createComputePass=void 0;const r=n(e(961)),i=n(e(693)),s=e(768),a=e(752),u=e(416),c=e(262),l=n(e(509));o.createComputePass=()=>{let t,o;return{start:async()=>{o=a.device.createComputePipeline({layout:"auto",compute:{module:a.device.createShaderModule({code:`\n          ${i.default}${r.default}`}),entryPoint:"main"}}),t=await(0,c.create3dTexture)(a.device,l.default.sliceFilePaths,l.default.scale)},render:({commandEncoder:t,resolutionBuffer:e,outputTextureView:n,voxelObjects:r})=>{const i=(t=>{const o=a.resolution[0]/a.resolution[1],e=t.fieldOfView/2,n=Math.tan(e),r=u.vec3.normalize(u.vec3.cross(u.vec3.create(0,1,0),t.direction)),i=u.vec3.normalize(u.vec3.cross(t.direction,r)),s=u.vec3.mulScalar(i,n);return[u.vec3.add(u.vec3.add(t.direction,s),u.vec3.mulScalar(r,-o*n)),u.vec3.add(u.vec3.add(t.direction,s),u.vec3.mulScalar(r,o*n)),u.vec3.add(u.vec3.subtract(t.direction,s),u.vec3.mulScalar(r,-o*n)),u.vec3.add(u.vec3.subtract(t.direction,s),u.vec3.mulScalar(r,o*n))]})(a.camera).flatMap((t=>[...t,0])),c=(0,s.createFloatUniformBuffer)(i,"frustum corner directions"),l=(0,s.createFloatUniformBuffer)(a.camera.position,"camera position"),p=(0,s.createFloatUniformBuffer)(r.flatMap((t=>t.toArray())),"voxel object"),h=t.beginComputePass();h.setPipeline(o);const d=a.device.createBindGroup({layout:o.getBindGroupLayout(0),entries:[{binding:0,resource:n},{binding:2,resource:{buffer:e}},{binding:3,resource:{buffer:c}},{binding:4,resource:{buffer:l}},{binding:5,resource:{buffer:p}}]});h.setBindGroup(0,d),h.dispatchWorkgroups(Math.ceil(a.resolution[0]/8),Math.ceil(a.resolution[1]/8)),h.end()}}}},262:(t,o,e)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.create3dTexture=void 0;const n=e(453);o.create3dTexture=async(t,o,e)=>{const[r,i,s]=e,a=t.createTexture({size:{width:r,height:i,depthOrArrayLayers:s},format:"rgba8unorm",usage:GPUTextureUsage.COPY_DST});console.log({size:e,paths:o});const u=t.createCommandEncoder();for(let e=0;e<s;e++){const r=await(0,n.createTextureFromImage)(t,o[e]);t.createCommandEncoder().copyTextureToTexture({texture:r,mipLevel:0,origin:{x:0,y:0,z:0}},{texture:a,mipLevel:0,origin:{x:0,y:0,z:e}},{width:a.width,height:a.height,depthOrArrayLayers:1})}return t.queue.submit([u.finish()]),a}},718:(t,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.KeyboardControls=void 0,o.KeyboardControls=class{pressed={w:!1,a:!1,s:!1,d:!1," ":!1,Control:!1};constructor(){window.addEventListener("keydown",(t=>{const o=t.key.toLowerCase();this.pressed[o]=!0})),window.addEventListener("keyup",(t=>{const o=t.key.toLowerCase();this.pressed[o]=!1}))}}},224:(t,o,e)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MoveableObject=void 0;const n=e(752),r=e(416);o.MoveableObject=class{position;targetPosition;velocity;constructor(t){this.position=t.position,this.targetPosition=this.position,this.velocity=r.vec3.zero()}update(){n.camera.velocity=r.vec3.mulScalar(n.camera.velocity,1-.015*n.deltaTime),this.position=r.vec3.add(this.position,r.vec3.mulScalar(this.velocity,n.deltaTime))}}},562:(t,o,e)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DebugUI=void 0;const n=e(752);o.DebugUI=class{logElement;constructor(){document.getElementById("reset").addEventListener("click",(t=>{window.dispatchEvent(new CustomEvent("resetcamera")),document.getElementById("captures").innerHTML=""})),document.getElementById("capture").addEventListener("click",(t=>{const o=new Image;o.id=performance.now().toString(),o.src=n.canvas.toDataURL(),document.getElementById("captures").appendChild(o).addEventListener("click",(t=>{t.target,console.log(t.target)}))})),["downscale","fov","scale","translate"].forEach((t=>{document.getElementById(t).addEventListener("input",(o=>{const e=o.target;window.dispatchEvent(new CustomEvent(`change${t}`,{detail:e.value}))}))})),this.logElement=document.getElementById("log")}log(t){this.logElement.innerText=t}}},100:(t,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.VoxelObject=void 0,o.VoxelObject=class{transform;size;constructor(t,o){this.transform=t,this.size=o}toArray(){return[...this.transform,...this.size,0]}}},402:t=>{t.exports={scale:[32,32,32],normalisedPivot:[.5,0,.5],bounds:{min:[6,0,7],max:[24,28,25]},voxels:[{position:[6,3,19],colour:[36,82,17,255]},{position:[6,5,14],colour:[36,82,17,255]},{position:[7,3,19],colour:[36,82,17,255]},{position:[7,5,14],colour:[36,82,17,255]},{position:[7,5,17],colour:[36,82,17,255]},{position:[7,6,20],colour:[36,82,17,255]},{position:[7,8,18],colour:[36,82,17,255]},{position:[8,3,19],colour:[36,82,17,255]},{position:[8,4,12],colour:[36,82,17,255]},{position:[8,4,19],colour:[36,82,17,255]},{position:[8,5,12],colour:[36,82,17,255]},{position:[8,5,13],colour:[36,82,17,255]},{position:[8,5,14],colour:[36,82,17,255]},{position:[8,5,17],colour:[36,82,17,255]},{position:[8,6,17],colour:[36,82,17,255]},{position:[8,6,20],colour:[36,82,17,255]},{position:[8,6,23],colour:[36,82,17,255]},{position:[8,7,11],colour:[36,82,17,255]},{position:[8,7,12],colour:[36,82,17,255]},{position:[8,8,17],colour:[36,82,17,255]},{position:[8,8,18],colour:[36,82,17,255]},{position:[8,10,14],colour:[36,82,17,255]},{position:[8,11,19],colour:[36,82,17,255]},{position:[9,4,19],colour:[36,82,17,255]},{position:[9,5,14],colour:[36,82,17,255]},{position:[9,6,14],colour:[36,82,17,255]},{position:[9,6,15],colour:[36,82,17,255]},{position:[9,6,16],colour:[36,82,17,255]},{position:[9,6,17],colour:[36,82,17,255]},{position:[9,6,20],colour:[36,82,17,255]},{position:[9,6,21],colour:[36,82,17,255]},{position:[9,6,22],colour:[36,82,17,255]},{position:[9,6,23],colour:[36,82,17,255]},{position:[9,7,12],colour:[36,82,17,255]},{position:[9,7,13],colour:[36,82,17,255]},{position:[9,7,16],colour:[36,82,17,255]},{position:[9,8,10],colour:[36,82,17,255]},{position:[9,8,16],colour:[36,82,17,255]},{position:[9,8,18],colour:[36,82,17,255]},{position:[9,8,19],colour:[36,82,17,255]},{position:[9,8,20],colour:[36,82,17,255]},{position:[9,9,20],colour:[36,82,17,255]},{position:[9,10,14],colour:[36,82,17,255]},{position:[9,10,17],colour:[36,82,17,255]},{position:[9,11,19],colour:[36,82,17,255]},{position:[9,13,13],colour:[36,82,17,255]},{position:[9,13,14],colour:[36,82,17,255]},{position:[9,13,21],colour:[36,82,17,255]},{position:[9,14,19],colour:[36,82,17,255]},{position:[10,3,21],colour:[36,82,17,255]},{position:[10,3,22],colour:[36,82,17,255]},{position:[10,3,23],colour:[36,82,17,255]},{position:[10,4,18],colour:[36,82,17,255]},{position:[10,4,19],colour:[36,82,17,255]},{position:[10,4,20],colour:[36,82,17,255]},{position:[10,4,21],colour:[36,82,17,255]},{position:[10,6,10],colour:[36,82,17,255]},{position:[10,6,11],colour:[36,82,17,255]},{position:[10,6,12],colour:[36,82,17,255]},{position:[10,6,15],colour:[36,82,17,255]},{position:[10,6,21],colour:[36,82,17,255]},{position:[10,6,22],colour:[36,82,17,255]},{position:[10,7,12],colour:[36,82,17,255]},{position:[10,7,13],colour:[36,82,17,255]},{position:[10,8,10],colour:[36,82,17,255]},{position:[10,8,18],colour:[36,82,17,255]},{position:[10,10,14],colour:[36,82,17,255]},{position:[10,10,15],colour:[36,82,17,255]},{position:[10,10,17],colour:[36,82,17,255]},{position:[10,10,21],colour:[36,82,17,255]},{position:[10,10,22],colour:[36,82,17,255]},{position:[10,11,17],colour:[36,82,17,255]},{position:[10,11,18],colour:[36,82,17,255]},{position:[10,11,19],colour:[36,82,17,255]},{position:[10,11,20],colour:[36,82,17,255]},{position:[10,11,21],colour:[36,82,17,255]},{position:[10,13,14],colour:[36,82,17,255]},{position:[10,13,19],colour:[36,82,17,255]},{position:[10,13,20],colour:[36,82,17,255]},{position:[10,13,21],colour:[36,82,17,255]},{position:[10,14,18],colour:[36,82,17,255]},{position:[10,14,19],colour:[36,82,17,255]},{position:[10,16,14],colour:[36,82,17,255]},{position:[10,17,18],colour:[36,82,17,255]},{position:[11,3,14],colour:[36,82,17,255]},{position:[11,3,15],colour:[36,82,17,255]},{position:[11,3,16],colour:[36,82,17,255]},{position:[11,4,16],colour:[36,82,17,255]},{position:[11,4,17],colour:[36,82,17,255]},{position:[11,4,18],colour:[36,82,17,255]},{position:[11,5,15],colour:[65,44,18,255]},{position:[11,5,18],colour:[36,82,17,255]},{position:[11,5,23],colour:[36,82,17,255]},{position:[11,5,24],colour:[36,82,17,255]},{position:[11,6,12],colour:[36,82,17,255]},{position:[11,6,15],colour:[36,82,17,255]},{position:[11,6,20],colour:[36,82,17,255]},{position:[11,6,21],colour:[36,82,17,255]},{position:[11,6,22],colour:[36,82,17,255]},{position:[11,6,23],colour:[36,82,17,255]},{position:[11,7,13],colour:[36,82,17,255]},{position:[11,7,14],colour:[36,82,17,255]},{position:[11,7,20],colour:[36,82,17,255]},{position:[11,8,10],colour:[36,82,17,255]},{position:[11,8,14],colour:[36,82,17,255]},{position:[11,8,18],colour:[36,82,17,255]},{position:[11,9,13],colour:[36,82,17,255]},{position:[11,9,18],colour:[36,82,17,255]},{position:[11,10,15],colour:[36,82,17,255]},{position:[11,11,15],colour:[36,82,17,255]},{position:[11,11,18],colour:[36,82,17,255]},{position:[11,13,14],colour:[36,82,17,255]},{position:[11,13,15],colour:[36,82,17,255]},{position:[11,14,15],colour:[36,82,17,255]},{position:[11,14,18],colour:[36,82,17,255]},{position:[11,16,13],colour:[36,82,17,255]},{position:[11,16,14],colour:[36,82,17,255]},{position:[11,16,15],colour:[36,82,17,255]},{position:[11,17,16],colour:[36,82,17,255]},{position:[11,17,18],colour:[36,82,17,255]},{position:[11,17,19],colour:[36,82,17,255]},{position:[11,19,13],colour:[36,82,17,255]},{position:[11,19,14],colour:[36,82,17,255]},{position:[11,20,18],colour:[36,82,17,255]},{position:[11,22,15],colour:[36,82,17,255]},{position:[11,23,18],colour:[36,82,17,255]},{position:[12,4,13],colour:[36,82,17,255]},{position:[12,4,18],colour:[65,44,18,255]},{position:[12,5,11],colour:[36,82,17,255]},{position:[12,5,12],colour:[36,82,17,255]},{position:[12,5,15],colour:[65,44,18,255]},{position:[12,5,17],colour:[36,82,17,255]},{position:[12,5,18],colour:[36,82,17,255]},{position:[12,6,9],colour:[36,82,17,255]},{position:[12,6,15],colour:[36,82,17,255]},{position:[12,6,16],colour:[36,82,17,255]},{position:[12,7,19],colour:[36,82,17,255]},{position:[12,7,20],colour:[36,82,17,255]},{position:[12,8,8],colour:[36,82,17,255]},{position:[12,8,9],colour:[36,82,17,255]},{position:[12,8,10],colour:[36,82,17,255]},{position:[12,8,11],colour:[36,82,17,255]},{position:[12,8,14],colour:[36,82,17,255]},{position:[12,8,15],colour:[36,82,17,255]},{position:[12,9,11],colour:[36,82,17,255]},{position:[12,9,13],colour:[36,82,17,255]},{position:[12,9,17],colour:[36,82,17,255]},{position:[12,9,18],colour:[36,82,17,255]},{position:[12,9,21],colour:[36,82,17,255]},{position:[12,9,22],colour:[36,82,17,255]},{position:[12,9,23],colour:[36,82,17,255]},{position:[12,10,15],colour:[65,44,18,255]},{position:[12,11,15],colour:[36,82,17,255]},{position:[12,11,16],colour:[36,82,17,255]},{position:[12,11,18],colour:[36,82,17,255]},{position:[12,12,18],colour:[36,82,17,255]},{position:[12,12,21],colour:[36,82,17,255]},{position:[12,12,22],colour:[36,82,17,255]},{position:[12,13,15],colour:[65,44,18,255]},{position:[12,14,10],colour:[36,82,17,255]},{position:[12,14,11],colour:[36,82,17,255]},{position:[12,14,15],colour:[36,82,17,255]},{position:[12,14,18],colour:[36,82,17,255]},{position:[12,15,17],colour:[36,82,17,255]},{position:[12,15,18],colour:[36,82,17,255]},{position:[12,16,11],colour:[36,82,17,255]},{position:[12,16,12],colour:[36,82,17,255]},{position:[12,16,15],colour:[36,82,17,255]},{position:[12,17,12],colour:[36,82,17,255]},{position:[12,17,15],colour:[36,82,17,255]},{position:[12,17,16],colour:[36,82,17,255]},{position:[12,17,18],colour:[36,82,17,255]},{position:[12,18,17],colour:[36,82,17,255]},{position:[12,18,18],colour:[36,82,17,255]},{position:[12,18,20],colour:[36,82,17,255]},{position:[12,19,14],colour:[36,82,17,255]},{position:[12,19,15],colour:[36,82,17,255]},{position:[12,20,15],colour:[36,82,17,255]},{position:[12,20,18],colour:[36,82,17,255]},{position:[12,20,19],colour:[36,82,17,255]},{position:[12,21,17],colour:[36,82,17,255]},{position:[12,21,18],colour:[36,82,17,255]},{position:[12,22,14],colour:[36,82,17,255]},{position:[12,22,15],colour:[36,82,17,255]},{position:[12,22,17],colour:[36,82,17,255]},{position:[12,23,15],colour:[36,82,17,255]},{position:[12,23,16],colour:[36,82,17,255]},{position:[12,23,18],colour:[36,82,17,255]},{position:[12,24,17],colour:[36,82,17,255]},{position:[12,24,18],colour:[36,82,17,255]},{position:[13,3,11],colour:[36,82,17,255]},{position:[13,3,12],colour:[36,82,17,255]},{position:[13,3,22],colour:[36,82,17,255]},{position:[13,3,23],colour:[36,82,17,255]},{position:[13,3,24],colour:[36,82,17,255]},{position:[13,3,25],colour:[36,82,17,255]},{position:[13,4,8],colour:[36,82,17,255]},{position:[13,4,9],colour:[36,82,17,255]},{position:[13,4,12],colour:[36,82,17,255]},{position:[13,4,13],colour:[36,82,17,255]},{position:[13,4,17],colour:[65,44,18,255]},{position:[13,4,18],colour:[36,82,17,255]},{position:[13,4,19],colour:[36,82,17,255]},{position:[13,4,20],colour:[36,82,17,255]},{position:[13,4,21],colour:[36,82,17,255]},{position:[13,4,22],colour:[36,82,17,255]},{position:[13,5,12],colour:[36,82,17,255]},{position:[13,5,13],colour:[36,82,17,255]},{position:[13,5,16],colour:[65,44,18,255]},{position:[13,5,17],colour:[36,82,17,255]},{position:[13,5,18],colour:[36,82,17,255]},{position:[13,6,9],colour:[36,82,17,255]},{position:[13,6,16],colour:[36,82,17,255]},{position:[13,7,18],colour:[36,82,17,255]},{position:[13,7,19],colour:[36,82,17,255]},{position:[13,7,22],colour:[36,82,17,255]},{position:[13,7,23],colour:[36,82,17,255]},{position:[13,8,9],colour:[36,82,17,255]},{position:[13,8,15],colour:[36,82,17,255]},{position:[13,8,16],colour:[36,82,17,255]},{position:[13,8,22],colour:[36,82,17,255]},{position:[13,9,11],colour:[36,82,17,255]},{position:[13,9,12],colour:[36,82,17,255]},{position:[13,9,13],colour:[36,82,17,255]},{position:[13,9,14],colour:[36,82,17,255]},{position:[13,9,17],colour:[36,82,17,255]},{position:[13,9,20],colour:[36,82,17,255]},{position:[13,9,21],colour:[36,82,17,255]},{position:[13,10,15],colour:[65,44,18,255]},{position:[13,10,16],colour:[65,44,18,255]},{position:[13,10,19],colour:[36,82,17,255]},{position:[13,10,20],colour:[36,82,17,255]},{position:[13,11,9],colour:[36,82,17,255]},{position:[13,11,10],colour:[36,82,17,255]},{position:[13,11,11],colour:[36,82,17,255]},{position:[13,11,12],colour:[36,82,17,255]},{position:[13,11,16],colour:[36,82,17,255]},{position:[13,12,17],colour:[36,82,17,255]},{position:[13,12,18],colour:[36,82,17,255]},{position:[13,12,19],colour:[36,82,17,255]},{position:[13,12,20],colour:[36,82,17,255]},{position:[13,12,21],colour:[36,82,17,255]},{position:[13,13,15],colour:[65,44,18,255]},{position:[13,13,16],colour:[65,44,18,255]},{position:[13,13,19],colour:[36,82,17,255]},{position:[13,14,11],colour:[36,82,17,255]},{position:[13,14,12],colour:[36,82,17,255]},{position:[13,14,15],colour:[36,82,17,255]},{position:[13,14,16],colour:[36,82,17,255]},{position:[13,15,12],colour:[36,82,17,255]},{position:[13,15,13],colour:[36,82,17,255]},{position:[13,15,14],colour:[36,82,17,255]},{position:[13,15,17],colour:[36,82,17,255]},{position:[13,15,20],colour:[36,82,17,255]},{position:[13,15,21],colour:[36,82,17,255]},{position:[13,17,12],colour:[36,82,17,255]},{position:[13,17,13],colour:[36,82,17,255]},{position:[13,17,14],colour:[36,82,17,255]},{position:[13,17,16],colour:[36,82,17,255]},{position:[13,17,18],colour:[65,44,18,255]},{position:[13,18,14],colour:[36,82,17,255]},{position:[13,18,17],colour:[36,82,17,255]},{position:[13,18,20],colour:[36,82,17,255]},{position:[13,18,21],colour:[36,82,17,255]},{position:[13,19,16],colour:[65,44,18,255]},{position:[13,19,19],colour:[36,82,17,255]},{position:[13,19,20],colour:[36,82,17,255]},{position:[13,20,12],colour:[36,82,17,255]},{position:[13,20,13],colour:[36,82,17,255]},{position:[13,20,15],colour:[36,82,17,255]},{position:[13,20,16],colour:[36,82,17,255]},{position:[13,21,13],colour:[36,82,17,255]},{position:[13,21,17],colour:[36,82,17,255]},{position:[13,21,19],colour:[36,82,17,255]},{position:[13,21,20],colour:[36,82,17,255]},{position:[13,22,16],colour:[65,44,18,255]},{position:[13,23,13],colour:[36,82,17,255]},{position:[13,23,14],colour:[36,82,17,255]},{position:[13,23,16],colour:[36,82,17,255]},{position:[13,23,18],colour:[36,82,17,255]},{position:[13,23,19],colour:[36,82,17,255]},{position:[13,24,14],colour:[36,82,17,255]},{position:[13,24,17],colour:[36,82,17,255]},{position:[13,25,17],colour:[36,82,17,255]},{position:[14,2,16],colour:[65,44,18,255]},{position:[14,3,16],colour:[65,44,18,255]},{position:[14,4,9],colour:[36,82,17,255]},{position:[14,4,12],colour:[65,44,18,255]},{position:[14,4,13],colour:[65,44,18,255]},{position:[14,4,14],colour:[65,44,18,255]},{position:[14,4,15],colour:[65,44,18,255]},{position:[14,4,16],colour:[65,44,18,255]},{position:[14,4,21],colour:[36,82,17,255]},{position:[14,4,23],colour:[36,82,17,255]},{position:[14,5,12],colour:[36,82,17,255]},{position:[14,5,13],colour:[36,82,17,255]},{position:[14,5,14],colour:[36,82,17,255]},{position:[14,5,15],colour:[36,82,17,255]},{position:[14,5,16],colour:[65,44,18,255]},{position:[14,5,17],colour:[65,44,18,255]},{position:[14,5,19],colour:[65,44,18,255]},{position:[14,5,20],colour:[65,44,18,255]},{position:[14,6,9],colour:[36,82,17,255]},{position:[14,6,10],colour:[36,82,17,255]},{position:[14,6,12],colour:[36,82,17,255]},{position:[14,6,16],colour:[65,44,18,255]},{position:[14,6,17],colour:[65,44,18,255]},{position:[14,6,19],colour:[36,82,17,255]},{position:[14,6,20],colour:[36,82,17,255]},{position:[14,7,10],colour:[36,82,17,255]},{position:[14,7,12],colour:[36,82,17,255]},{position:[14,7,16],colour:[65,44,18,255]},{position:[14,7,17],colour:[65,44,18,255]},{position:[14,7,18],colour:[36,82,17,255]},{position:[14,8,9],colour:[36,82,17,255]},{position:[14,8,16],colour:[65,44,18,255]},{position:[14,8,17],colour:[65,44,18,255]},{position:[14,8,18],colour:[65,44,18,255]},{position:[14,8,19],colour:[65,44,18,255]},{position:[14,8,21],colour:[36,82,17,255]},{position:[14,8,22],colour:[36,82,17,255]},{position:[14,9,12],colour:[36,82,17,255]},{position:[14,9,14],colour:[36,82,17,255]},{position:[14,9,15],colour:[36,82,17,255]},{position:[14,9,16],colour:[65,44,18,255]},{position:[14,9,17],colour:[65,44,18,255]},{position:[14,9,18],colour:[65,44,18,255]},{position:[14,10,16],colour:[65,44,18,255]},{position:[14,10,17],colour:[65,44,18,255]},{position:[14,10,18],colour:[36,82,17,255]},{position:[14,10,19],colour:[36,82,17,255]},{position:[14,10,21],colour:[36,82,17,255]},{position:[14,10,22],colour:[36,82,17,255]},{position:[14,11,12],colour:[36,82,17,255]},{position:[14,11,16],colour:[65,44,18,255]},{position:[14,11,17],colour:[65,44,18,255]},{position:[14,11,21],colour:[36,82,17,255]},{position:[14,12,12],colour:[36,82,17,255]},{position:[14,12,13],colour:[36,82,17,255]},{position:[14,12,14],colour:[36,82,17,255]},{position:[14,12,15],colour:[36,82,17,255]},{position:[14,12,16],colour:[65,44,18,255]},{position:[14,12,17],colour:[65,44,18,255]},{position:[14,12,18],colour:[65,44,18,255]},{position:[14,12,19],colour:[65,44,18,255]},{position:[14,13,16],colour:[65,44,18,255]},{position:[14,13,17],colour:[65,44,18,255]},{position:[14,13,18],colour:[36,82,17,255]},{position:[14,13,19],colour:[36,82,17,255]},{position:[14,14,16],colour:[65,44,18,255]},{position:[14,14,17],colour:[65,44,18,255]},{position:[14,14,20],colour:[36,82,17,255]},{position:[14,15,14],colour:[36,82,17,255]},{position:[14,15,15],colour:[36,82,17,255]},{position:[14,15,16],colour:[65,44,18,255]},{position:[14,15,17],colour:[65,44,18,255]},{position:[14,15,19],colour:[36,82,17,255]},{position:[14,15,20],colour:[36,82,17,255]},{position:[14,16,16],colour:[65,44,18,255]},{position:[14,16,17],colour:[65,44,18,255]},{position:[14,16,18],colour:[36,82,17,255]},{position:[14,16,19],colour:[36,82,17,255]},{position:[14,17,13],colour:[36,82,17,255]},{position:[14,17,16],colour:[65,44,18,255]},{position:[14,17,17],colour:[65,44,18,255]},{position:[14,17,18],colour:[65,44,18,255]},{position:[14,18,13],colour:[36,82,17,255]},{position:[14,18,14],colour:[36,82,17,255]},{position:[14,18,15],colour:[36,82,17,255]},{position:[14,18,16],colour:[65,44,18,255]},{position:[14,18,17],colour:[65,44,18,255]},{position:[14,19,15],colour:[36,82,17,255]},{position:[14,19,16],colour:[65,44,18,255]},{position:[14,19,17],colour:[65,44,18,255]},{position:[14,19,18],colour:[36,82,17,255]},{position:[14,19,19],colour:[36,82,17,255]},{position:[14,20,16],colour:[65,44,18,255]},{position:[14,20,17],colour:[65,44,18,255]},{position:[14,21,13],colour:[36,82,17,255]},{position:[14,21,14],colour:[36,82,17,255]},{position:[14,21,15],colour:[36,82,17,255]},{position:[14,21,16],colour:[65,44,18,255]},{position:[14,21,17],colour:[65,44,18,255]},{position:[14,21,18],colour:[36,82,17,255]},{position:[14,21,19],colour:[36,82,17,255]},{position:[14,22,16],colour:[65,44,18,255]},{position:[14,22,17],colour:[65,44,18,255]},{position:[14,23,14],colour:[36,82,17,255]},{position:[14,23,16],colour:[65,44,18,255]},{position:[14,23,17],colour:[65,44,18,255]},{position:[14,23,18],colour:[36,82,17,255]},{position:[14,24,14],colour:[36,82,17,255]},{position:[14,24,15],colour:[36,82,17,255]},{position:[14,24,16],colour:[65,44,18,255]},{position:[14,24,17],colour:[65,44,18,255]},{position:[14,25,14],colour:[36,82,17,255]},{position:[14,25,16],colour:[36,82,17,255]},{position:[14,25,17],colour:[65,44,18,255]},{position:[14,25,18],colour:[36,82,17,255]},{position:[14,26,16],colour:[36,82,17,255]},{position:[14,26,17],colour:[36,82,17,255]},{position:[14,27,17],colour:[36,82,17,255]},{position:[15,0,15],colour:[65,44,18,255]},{position:[15,0,16],colour:[65,44,18,255]},{position:[15,1,15],colour:[65,44,18,255]},{position:[15,1,16],colour:[65,44,18,255]},{position:[15,2,15],colour:[65,44,18,255]},{position:[15,2,16],colour:[65,44,18,255]},{position:[15,2,17],colour:[65,44,18,255]},{position:[15,3,15],colour:[65,44,18,255]},{position:[15,3,16],colour:[65,44,18,255]},{position:[15,3,17],colour:[65,44,18,255]},{position:[15,4,7],colour:[36,82,17,255]},{position:[15,4,8],colour:[36,82,17,255]},{position:[15,4,9],colour:[36,82,17,255]},{position:[15,4,10],colour:[36,82,17,255]},{position:[15,4,11],colour:[36,82,17,255]},{position:[15,4,12],colour:[65,44,18,255]},{position:[15,4,14],colour:[65,44,18,255]},{position:[15,4,15],colour:[65,44,18,255]},{position:[15,4,16],colour:[65,44,18,255]},{position:[15,4,17],colour:[65,44,18,255]},{position:[15,4,21],colour:[36,82,17,255]},{position:[15,4,23],colour:[36,82,17,255]},{position:[15,5,11],colour:[36,82,17,255]},{position:[15,5,12],colour:[36,82,17,255]},{position:[15,5,14],colour:[36,82,17,255]},{position:[15,5,16],colour:[65,44,18,255]},{position:[15,5,17],colour:[65,44,18,255]},{position:[15,5,18],colour:[65,44,18,255]},{position:[15,5,21],colour:[36,82,17,255]},{position:[15,6,15],colour:[36,82,17,255]},{position:[15,6,16],colour:[65,44,18,255]},{position:[15,6,17],colour:[65,44,18,255]},{position:[15,6,18],colour:[36,82,17,255]},{position:[15,6,19],colour:[36,82,17,255]},{position:[15,7,10],colour:[36,82,17,255]},{position:[15,7,12],colour:[36,82,17,255]},{position:[15,7,16],colour:[65,44,18,255]},{position:[15,7,17],colour:[65,44,18,255]},{position:[15,8,14],colour:[36,82,17,255]},{position:[15,8,15],colour:[36,82,17,255]},{position:[15,8,16],colour:[65,44,18,255]},{position:[15,8,17],colour:[65,44,18,255]},{position:[15,8,21],colour:[36,82,17,255]},{position:[15,9,15],colour:[65,44,18,255]},{position:[15,9,16],colour:[65,44,18,255]},{position:[15,9,17],colour:[65,44,18,255]},{position:[15,9,18],colour:[36,82,17,255]},{position:[15,9,19],colour:[36,82,17,255]},{position:[15,9,20],colour:[36,82,17,255]},{position:[15,9,21],colour:[36,82,17,255]},{position:[15,10,13],colour:[36,82,17,255]},{position:[15,10,15],colour:[65,44,18,255]},{position:[15,10,16],colour:[65,44,18,255]},{position:[15,10,17],colour:[65,44,18,255]},{position:[15,11,13],colour:[36,82,17,255]},{position:[15,11,14],colour:[36,82,17,255]},{position:[15,11,15],colour:[36,82,17,255]},{position:[15,11,16],colour:[65,44,18,255]},{position:[15,11,17],colour:[65,44,18,255]},{position:[15,11,21],colour:[36,82,17,255]},{position:[15,12,16],colour:[65,44,18,255]},{position:[15,12,17],colour:[65,44,18,255]},{position:[15,12,18],colour:[36,82,17,255]},{position:[15,13,16],colour:[65,44,18,255]},{position:[15,13,17],colour:[65,44,18,255]},{position:[15,13,18],colour:[65,44,18,255]},{position:[15,13,20],colour:[36,82,17,255]},{position:[15,13,21],colour:[36,82,17,255]},{position:[15,14,15],colour:[36,82,17,255]},{position:[15,14,16],colour:[65,44,18,255]},{position:[15,14,17],colour:[65,44,18,255]},{position:[15,14,18],colour:[65,44,18,255]},{position:[15,14,20],colour:[36,82,17,255]},{position:[15,15,16],colour:[65,44,18,255]},{position:[15,15,17],colour:[65,44,18,255]},{position:[15,15,18],colour:[36,82,17,255]},{position:[15,16,11],colour:[36,82,17,255]},{position:[15,16,12],colour:[36,82,17,255]},{position:[15,16,14],colour:[36,82,17,255]},{position:[15,16,15],colour:[36,82,17,255]},{position:[15,16,16],colour:[65,44,18,255]},{position:[15,16,17],colour:[65,44,18,255]},{position:[15,17,13],colour:[36,82,17,255]},{position:[15,17,16],colour:[65,44,18,255]},{position:[15,17,17],colour:[65,44,18,255]},{position:[15,17,20],colour:[36,82,17,255]},{position:[15,18,16],colour:[65,44,18,255]},{position:[15,18,17],colour:[65,44,18,255]},{position:[15,18,18],colour:[36,82,17,255]},{position:[15,18,19],colour:[36,82,17,255]},{position:[15,19,14],colour:[36,82,17,255]},{position:[15,19,15],colour:[36,82,17,255]},{position:[15,19,16],colour:[65,44,18,255]},{position:[15,19,17],colour:[65,44,18,255]},{position:[15,20,14],colour:[36,82,17,255]},{position:[15,20,16],colour:[65,44,18,255]},{position:[15,20,17],colour:[65,44,18,255]},{position:[15,20,18],colour:[65,44,18,255]},{position:[15,21,16],colour:[65,44,18,255]},{position:[15,21,17],colour:[65,44,18,255]},{position:[15,22,14],colour:[36,82,17,255]},{position:[15,22,15],colour:[36,82,17,255]},{position:[15,22,16],colour:[65,44,18,255]},{position:[15,22,17],colour:[65,44,18,255]},{position:[15,22,18],colour:[36,82,17,255]},{position:[15,22,19],colour:[36,82,17,255]},{position:[15,23,16],colour:[65,44,18,255]},{position:[15,23,17],colour:[65,44,18,255]},{position:[15,24,14],colour:[36,82,17,255]},{position:[15,24,15],colour:[36,82,17,255]},{position:[15,24,16],colour:[65,44,18,255]},{position:[15,24,17],colour:[65,44,18,255]},{position:[15,24,18],colour:[36,82,17,255]},{position:[15,24,19],colour:[36,82,17,255]},{position:[15,25,16],colour:[36,82,17,255]},{position:[15,25,18],colour:[36,82,17,255]},{position:[15,26,15],colour:[36,82,17,255]},{position:[15,26,16],colour:[36,82,17,255]},{position:[15,26,17],colour:[36,82,17,255]},{position:[15,26,18],colour:[36,82,17,255]},{position:[15,27,16],colour:[36,82,17,255]},{position:[15,27,17],colour:[36,82,17,255]},{position:[15,28,17],colour:[36,82,17,255]},{position:[16,0,15],colour:[65,44,18,255]},{position:[16,0,16],colour:[65,44,18,255]},{position:[16,1,15],colour:[65,44,18,255]},{position:[16,1,16],colour:[65,44,18,255]},{position:[16,2,16],colour:[65,44,18,255]},{position:[16,3,11],colour:[36,82,17,255]},{position:[16,3,16],colour:[65,44,18,255]},{position:[16,4,9],colour:[36,82,17,255]},{position:[16,4,11],colour:[36,82,17,255]},{position:[16,4,15],colour:[65,44,18,255]},{position:[16,4,16],colour:[65,44,18,255]},{position:[16,4,17],colour:[65,44,18,255]},{position:[16,4,23],colour:[36,82,17,255]},{position:[16,4,24],colour:[36,82,17,255]},{position:[16,4,25],colour:[36,82,17,255]},{position:[16,5,15],colour:[36,82,17,255]},{position:[16,5,16],colour:[36,82,17,255]},{position:[16,5,17],colour:[36,82,17,255]},{position:[16,5,18],colour:[65,44,18,255]},{position:[16,5,23],colour:[36,82,17,255]},{position:[16,6,14],colour:[36,82,17,255]},{position:[16,6,15],colour:[36,82,17,255]},{position:[16,6,18],colour:[36,82,17,255]},{position:[16,6,19],colour:[36,82,17,255]},{position:[16,7,10],colour:[36,82,17,255]},{position:[16,8,12],colour:[36,82,17,255]},{position:[16,8,13],colour:[36,82,17,255]},{position:[16,8,14],colour:[36,82,17,255]},{position:[16,8,17],colour:[36,82,17,255]},{position:[16,8,21],colour:[36,82,17,255]},{position:[16,8,22],colour:[36,82,17,255]},{position:[16,8,23],colour:[36,82,17,255]},{position:[16,9,14],colour:[65,44,18,255]},{position:[16,9,15],colour:[65,44,18,255]},{position:[16,9,16],colour:[36,82,17,255]},{position:[16,9,17],colour:[65,44,18,255]},{position:[16,9,19],colour:[36,82,17,255]},{position:[16,10,10],colour:[36,82,17,255]},{position:[16,10,11],colour:[36,82,17,255]},{position:[16,10,12],colour:[36,82,17,255]},{position:[16,10,13],colour:[36,82,17,255]},{position:[16,11,16],colour:[65,44,18,255]},{position:[16,11,17],colour:[36,82,17,255]},{position:[16,11,18],colour:[36,82,17,255]},{position:[16,11,21],colour:[36,82,17,255]},{position:[16,12,15],colour:[36,82,17,255]},{position:[16,12,16],colour:[36,82,17,255]},{position:[16,12,18],colour:[36,82,17,255]},{position:[16,12,19],colour:[36,82,17,255]},{position:[16,12,20],colour:[36,82,17,255]},{position:[16,13,16],colour:[65,44,18,255]},{position:[16,14,13],colour:[36,82,17,255]},{position:[16,14,14],colour:[36,82,17,255]},{position:[16,14,15],colour:[36,82,17,255]},{position:[16,14,17],colour:[36,82,17,255]},{position:[16,14,18],colour:[36,82,17,255]},{position:[16,14,20],colour:[36,82,17,255]},{position:[16,15,16],colour:[36,82,17,255]},{position:[16,15,18],colour:[36,82,17,255]},{position:[16,15,19],colour:[36,82,17,255]},{position:[16,15,20],colour:[36,82,17,255]},{position:[16,16,12],colour:[36,82,17,255]},{position:[16,16,13],colour:[36,82,17,255]},{position:[16,16,14],colour:[36,82,17,255]},{position:[16,16,17],colour:[36,82,17,255]},{position:[16,17,16],colour:[36,82,17,255]},{position:[16,17,19],colour:[36,82,17,255]},{position:[16,17,20],colour:[36,82,17,255]},{position:[16,17,21],colour:[36,82,17,255]},{position:[16,18,13],colour:[36,82,17,255]},{position:[16,18,16],colour:[65,44,18,255]},{position:[16,18,17],colour:[36,82,17,255]},{position:[16,18,19],colour:[36,82,17,255]},{position:[16,19,13],colour:[36,82,17,255]},{position:[16,19,14],colour:[36,82,17,255]},{position:[16,19,15],colour:[36,82,17,255]},{position:[16,19,16],colour:[36,82,17,255]},{position:[16,19,17],colour:[36,82,17,255]},{position:[16,20,16],colour:[36,82,17,255]},{position:[16,20,18],colour:[65,44,18,255]},{position:[16,21,13],colour:[36,82,17,255]},{position:[16,21,15],colour:[36,82,17,255]},{position:[16,21,17],colour:[36,82,17,255]},{position:[16,21,19],colour:[36,82,17,255]},{position:[16,21,20],colour:[36,82,17,255]},{position:[16,22,14],colour:[36,82,17,255]},{position:[16,22,15],colour:[36,82,17,255]},{position:[16,22,19],colour:[36,82,17,255]},{position:[16,23,13],colour:[36,82,17,255]},{position:[16,23,14],colour:[36,82,17,255]},{position:[16,23,16],colour:[36,82,17,255]},{position:[16,23,19],colour:[36,82,17,255]},{position:[16,23,20],colour:[36,82,17,255]},{position:[16,24,14],colour:[36,82,17,255]},{position:[16,24,17],colour:[36,82,17,255]},{position:[16,24,19],colour:[36,82,17,255]},{position:[16,25,16],colour:[36,82,17,255]},{position:[16,26,17],colour:[36,82,17,255]},{position:[17,3,11],colour:[36,82,17,255]},{position:[17,4,9],colour:[36,82,17,255]},{position:[17,4,15],colour:[65,44,18,255]},{position:[17,4,17],colour:[65,44,18,255]},{position:[17,5,9],colour:[36,82,17,255]},{position:[17,5,15],colour:[36,82,17,255]},{position:[17,5,17],colour:[36,82,17,255]},{position:[17,5,19],colour:[65,44,18,255]},{position:[17,5,20],colour:[65,44,18,255]},{position:[17,5,21],colour:[36,82,17,255]},{position:[17,5,22],colour:[36,82,17,255]},{position:[17,5,23],colour:[36,82,17,255]},{position:[17,6,12],colour:[36,82,17,255]},{position:[17,6,13],colour:[36,82,17,255]},{position:[17,6,14],colour:[36,82,17,255]},{position:[17,6,19],colour:[36,82,17,255]},{position:[17,6,20],colour:[36,82,17,255]},{position:[17,6,21],colour:[36,82,17,255]},{position:[17,7,8],colour:[36,82,17,255]},{position:[17,7,9],colour:[36,82,17,255]},{position:[17,7,10],colour:[36,82,17,255]},{position:[17,8,10],colour:[36,82,17,255]},{position:[17,8,11],colour:[36,82,17,255]},{position:[17,8,12],colour:[36,82,17,255]},{position:[17,8,17],colour:[36,82,17,255]},{position:[17,8,18],colour:[36,82,17,255]},{position:[17,8,22],colour:[36,82,17,255]},{position:[17,9,15],colour:[36,82,17,255]},{position:[17,9,16],colour:[36,82,17,255]},{position:[17,9,17],colour:[65,44,18,255]},{position:[17,9,19],colour:[36,82,17,255]},{position:[17,9,20],colour:[36,82,17,255]},{position:[17,10,9],colour:[36,82,17,255]},{position:[17,10,10],colour:[36,82,17,255]},{position:[17,11,14],colour:[36,82,17,255]},{position:[17,11,16],colour:[65,44,18,255]},{position:[17,11,18],colour:[36,82,17,255]},{position:[17,11,20],colour:[36,82,17,255]},{position:[17,11,21],colour:[36,82,17,255]},{position:[17,11,22],colour:[36,82,17,255]},{position:[17,12,14],colour:[36,82,17,255]},{position:[17,12,15],colour:[36,82,17,255]},{position:[17,12,20],colour:[36,82,17,255]},{position:[17,13,12],colour:[36,82,17,255]},{position:[17,13,16],colour:[65,44,18,255]},{position:[17,13,18],colour:[36,82,17,255]},{position:[17,13,19],colour:[36,82,17,255]},{position:[17,14,12],colour:[36,82,17,255]},{position:[17,14,13],colour:[36,82,17,255]},{position:[17,14,18],colour:[36,82,17,255]},{position:[17,14,20],colour:[36,82,17,255]},{position:[17,14,21],colour:[36,82,17,255]},{position:[17,15,10],colour:[36,82,17,255]},{position:[17,15,11],colour:[36,82,17,255]},{position:[17,15,12],colour:[36,82,17,255]},{position:[17,15,15],colour:[36,82,17,255]},{position:[17,15,16],colour:[36,82,17,255]},{position:[17,15,17],colour:[36,82,17,255]},{position:[17,16,12],colour:[36,82,17,255]},{position:[17,17,15],colour:[36,82,17,255]},{position:[17,17,16],colour:[36,82,17,255]},{position:[17,17,18],colour:[36,82,17,255]},{position:[17,18,12],colour:[36,82,17,255]},{position:[17,18,13],colour:[36,82,17,255]},{position:[17,18,14],colour:[36,82,17,255]},{position:[17,18,17],colour:[36,82,17,255]},{position:[17,18,18],colour:[36,82,17,255]},{position:[17,19,15],colour:[36,82,17,255]},{position:[17,20,15],colour:[36,82,17,255]},{position:[17,20,16],colour:[36,82,17,255]},{position:[17,20,18],colour:[36,82,17,255]},{position:[17,21,13],colour:[36,82,17,255]},{position:[17,21,14],colour:[36,82,17,255]},{position:[17,21,17],colour:[36,82,17,255]},{position:[17,21,18],colour:[36,82,17,255]},{position:[17,22,14],colour:[36,82,17,255]},{position:[17,22,17],colour:[36,82,17,255]},{position:[17,23,16],colour:[36,82,17,255]},{position:[17,23,18],colour:[36,82,17,255]},{position:[17,24,16],colour:[36,82,17,255]},{position:[17,24,17],colour:[36,82,17,255]},{position:[17,24,18],colour:[36,82,17,255]},{position:[17,25,17],colour:[36,82,17,255]},{position:[18,3,10],colour:[36,82,17,255]},{position:[18,3,11],colour:[36,82,17,255]},{position:[18,3,12],colour:[36,82,17,255]},{position:[18,4,12],colour:[36,82,17,255]},{position:[18,4,15],colour:[65,44,18,255]},{position:[18,4,17],colour:[65,44,18,255]},{position:[18,4,21],colour:[36,82,17,255]},{position:[18,5,11],colour:[36,82,17,255]},{position:[18,5,14],colour:[36,82,17,255]},{position:[18,5,15],colour:[36,82,17,255]},{position:[18,5,17],colour:[36,82,17,255]},{position:[18,5,21],colour:[36,82,17,255]},{position:[18,5,22],colour:[36,82,17,255]},{position:[18,5,23],colour:[36,82,17,255]},{position:[18,6,11],colour:[36,82,17,255]},{position:[18,6,12],colour:[36,82,17,255]},{position:[18,8,11],colour:[36,82,17,255]},{position:[18,8,15],colour:[36,82,17,255]},{position:[18,8,18],colour:[36,82,17,255]},{position:[18,8,22],colour:[36,82,17,255]},{position:[18,9,13],colour:[36,82,17,255]},{position:[18,9,14],colour:[36,82,17,255]},{position:[18,9,15],colour:[36,82,17,255]},{position:[18,9,20],colour:[36,82,17,255]},{position:[18,11,13],colour:[36,82,17,255]},{position:[18,11,14],colour:[36,82,17,255]},{position:[18,11,18],colour:[36,82,17,255]},{position:[18,11,20],colour:[36,82,17,255]},{position:[18,13,11],colour:[36,82,17,255]},{position:[18,13,12],colour:[36,82,17,255]},{position:[18,13,19],colour:[36,82,17,255]},{position:[18,14,15],colour:[36,82,17,255]},{position:[18,15,15],colour:[36,82,17,255]},{position:[18,15,16],colour:[36,82,17,255]},{position:[18,17,15],colour:[36,82,17,255]},{position:[18,17,18],colour:[36,82,17,255]},{position:[18,17,19],colour:[36,82,17,255]},{position:[18,17,20],colour:[36,82,17,255]},{position:[18,18,11],colour:[36,82,17,255]},{position:[18,18,12],colour:[36,82,17,255]},{position:[18,18,13],colour:[36,82,17,255]},{position:[18,19,15],colour:[36,82,17,255]},{position:[18,20,18],colour:[36,82,17,255]},{position:[18,20,19],colour:[36,82,17,255]},{position:[18,21,12],colour:[36,82,17,255]},{position:[18,21,13],colour:[36,82,17,255]},{position:[18,21,16],colour:[36,82,17,255]},{position:[18,22,15],colour:[36,82,17,255]},{position:[18,23,15],colour:[36,82,17,255]},{position:[18,23,16],colour:[36,82,17,255]},{position:[18,23,18],colour:[36,82,17,255]},{position:[19,3,11],colour:[36,82,17,255]},{position:[19,4,12],colour:[36,82,17,255]},{position:[19,4,13],colour:[36,82,17,255]},{position:[19,4,14],colour:[36,82,17,255]},{position:[19,4,15],colour:[36,82,17,255]},{position:[19,4,16],colour:[36,82,17,255]},{position:[19,4,21],colour:[36,82,17,255]},{position:[19,5,10],colour:[36,82,17,255]},{position:[19,5,11],colour:[36,82,17,255]},{position:[19,5,14],colour:[36,82,17,255]},{position:[19,5,17],colour:[36,82,17,255]},{position:[19,5,18],colour:[36,82,17,255]},{position:[19,5,23],colour:[36,82,17,255]},{position:[19,5,24],colour:[36,82,17,255]},{position:[19,7,10],colour:[36,82,17,255]},{position:[19,7,18],colour:[36,82,17,255]},{position:[19,7,20],colour:[36,82,17,255]},{position:[19,7,21],colour:[36,82,17,255]},{position:[19,7,22],colour:[36,82,17,255]},{position:[19,8,10],colour:[36,82,17,255]},{position:[19,8,11],colour:[36,82,17,255]},{position:[19,8,14],colour:[36,82,17,255]},{position:[19,8,15],colour:[36,82,17,255]},{position:[19,8,17],colour:[36,82,17,255]},{position:[19,8,18],colour:[36,82,17,255]},{position:[19,8,19],colour:[36,82,17,255]},{position:[19,8,20],colour:[36,82,17,255]},{position:[19,9,17],colour:[36,82,17,255]},{position:[19,10,14],colour:[36,82,17,255]},{position:[19,10,15],colour:[36,82,17,255]},{position:[19,11,13],colour:[36,82,17,255]},{position:[19,11,14],colour:[36,82,17,255]},{position:[19,11,18],colour:[36,82,17,255]},{position:[19,11,19],colour:[36,82,17,255]},{position:[19,11,21],colour:[36,82,17,255]},{position:[19,12,16],colour:[36,82,17,255]},{position:[19,12,17],colour:[36,82,17,255]},{position:[19,13,11],colour:[36,82,17,255]},{position:[19,13,17],colour:[36,82,17,255]},{position:[19,13,18],colour:[36,82,17,255]},{position:[19,13,19],colour:[36,82,17,255]},{position:[19,13,20],colour:[36,82,17,255]},{position:[19,14,14],colour:[36,82,17,255]},{position:[19,14,15],colour:[36,82,17,255]},{position:[19,14,16],colour:[36,82,17,255]},{position:[19,16,19],colour:[36,82,17,255]},{position:[19,17,15],colour:[36,82,17,255]},{position:[19,17,19],colour:[36,82,17,255]},{position:[19,18,11],colour:[36,82,17,255]},{position:[19,18,13],colour:[36,82,17,255]},{position:[19,20,18],colour:[36,82,17,255]},{position:[19,22,15],colour:[36,82,17,255]},{position:[20,3,11],colour:[36,82,17,255]},{position:[20,3,18],colour:[36,82,17,255]},{position:[20,3,19],colour:[36,82,17,255]},{position:[20,3,20],colour:[36,82,17,255]},{position:[20,4,13],colour:[36,82,17,255]},{position:[20,4,18],colour:[36,82,17,255]},{position:[20,4,21],colour:[36,82,17,255]},{position:[20,5,10],colour:[36,82,17,255]},{position:[20,5,18],colour:[36,82,17,255]},{position:[20,7,10],colour:[36,82,17,255]},{position:[20,7,18],colour:[36,82,17,255]},{position:[20,8,13],colour:[36,82,17,255]},{position:[20,8,14],colour:[36,82,17,255]},{position:[20,10,15],colour:[36,82,17,255]},{position:[20,10,19],colour:[36,82,17,255]},{position:[20,11,13],colour:[36,82,17,255]},{position:[20,11,19],colour:[36,82,17,255]},{position:[20,11,21],colour:[36,82,17,255]},{position:[20,12,16],colour:[36,82,17,255]},{position:[20,13,20],colour:[36,82,17,255]},{position:[20,14,14],colour:[36,82,17,255]},{position:[20,16,19],colour:[36,82,17,255]},{position:[21,3,14],colour:[36,82,17,255]},{position:[21,4,12],colour:[36,82,17,255]},{position:[21,4,13],colour:[36,82,17,255]},{position:[21,4,14],colour:[36,82,17,255]},{position:[21,4,18],colour:[36,82,17,255]},{position:[21,7,10],colour:[36,82,17,255]},{position:[21,7,16],colour:[36,82,17,255]},{position:[21,7,18],colour:[36,82,17,255]},{position:[21,7,19],colour:[36,82,17,255]},{position:[21,7,20],colour:[36,82,17,255]},{position:[21,8,12],colour:[36,82,17,255]},{position:[21,8,13],colour:[36,82,17,255]},{position:[21,8,14],colour:[36,82,17,255]},{position:[21,8,15],colour:[36,82,17,255]},{position:[21,8,16],colour:[36,82,17,255]},{position:[21,10,19],colour:[36,82,17,255]},{position:[21,10,20],colour:[36,82,17,255]},{position:[21,10,21],colour:[36,82,17,255]},{position:[21,11,13],colour:[36,82,17,255]},{position:[22,3,14],colour:[36,82,17,255]},{position:[22,3,16],colour:[36,82,17,255]},{position:[22,3,17],colour:[36,82,17,255]},{position:[22,3,20],colour:[36,82,17,255]},{position:[22,3,21],colour:[36,82,17,255]},{position:[22,4,12],colour:[36,82,17,255]},{position:[22,4,17],colour:[36,82,17,255]},{position:[22,4,18],colour:[36,82,17,255]},{position:[22,4,19],colour:[36,82,17,255]},{position:[22,4,20],colour:[36,82,17,255]},{position:[22,7,12],colour:[36,82,17,255]},{position:[22,7,16],colour:[36,82,17,255]},{position:[22,7,18],colour:[36,82,17,255]},{position:[22,7,20],colour:[36,82,17,255]},{position:[22,8,12],colour:[36,82,17,255]},{position:[22,8,14],colour:[36,82,17,255]},{position:[22,10,20],colour:[36,82,17,255]},{position:[23,3,16],colour:[36,82,17,255]},{position:[23,4,12],colour:[36,82,17,255]},{position:[23,4,19],colour:[36,82,17,255]},{position:[23,7,12],colour:[36,82,17,255]},{position:[23,7,18],colour:[36,82,17,255]},{position:[24,4,19],colour:[36,82,17,255]}],sliceFilePaths:["/voxel-models/fir-tree/0.png","/voxel-models/fir-tree/1.png","/voxel-models/fir-tree/2.png","/voxel-models/fir-tree/3.png","/voxel-models/fir-tree/4.png","/voxel-models/fir-tree/5.png","/voxel-models/fir-tree/6.png","/voxel-models/fir-tree/7.png","/voxel-models/fir-tree/8.png","/voxel-models/fir-tree/9.png","/voxel-models/fir-tree/10.png","/voxel-models/fir-tree/11.png","/voxel-models/fir-tree/12.png","/voxel-models/fir-tree/13.png","/voxel-models/fir-tree/14.png","/voxel-models/fir-tree/15.png","/voxel-models/fir-tree/16.png","/voxel-models/fir-tree/17.png"]}},509:t=>{t.exports={scale:[18,15,8],normalisedPivot:[.5,0,.5],bounds:{min:[0,0,0],max:[17,14,7]},voxels:[{position:[0,7,3],colour:[168,168,168,255]},{position:[0,8,3],colour:[168,168,168,255]},{position:[0,9,3],colour:[220,220,220,255]},{position:[0,10,3],colour:[220,220,220,255]},{position:[1,6,3],colour:[168,168,168,255]},{position:[1,7,3],colour:[68,68,68,255]},{position:[1,8,3],colour:[68,68,68,255]},{position:[1,9,3],colour:[68,68,68,255]},{position:[1,10,3],colour:[68,68,68,255]},{position:[1,11,3],colour:[220,220,220,255]},{position:[2,5,3],colour:[168,168,168,255]},{position:[2,7,3],colour:[116,116,116,255]},{position:[2,8,3],colour:[116,116,116,255]},{position:[2,9,3],colour:[168,168,168,255]},{position:[2,10,3],colour:[168,168,168,255]},{position:[2,12,3],colour:[220,220,220,255]},{position:[3,8,3],colour:[68,68,68,255]},{position:[3,9,3],colour:[68,68,68,255]},{position:[4,0,3],colour:[152,100,48,255]},{position:[4,1,3],colour:[152,100,48,255]},{position:[4,2,3],colour:[152,100,48,255]},{position:[4,3,3],colour:[152,100,48,255]},{position:[4,4,3],colour:[152,100,48,255]},{position:[4,5,3],colour:[152,100,48,255]},{position:[4,6,3],colour:[152,100,48,255]},{position:[4,7,3],colour:[152,100,48,255]},{position:[4,8,3],colour:[204,152,100,255]},{position:[4,9,3],colour:[68,68,68,255]},{position:[4,10,3],colour:[204,152,100,255]},{position:[5,3,3],colour:[252,204,152,255]},{position:[5,13,3],colour:[116,116,116,255]},{position:[5,14,3],colour:[136,136,136,255]},{position:[6,4,3],colour:[48,152,100,255]},{position:[6,8,2],colour:[116,116,116,255]},{position:[6,8,3],colour:[116,116,116,255]},{position:[6,8,4],colour:[116,116,116,255]},{position:[6,9,1],colour:[116,116,116,255]},{position:[6,9,3],colour:[116,116,116,255]},{position:[6,9,5],colour:[116,116,116,255]},{position:[6,10,1],colour:[116,116,116,255]},{position:[6,10,2],colour:[116,116,116,255]},{position:[6,10,4],colour:[116,116,116,255]},{position:[6,10,5],colour:[116,116,116,255]},{position:[6,11,1],colour:[116,116,116,255]},{position:[6,11,3],colour:[116,116,116,255]},{position:[6,11,5],colour:[116,116,116,255]},{position:[6,12,2],colour:[116,116,116,255]},{position:[6,12,3],colour:[116,116,116,255]},{position:[6,12,4],colour:[116,116,116,255]},{position:[6,13,3],colour:[116,116,116,255]},{position:[7,3,1],colour:[0,152,48,255]},{position:[7,3,2],colour:[48,204,48,255]},{position:[7,3,3],colour:[0,152,48,255]},{position:[7,3,4],colour:[48,204,48,255]},{position:[7,3,5],colour:[0,152,48,255]},{position:[7,5,2],colour:[252,152,0,255]},{position:[7,5,3],colour:[252,204,152,255]},{position:[7,6,2],colour:[252,152,0,255]},{position:[7,6,3],colour:[0,152,48,255]},{position:[7,6,4],colour:[252,152,0,255]},{position:[7,7,1],colour:[252,152,0,255]},{position:[7,7,3],colour:[252,152,0,255]},{position:[7,7,4],colour:[252,152,0,255]},{position:[7,7,5],colour:[252,152,0,255]},{position:[7,8,1],colour:[252,152,0,255]},{position:[7,8,2],colour:[252,204,48,255]},{position:[7,8,3],colour:[252,152,0,255]},{position:[7,8,4],colour:[252,152,0,255]},{position:[7,8,5],colour:[136,136,136,255]},{position:[7,9,1],colour:[252,152,0,255]},{position:[7,9,2],colour:[204,152,48,255]},{position:[7,9,3],colour:[252,152,0,255]},{position:[7,9,4],colour:[252,152,0,255]},{position:[7,9,5],colour:[252,152,0,255]},{position:[7,9,6],colour:[116,116,116,255]},{position:[7,10,0],colour:[168,168,168,255]},{position:[7,10,1],colour:[252,152,0,255]},{position:[7,10,2],colour:[252,152,0,255]},{position:[7,10,3],colour:[136,136,136,255]},{position:[7,10,4],colour:[252,152,0,255]},{position:[7,10,5],colour:[252,152,0,255]},{position:[7,10,6],colour:[116,116,116,255]},{position:[7,11,0],colour:[168,168,168,255]},{position:[7,11,1],colour:[252,152,0,255]},{position:[7,11,2],colour:[136,136,136,255]},{position:[7,11,3],colour:[252,152,0,255]},{position:[7,11,4],colour:[116,116,116,255]},{position:[7,11,5],colour:[252,152,0,255]},{position:[7,11,6],colour:[116,116,116,255]},{position:[7,12,1],colour:[116,116,116,255]},{position:[7,12,2],colour:[116,116,116,255]},{position:[7,12,3],colour:[116,116,116,255]},{position:[7,12,4],colour:[116,116,116,255]},{position:[7,12,5],colour:[116,116,116,255]},{position:[8,0,3],colour:[152,100,48,255]},{position:[8,1,3],colour:[152,100,48,255]},{position:[8,2,3],colour:[252,204,152,255]},{position:[8,3,1],colour:[48,204,48,255]},{position:[8,3,2],colour:[48,204,48,255]},{position:[8,3,3],colour:[252,152,0,255]},{position:[8,3,4],colour:[48,204,48,255]},{position:[8,3,5],colour:[48,204,48,255]},{position:[8,4,2],colour:[48,204,48,255]},{position:[8,4,3],colour:[0,152,48,255]},{position:[8,4,4],colour:[48,204,48,255]},{position:[8,5,2],colour:[48,204,48,255]},{position:[8,5,3],colour:[252,152,0,255]},{position:[8,5,4],colour:[48,204,48,255]},{position:[8,6,1],colour:[252,152,0,255]},{position:[8,6,2],colour:[252,152,0,255]},{position:[8,6,3],colour:[252,152,0,255]},{position:[8,6,4],colour:[252,152,0,255]},{position:[8,6,5],colour:[252,152,0,255]},{position:[8,7,2],colour:[252,152,100,255]},{position:[8,7,3],colour:[252,152,0,255]},{position:[8,7,4],colour:[252,152,0,255]},{position:[8,7,5],colour:[252,152,0,255]},{position:[8,7,6],colour:[252,152,0,255]},{position:[8,8,2],colour:[16,16,16,255]},{position:[8,8,3],colour:[252,152,0,255]},{position:[8,8,4],colour:[252,152,0,255]},{position:[8,8,5],colour:[252,152,0,255]},{position:[8,8,6],colour:[116,116,116,255]},{position:[8,8,7],colour:[116,116,116,255]},{position:[8,9,2],colour:[252,152,0,255]},{position:[8,9,3],colour:[252,152,0,255]},{position:[8,9,4],colour:[252,152,0,255]},{position:[8,9,5],colour:[252,152,0,255]},{position:[8,9,6],colour:[252,152,0,255]},{position:[8,9,7],colour:[116,116,116,255]},{position:[8,10,0],colour:[168,168,168,255]},{position:[8,10,1],colour:[136,136,136,255]},{position:[8,10,2],colour:[252,152,0,255]},{position:[8,10,3],colour:[252,152,0,255]},{position:[8,10,4],colour:[252,152,0,255]},{position:[8,10,5],colour:[252,152,0,255]},{position:[8,10,6],colour:[252,152,0,255]},{position:[8,10,7],colour:[116,116,116,255]},{position:[8,11,0],colour:[168,168,168,255]},{position:[8,11,1],colour:[252,152,0,255]},{position:[8,11,2],colour:[252,152,0,255]},{position:[8,11,3],colour:[252,152,0,255]},{position:[8,11,4],colour:[252,152,0,255]},{position:[8,11,5],colour:[252,152,0,255]},{position:[8,11,6],colour:[116,116,116,255]},{position:[8,12,1],colour:[136,136,136,255]},{position:[8,12,2],colour:[252,152,0,255]},{position:[8,12,3],colour:[252,152,0,255]},{position:[8,12,4],colour:[252,152,0,255]},{position:[8,12,5],colour:[116,116,116,255]},{position:[8,13,2],colour:[116,116,116,255]},{position:[8,13,3],colour:[116,116,116,255]},{position:[8,13,4],colour:[116,116,116,255]},{position:[9,3,1],colour:[0,152,48,255]},{position:[9,3,2],colour:[0,152,48,255]},{position:[9,3,3],colour:[0,152,48,255]},{position:[9,3,4],colour:[0,152,48,255]},{position:[9,3,5],colour:[0,152,48,255]},{position:[9,4,2],colour:[0,152,48,255]},{position:[9,4,3],colour:[252,152,0,255]},{position:[9,4,4],colour:[0,152,48,255]},{position:[9,5,2],colour:[0,152,48,255]},{position:[9,5,3],colour:[252,152,0,255]},{position:[9,5,4],colour:[0,152,48,255]},{position:[9,6,2],colour:[48,204,0,255]},{position:[9,6,3],colour:[252,152,0,255]},{position:[9,6,4],colour:[252,152,0,255]},{position:[9,6,5],colour:[252,152,0,255]},{position:[9,6,6],colour:[252,152,0,255]},{position:[9,7,2],colour:[252,152,100,255]},{position:[9,7,3],colour:[252,152,0,255]},{position:[9,7,4],colour:[252,152,0,255]},{position:[9,7,5],colour:[252,152,0,255]},{position:[9,8,2],colour:[252,204,152,255]},{position:[9,8,3],colour:[252,152,0,255]},{position:[9,8,4],colour:[252,152,0,255]},{position:[9,8,5],colour:[116,116,116,255]},{position:[9,9,1],colour:[252,152,0,255]},{position:[9,9,2],colour:[252,152,0,255]},{position:[9,9,3],colour:[252,152,0,255]},{position:[9,9,4],colour:[252,152,0,255]},{position:[9,9,5],colour:[252,152,0,255]},{position:[9,9,6],colour:[116,116,116,255]},{position:[9,9,7],colour:[116,116,116,255]},{position:[9,10,0],colour:[168,168,168,255]},{position:[9,10,1],colour:[252,152,0,255]},{position:[9,10,2],colour:[252,152,0,255]},{position:[9,10,3],colour:[252,152,0,255]},{position:[9,10,4],colour:[252,152,0,255]},{position:[9,10,5],colour:[252,152,0,255]},{position:[9,10,6],colour:[252,152,0,255]},{position:[9,10,7],colour:[116,116,116,255]},{position:[9,11,0],colour:[168,168,168,255]},{position:[9,11,1],colour:[252,152,0,255]},{position:[9,11,2],colour:[252,152,0,255]},{position:[9,11,3],colour:[252,152,0,255]},{position:[9,11,4],colour:[252,152,0,255]},{position:[9,11,5],colour:[252,152,0,255]},{position:[9,11,6],colour:[116,116,116,255]},{position:[9,12,1],colour:[136,136,136,255]},{position:[9,12,2],colour:[252,152,0,255]},{position:[9,12,3],colour:[252,152,0,255]},{position:[9,12,4],colour:[252,152,0,255]},{position:[9,12,5],colour:[116,116,116,255]},{position:[9,13,2],colour:[136,136,136,255]},{position:[9,13,3],colour:[136,136,136,255]},{position:[9,13,4],colour:[136,136,136,255]},{position:[10,3,1],colour:[48,204,48,255]},{position:[10,3,2],colour:[48,204,48,255]},{position:[10,3,3],colour:[48,204,48,255]},{position:[10,3,4],colour:[48,204,48,255]},{position:[10,3,5],colour:[48,204,48,255]},{position:[10,4,2],colour:[48,204,48,255]},{position:[10,4,3],colour:[252,152,0,255]},{position:[10,4,4],colour:[48,204,48,255]},{position:[10,5,2],colour:[48,204,48,255]},{position:[10,5,3],colour:[252,152,0,255]},{position:[10,5,4],colour:[48,204,48,255]},{position:[10,6,2],colour:[48,204,48,255]},{position:[10,6,3],colour:[252,152,0,255]},{position:[10,6,4],colour:[252,152,0,255]},{position:[10,6,5],colour:[252,152,0,255]},{position:[10,6,6],colour:[252,152,0,255]},{position:[10,7,2],colour:[252,204,152,255]},{position:[10,7,3],colour:[252,152,0,255]},{position:[10,7,4],colour:[252,152,0,255]},{position:[10,7,5],colour:[252,152,0,255]},{position:[10,8,2],colour:[252,204,152,255]},{position:[10,8,3],colour:[252,152,0,255]},{position:[10,8,4],colour:[252,152,0,255]},{position:[10,8,5],colour:[116,116,116,255]},{position:[10,9,2],colour:[252,152,0,255]},{position:[10,9,3],colour:[252,152,0,255]},{position:[10,9,4],colour:[252,152,0,255]},{position:[10,9,5],colour:[252,152,0,255]},{position:[10,9,6],colour:[116,116,116,255]},{position:[10,9,7],colour:[116,116,116,255]},{position:[10,10,0],colour:[184,184,184,255]},{position:[10,10,1],colour:[136,136,136,255]},{position:[10,10,2],colour:[252,152,0,255]},{position:[10,10,3],colour:[252,152,0,255]},{position:[10,10,4],colour:[252,152,0,255]},{position:[10,10,5],colour:[252,152,0,255]},{position:[10,10,6],colour:[252,152,0,255]},{position:[10,10,7],colour:[116,116,116,255]},{position:[10,11,0],colour:[184,184,184,255]},{position:[10,11,1],colour:[252,152,0,255]},{position:[10,11,2],colour:[252,152,0,255]},{position:[10,11,3],colour:[252,152,0,255]},{position:[10,11,4],colour:[252,152,0,255]},{position:[10,11,5],colour:[252,152,0,255]},{position:[10,11,6],colour:[116,116,116,255]},{position:[10,12,1],colour:[136,136,136,255]},{position:[10,12,2],colour:[252,152,0,255]},{position:[10,12,3],colour:[252,152,0,255]},{position:[10,12,4],colour:[252,152,0,255]},{position:[10,12,5],colour:[116,116,116,255]},{position:[10,13,2],colour:[136,136,136,255]},{position:[10,13,3],colour:[136,136,136,255]},{position:[10,13,4],colour:[136,136,136,255]},{position:[11,0,3],colour:[152,100,48,255]},{position:[11,1,3],colour:[152,100,48,255]},{position:[11,2,3],colour:[252,204,152,255]},{position:[11,3,1],colour:[0,152,48,255]},{position:[11,3,2],colour:[0,152,48,255]},{position:[11,3,3],colour:[252,152,0,255]},{position:[11,3,4],colour:[0,152,48,255]},{position:[11,3,5],colour:[0,152,48,255]},{position:[11,4,2],colour:[0,152,48,255]},{position:[11,4,3],colour:[48,204,48,255]},{position:[11,4,4],colour:[0,152,48,255]},{position:[11,5,2],colour:[48,204,48,255]},{position:[11,5,3],colour:[48,152,100,255]},{position:[11,5,4],colour:[48,152,100,255]},{position:[11,5,5],colour:[100,152,48,255]},{position:[11,5,6],colour:[252,152,0,255]},{position:[11,6,1],colour:[252,152,0,255]},{position:[11,6,2],colour:[252,152,0,255]},{position:[11,6,3],colour:[252,152,0,255]},{position:[11,6,4],colour:[252,152,0,255]},{position:[11,6,5],colour:[252,152,48,255]},{position:[11,7,2],colour:[252,204,152,255]},{position:[11,7,3],colour:[252,152,0,255]},{position:[11,7,4],colour:[252,152,0,255]},{position:[11,7,5],colour:[252,152,0,255]},{position:[11,7,6],colour:[252,152,0,255]},{position:[11,8,2],colour:[16,16,16,255]},{position:[11,8,3],colour:[252,152,0,255]},{position:[11,8,4],colour:[252,152,0,255]},{position:[11,8,5],colour:[252,152,0,255]},{position:[11,8,6],colour:[116,116,116,255]},{position:[11,8,7],colour:[116,116,116,255]},{position:[11,9,2],colour:[252,152,0,255]},{position:[11,9,3],colour:[252,152,0,255]},{position:[11,9,4],colour:[252,152,0,255]},{position:[11,9,5],colour:[252,152,0,255]},{position:[11,9,6],colour:[252,152,0,255]},{position:[11,9,7],colour:[116,116,116,255]},{position:[11,10,0],colour:[184,184,184,255]},{position:[11,10,1],colour:[136,136,136,255]},{position:[11,10,2],colour:[252,152,0,255]},{position:[11,10,3],colour:[252,152,0,255]},{position:[11,10,4],colour:[252,152,0,255]},{position:[11,10,5],colour:[252,152,0,255]},{position:[11,10,6],colour:[252,152,0,255]},{position:[11,10,7],colour:[116,116,116,255]},{position:[11,11,0],colour:[184,184,184,255]},{position:[11,11,1],colour:[252,152,0,255]},{position:[11,11,2],colour:[252,152,0,255]},{position:[11,11,3],colour:[252,152,0,255]},{position:[11,11,4],colour:[252,152,0,255]},{position:[11,11,5],colour:[252,152,0,255]},{position:[11,11,6],colour:[116,116,116,255]},{position:[11,12,1],colour:[136,136,136,255]},{position:[11,12,2],colour:[252,152,0,255]},{position:[11,12,3],colour:[252,152,0,255]},{position:[11,12,4],colour:[252,152,0,255]},{position:[11,12,5],colour:[116,116,116,255]},{position:[11,13,2],colour:[136,136,136,255]},{position:[11,13,3],colour:[136,136,136,255]},{position:[11,13,4],colour:[136,136,136,255]},{position:[12,3,1],colour:[48,204,48,255]},{position:[12,3,2],colour:[0,152,48,255]},{position:[12,3,3],colour:[48,204,48,255]},{position:[12,3,4],colour:[0,152,48,255]},{position:[12,3,5],colour:[48,204,48,255]},{position:[12,4,6],colour:[252,152,0,255]},{position:[12,5,2],colour:[252,152,0,255]},{position:[12,6,2],colour:[252,152,0,255]},{position:[12,6,3],colour:[0,152,48,255]},{position:[12,6,4],colour:[252,152,0,255]},{position:[12,6,5],colour:[252,152,0,255]},{position:[12,6,6],colour:[252,152,0,255]},{position:[12,7,1],colour:[252,152,0,255]},{position:[12,7,3],colour:[252,152,48,255]},{position:[12,7,4],colour:[252,152,0,255]},{position:[12,7,5],colour:[252,152,0,255]},{position:[12,8,1],colour:[252,152,0,255]},{position:[12,8,2],colour:[252,152,0,255]},{position:[12,8,3],colour:[252,152,0,255]},{position:[12,8,4],colour:[252,152,0,255]},{position:[12,8,5],colour:[136,136,136,255]},{position:[12,9,1],colour:[252,152,0,255]},{position:[12,9,2],colour:[204,152,48,255]},{position:[12,9,3],colour:[252,152,0,255]},{position:[12,9,4],colour:[252,152,0,255]},{position:[12,9,5],colour:[252,152,0,255]},{position:[12,9,6],colour:[116,116,116,255]},{position:[12,10,0],colour:[184,184,184,255]},{position:[12,10,1],colour:[252,152,0,255]},{position:[12,10,2],colour:[252,152,0,255]},{position:[12,10,3],colour:[136,136,136,255]},{position:[12,10,4],colour:[252,152,0,255]},{position:[12,10,5],colour:[252,152,0,255]},{position:[12,10,6],colour:[116,116,116,255]},{position:[12,11,0],colour:[236,236,236,255]},{position:[12,11,1],colour:[252,152,0,255]},{position:[12,11,2],colour:[136,136,136,255]},{position:[12,11,3],colour:[252,152,0,255]},{position:[12,11,4],colour:[136,136,136,255]},{position:[12,11,5],colour:[252,152,0,255]},{position:[12,11,6],colour:[116,116,116,255]},{position:[12,12,1],colour:[136,136,136,255]},{position:[12,12,2],colour:[136,136,136,255]},{position:[12,12,3],colour:[136,136,136,255]},{position:[12,12,4],colour:[116,116,116,255]},{position:[12,12,5],colour:[116,116,116,255]},{position:[13,3,3],colour:[252,204,152,255]},{position:[13,3,6],colour:[252,152,0,255]},{position:[13,5,3],colour:[252,204,152,255]},{position:[13,5,6],colour:[252,152,0,255]},{position:[13,7,4],colour:[252,152,0,255]},{position:[13,8,2],colour:[136,136,136,255]},{position:[13,8,3],colour:[136,136,136,255]},{position:[13,8,4],colour:[136,136,136,255]},{position:[13,9,1],colour:[136,136,136,255]},{position:[13,9,3],colour:[136,136,136,255]},{position:[13,9,5],colour:[136,136,136,255]},{position:[13,10,1],colour:[136,136,136,255]},{position:[13,10,2],colour:[136,136,136,255]},{position:[13,10,4],colour:[136,136,136,255]},{position:[13,10,5],colour:[136,136,136,255]},{position:[13,11,1],colour:[136,136,136,255]},{position:[13,11,3],colour:[136,136,136,255]},{position:[13,11,5],colour:[136,136,136,255]},{position:[13,12,2],colour:[136,136,136,255]},{position:[13,12,3],colour:[136,136,136,255]},{position:[13,12,4],colour:[136,136,136,255]},{position:[13,13,3],colour:[136,136,136,255]},{position:[14,4,3],colour:[252,204,152,255]},{position:[14,4,6],colour:[252,152,0,255]},{position:[14,6,5],colour:[252,152,0,255]},{position:[14,13,3],colour:[136,136,136,255]},{position:[14,14,3],colour:[168,168,168,255]},{position:[15,3,6],colour:[252,152,0,255]},{position:[16,4,5],colour:[252,152,0,255]},{position:[16,6,3],colour:[252,152,0,255]},{position:[17,5,4],colour:[252,152,0,255]}],sliceFilePaths:["/voxel-models/mini-viking/0.png","/voxel-models/mini-viking/1.png","/voxel-models/mini-viking/2.png","/voxel-models/mini-viking/3.png","/voxel-models/mini-viking/4.png","/voxel-models/mini-viking/5.png","/voxel-models/mini-viking/6.png"]}},144:t=>{"use strict";t.exports="@group(0) @binding(0) var mySampler : sampler;\n@group(0) @binding(1) var myTexture : texture_2d<f32>;\n\nstruct VertexOutput {\n  @builtin(position) Position : vec4<f32>,\n  @location(0) fragUV : vec2<f32>,\n}\n\n@vertex\nfn vertex_main(@builtin(vertex_index) VertexIndex : u32) -> VertexOutput {\n  const pos = array(\n    vec2( 1.0,  1.0),\n    vec2( 1.0, -1.0),\n    vec2(-1.0, -1.0),\n    vec2( 1.0,  1.0),\n    vec2(-1.0, -1.0),\n    vec2(-1.0,  1.0),\n  );\n\n  const uv = array(\n    vec2(1.0, 0.0),\n    vec2(1.0, 1.0),\n    vec2(0.0, 1.0),\n    vec2(1.0, 0.0),\n    vec2(0.0, 1.0),\n    vec2(0.0, 0.0),\n  );\n\n  var output : VertexOutput;\n  output.Position = vec4(pos[VertexIndex], 0.0, 1.0);\n  output.fragUV = uv[VertexIndex];\n  return output;\n}\n\n@fragment\nfn fragment_main(@location(0) fragUV : vec2<f32>) -> @location(0) vec4<f32> {\n//    return vec4(sin(f32(time) * 0.001), 0, 0, 1);\n    return textureSample(myTexture, mySampler, fragUV);\n}\n"},961:t=>{"use strict";t.exports='struct FrustumCornerDirections {\n  topLeft : vec3<f32>,\n  topRight : vec3<f32>,\n  bottomLeft : vec3<f32>,\n  bottomRight : vec3<f32>\n}\n\nfn calculateRayDirection(uv: vec2<f32>, directions: FrustumCornerDirections) -> vec3<f32> {\n  let topInterpolated = mix(directions.topLeft, directions.topRight, uv.x);\n  let bottomInterpolated = mix(directions.bottomLeft, directions.bottomRight, uv.x);\n  let finalInterpolated = mix(bottomInterpolated, topInterpolated, uv.y);\n  return normalize(finalInterpolated);\n}\n\nfn plainIntersect(ro: vec3<f32>, rd: vec3<f32>, p: vec4<f32>) -> f32 {\n    return -(dot(ro, p.xyz) + p.w) / dot(rd, p.xyz);\n}\n\nstruct BoxIntersectionResult {\n    tNear: f32,\n    tFar: f32,\n    normal: vec3<f32>,\n}\n\nfn boxIntersection(\n    ro: vec3<f32>,\n    rd: vec3<f32>,\n    boxSize: vec3<f32>,\n) -> BoxIntersectionResult {\n    var result = BoxIntersectionResult();\n\n    let offsetRayOrigin = ro - boxSize;\n    let m: vec3<f32> = 1.0 / rd;\n    let n: vec3<f32> = m * offsetRayOrigin;\n    let k: vec3<f32> = abs(m) * boxSize;\n\n    let t1: vec3<f32> = -n - k;\n    let t2: vec3<f32> = -n + k;\n\n    let tN: f32 = max(max(t1.x, t1.y), t1.z);\n    let tF: f32 = min(min(t2.x, t2.y), t2.z);\n\n    if (tN > tF || tF < 0.0) {\n        result.tNear = -1.0;\n        result.tFar = -1.0;\n        result.normal = vec3(0.0);\n\n        return result;\n    }\n\n    // Check if the ray starts inside the volume\n    let insideVolume = tN < 0.0;\n\n    var normal = select(\n        step(vec3<f32>(tN), t1),\n        step(t2, vec3<f32>(tF)),\n        tN < 0.0,\n    );\n\n    normal *= -sign(rd);\n\n    // Check if the intersection is in the correct direction, only if inside the volume\n    if (insideVolume && dot(normal, rd) < 0.0) {\n        result.tNear = -1.0;\n        result.tFar = -1.0;\n        result.normal = vec3(0.0);\n        return result;\n    }\n\n\n\n    result.tNear = tN;\n    result.tFar = tF;\n    result.normal = normal;\n\n    return result;\n}\n\nstruct VoxelObject {\n  transform: mat4x4<f32>,\n  size : vec3<f32>,\n  padding : f32\n}\n\nconst VOXEL_OBJECT_COUNT = 2;\n\n@group(0) @binding(0) var outputTex : texture_storage_2d<rgba8unorm, write>;\n@group(0) @binding(2) var<uniform> resolution : vec2<u32>;\n@group(0) @binding(3) var<uniform> frustumCornerDirections : FrustumCornerDirections;\n@group(0) @binding(4) var<uniform> cameraPosition : vec3<f32>;\n@group(0) @binding(5) var<uniform> voxelObjects : array<VoxelObject, VOXEL_OBJECT_COUNT>; // TODO: dynamic amount of these using string interpolation\n\nconst EPSILON = 0.001;\nconst BORDER_WIDTH = 0.05;\nconst MAX_RAY_STEPS = 256;\n\nfn addVoxelBorderColour(baseColour: vec3<f32>, worldPos: vec3<f32>) -> vec3<f32> {\n  let positionInVoxel = fract(worldPos);\n  let voxelBorder = step(positionInVoxel, vec3(1 - BORDER_WIDTH)) - step(positionInVoxel, vec3(BORDER_WIDTH));\n  let isVoxelBorder = step(length(voxelBorder), 1.0);\n  return mix(baseColour,baseColour * 0.8,isVoxelBorder);\n}\n\nfn addBasicShading(baseColour: vec3<f32>, normal: vec3<f32>) -> vec3<f32> {\n  let lightDirection = normalize(vec3(0.5, 1.0, 0.5));\n  let cosTheta = max(dot(normal, lightDirection), 0.0);\n  let lambertianReflectance = cosTheta * baseColour;\n  return lambertianReflectance;\n}\n\nfn addBoundsBorderColour(baseColour: vec3<f32>, worldPos: vec3<f32>, bounds: vec3<f32>) -> vec3<f32> {\n  let positionInBounds = fract(worldPos / bounds);\n  let boundsBorderWidth = BORDER_WIDTH / bounds * 4.0;\n  let boundsBorder = step(positionInBounds, vec3(1 - boundsBorderWidth)) - step(positionInBounds, vec3(boundsBorderWidth));\n  let isBoundsBorder = step(length(boundsBorder), 1.0);\n  return mix(baseColour,vec3(1.0,0.0,1.0),isBoundsBorder);\n}\n\nfn sampleVoxel(position: vec3<f32>) -> bool {\n  let layer1 = (sin(position.x * 0.25) - sin(position.z * 0.25)) * 2;\n  let layer2 = (sin(position.x * 0.125) - sin(position.z * 0.125)) * 4;\n  let isSolidVoxel = layer1 + layer2 > (position.y - 32);\n  return isSolidVoxel;\n}\n\n@compute @workgroup_size(8, 8, 1)\nfn main(\n  @builtin(global_invocation_id) GlobalInvocationID : vec3<u32>\n) {\n  // background\n  var voxelSize = 1.0;\n  let pixel = vec2<f32>(f32(GlobalInvocationID.x), f32(resolution.y - GlobalInvocationID.y));\n  let uv = pixel / vec2<f32>(resolution);\n  var rayOrigin = cameraPosition;\n  var rayDirection = calculateRayDirection(uv,frustumCornerDirections);\n  var colour = sample_sky(rayDirection);\n  let plainIntersection = plainIntersect(rayOrigin, rayDirection, vec4<f32>(0.0, 1.0, 0.0, 0.0));\n  var worldPos = vec3(0.0);\n  if(plainIntersection > 0.0){\n    worldPos = plainIntersection * rayDirection + rayOrigin;\n    var borderColour = addVoxelBorderColour(colour, worldPos * 0.25);\n    colour = borderColour;\n  }\n\n  var tNear = 999999.0;\n  var occlusion = false;\n  var normal = vec3(0.0);\n  var closestIntersection = 9999999.0;\n\n  // voxel objects\n  for (var i = 0; i < VOXEL_OBJECT_COUNT; i++) {\n    var voxelObject = voxelObjects[i];\n    let objectRayOrigin = (voxelObject.transform * vec4<f32>(rayOrigin, 1.0)).xyz;\n    let objectRayDirection = (voxelObject.transform * vec4<f32>(rayDirection, 0.0)).xyz;\n    let intersect = boxIntersection(objectRayOrigin, objectRayDirection, voxelObject.size * 0.5);\n    tNear = intersect.tNear;\n    let boundingBoxSurfacePosition = objectRayOrigin + (tNear - EPSILON)  * objectRayDirection;\n    let isStartingInBounds = all(boundingBoxSurfacePosition > vec3(0.0)) && all(boundingBoxSurfacePosition < vec3(voxelObject.size / voxelSize));\n\n    let isBackwardsIntersection = tNear < 0.0 && !isStartingInBounds;\n    if(isBackwardsIntersection){\n      continue;\n    }\n\n    var pos = boundingBoxSurfacePosition;\n    var objectNormal = vec3(0.0);\n    var tIntersection = 0.0;\n    var stepsTaken = 0;\n    var voxelStep = sign(objectRayDirection);\n    var tDelta = vec3(voxelSize / abs(objectRayDirection));\n    var scaledStartingPoint = pos / voxelSize;\n    var scaledRayOrigin = vec3<f32>(objectRayOrigin) / voxelSize;\n    var currentIndex = floor(scaledStartingPoint);\n    var voxelOriginDifference = vec3<f32>(currentIndex) - scaledRayOrigin;\n    var clampedVoxelBoundary = (voxelStep * 0.5) + 0.5; // 0 if <= 0, 1 if > 0\n    var tMax = (voxelStep * voxelOriginDifference + clampedVoxelBoundary) * tDelta + EPSILON;\n\n    while(stepsTaken <= MAX_RAY_STEPS)\n    {\n      stepsTaken ++;\n      tIntersection = min(min(tMax.x, tMax.y), tMax.z);\n      let mask = vec3(\n          select(0.0, 1.0, tMax.x == tIntersection),\n          select(0.0, 1.0, tMax.y == tIntersection),\n          select(0.0, 1.0, tMax.z == tIntersection)\n      );\n      tMax += mask * tDelta;\n      currentIndex += mask * voxelStep;\n      objectNormal = vec3(mask * -voxelStep);\n      pos = objectRayOrigin + objectRayDirection * tIntersection;\n      let isInBounds = all(currentIndex > vec3(-1.0)) && all(currentIndex < vec3(voxelObject.size / voxelSize));\n      if(!isInBounds){\n          break;\n      }\n      // we marched further than the closest intersection, so we are "inside" voxels now\n      let isInsideAlreadyMarchedVoxel = tIntersection > closestIntersection + EPSILON;\n      if(isInsideAlreadyMarchedVoxel){\n          break;\n      }\n      if(sampleVoxel(currentIndex)){\n          closestIntersection = tIntersection;\n          normal = objectNormal;\n          colour = vec3(f32(i), 1.0 - f32(i), 0.0);\n          occlusion = true;\n          worldPos = pos;\n          break;\n      }\n    }\n  }\n\n  // output result\n  if(occlusion){\n    colour = addBasicShading(colour, normal);\n    colour = addVoxelBorderColour(colour, worldPos);\n  }\n\n  textureStore(outputTex, GlobalInvocationID.xy, vec4(colour,1));\n}\n'},693:t=>{"use strict";t.exports="// Function to mimic the ease_out_expo function\nfn ease_out_expo(x: f32) -> f32 {\n    let t: f32 = x;\n    let b: f32 = 0.0;\n    let c: f32 = 1.0;\n    let d: f32 = 1.0; // Set the duration within the function\n\n    let intermediate_result: f32 = c * (-pow(2.0, -10.0 * t / d) + 1.0) + b;\n\n    return select(intermediate_result, b + c, t == d);\n\n}\n\nfn sample_sky(rayDirection: vec3<f32>) -> vec3<f32> {\n    //TODO: add this to uniforms\n    let lightDirection = normalize(vec3(1.0,1.0,0.));\n    let y = clamp(ease_out_expo(rayDirection.y * 0.66), 0.0, 1.0);\n//    let y = rayDirection.y;\n    let sunHeight = clamp(lightDirection.y, 0.0, 1.0);\n    let horizon = mix(vec3<f32>(0.95, 0.5, 0.4), vec3<f32>(0.6, 0.8, 1.0), sunHeight);\n    let sky = mix(vec3<f32>(0.55, 0.7, 0.7), vec3<f32>(0.3, 0.6, 0.95), sunHeight);\n    let sunFalloff = 0.8;\n    let sunAmount = 1.0 - ease_out_expo(length(lightDirection - rayDirection) * sunFalloff);\n//    let sunAmount = 1.0 - length(lightDirection - rayDirection) * sunFalloff;\n    let skyColour = mix(horizon, sky, y);\n    let sunColour = mix(vec3<f32>(1.8, 1.6, 1.1), vec3<f32>(1.6, 1.6, 1.4), sunHeight);\n\n    let intensity = clamp(sunHeight, 0.75, 1.0);\n    return mix(skyColour, sunColour, clamp(sunAmount, 0.0, 1.0)) * intensity;\n}"},453:(t,o,e)=>{"use strict";e.r(o),e.d(o,{TypedArrayViewGenerator:()=>r,copySourceToTexture:()=>yo,copySourcesToTexture:()=>_o,createBufferLayoutsFromArrays:()=>io,createBuffersAndAttributesFromArrays:()=>uo,createTextureFromImage:()=>ko,createTextureFromImages:()=>bo,createTextureFromSource:()=>vo,createTextureFromSources:()=>wo,generateMipmap:()=>Zt,getSizeForMipFromTexture:()=>mo,getSizeFromSource:()=>go,interleaveVertexData:()=>ao,isTypedArray:()=>s,kTypes:()=>c,loadImageBitmap:()=>xo,makeShaderDataDefinitions:()=>$t,makeStructuredView:()=>y,makeTypedArrayViews:()=>m,normalizeGPUExtent3D:()=>Ht,numMipLevels:()=>Yt,primitives:()=>Oo,setIntrinsicsToView:()=>p,setStructuredValues:()=>x,setStructuredView:()=>_,setTypedValues:()=>v,subarray:()=>i});const n=(t,o)=>((t+o-1)/o|0)*o;class r{arrayBuffer;byteOffset;constructor(t){this.arrayBuffer=new ArrayBuffer(t),this.byteOffset=0}align(t){this.byteOffset=n(this.byteOffset,t)}pad(t){this.byteOffset+=t}getView(t,o){const e=new t(this.arrayBuffer,this.byteOffset,o);return this.byteOffset+=e.byteLength,e}}function i(t,o,e){return t.subarray(o,o+e)}const s=t=>t&&"number"==typeof t.length&&t.buffer instanceof ArrayBuffer&&"number"==typeof t.byteLength,a={i32:{numElements:1,align:4,size:4,type:"i32",View:Int32Array},u32:{numElements:1,align:4,size:4,type:"u32",View:Uint32Array},f32:{numElements:1,align:4,size:4,type:"f32",View:Float32Array},f16:{numElements:1,align:2,size:2,type:"u16",View:Uint16Array},vec2f:{numElements:2,align:8,size:8,type:"f32",View:Float32Array},vec2i:{numElements:2,align:8,size:8,type:"i32",View:Int32Array},vec2u:{numElements:2,align:8,size:8,type:"u32",View:Uint32Array},vec2h:{numElements:2,align:4,size:4,type:"u16",View:Uint16Array},vec3i:{numElements:3,align:16,size:12,type:"i32",View:Int32Array},vec3u:{numElements:3,align:16,size:12,type:"u32",View:Uint32Array},vec3f:{numElements:3,align:16,size:12,type:"f32",View:Float32Array},vec3h:{numElements:3,align:8,size:6,type:"u16",View:Uint16Array},vec4i:{numElements:4,align:16,size:16,type:"i32",View:Int32Array},vec4u:{numElements:4,align:16,size:16,type:"u32",View:Uint32Array},vec4f:{numElements:4,align:16,size:16,type:"f32",View:Float32Array},vec4h:{numElements:4,align:8,size:8,type:"u16",View:Uint16Array},mat2x2f:{numElements:4,align:8,size:16,type:"f32",View:Float32Array},mat2x2h:{numElements:4,align:4,size:8,type:"u16",View:Uint16Array},mat3x2f:{numElements:6,align:8,size:24,type:"f32",View:Float32Array},mat3x2h:{numElements:6,align:4,size:12,type:"u16",View:Uint16Array},mat4x2f:{numElements:8,align:8,size:32,type:"f32",View:Float32Array},mat4x2h:{numElements:8,align:4,size:16,type:"u16",View:Uint16Array},mat2x3f:{numElements:8,align:16,size:32,pad:[3,1],type:"f32",View:Float32Array},mat2x3h:{numElements:8,align:8,size:16,pad:[3,1],type:"u16",View:Uint16Array},mat3x3f:{numElements:12,align:16,size:48,pad:[3,1],type:"f32",View:Float32Array},mat3x3h:{numElements:12,align:8,size:24,pad:[3,1],type:"u16",View:Uint16Array},mat4x3f:{numElements:16,align:16,size:64,pad:[3,1],type:"f32",View:Float32Array},mat4x3h:{numElements:16,align:8,size:32,pad:[3,1],type:"u16",View:Uint16Array},mat2x4f:{numElements:8,align:16,size:32,type:"f32",View:Float32Array},mat2x4h:{numElements:8,align:8,size:16,type:"u16",View:Uint16Array},mat3x4f:{numElements:12,align:16,size:48,pad:[3,1],type:"f32",View:Float32Array},mat3x4h:{numElements:12,align:8,size:24,pad:[3,1],type:"u16",View:Uint16Array},mat4x4f:{numElements:16,align:16,size:64,type:"f32",View:Float32Array},mat4x4h:{numElements:16,align:8,size:32,type:"u16",View:Uint16Array},bool:{numElements:0,align:1,size:0,type:"bool",View:Uint32Array}},u={...a,"vec2<i32>":a.vec2i,"vec2<u32>":a.vec2u,"vec2<f32>":a.vec2f,"vec2<f16>":a.vec2h,"vec3<i32>":a.vec3i,"vec3<u32>":a.vec3u,"vec3<f32>":a.vec3f,"vec3<f16>":a.vec3h,"vec4<i32>":a.vec4i,"vec4<u32>":a.vec4u,"vec4<f32>":a.vec4f,"vec4<f16>":a.vec4h,"mat2x2<f32>":a.mat2x2f,"mat2x2<f16>":a.mat2x2h,"mat3x2<f32>":a.mat3x2f,"mat3x2<f16>":a.mat3x2h,"mat4x2<f32>":a.mat4x2f,"mat4x2<f16>":a.mat4x2h,"mat2x3<f32>":a.mat2x3f,"mat2x3<f16>":a.mat2x3h,"mat3x3<f32>":a.mat3x3f,"mat3x3<f16>":a.mat3x3h,"mat4x3<f32>":a.mat4x3f,"mat4x3<f16>":a.mat4x3h,"mat2x4<f32>":a.mat2x4f,"mat2x4<f16>":a.mat2x4h,"mat3x4<f32>":a.mat3x4f,"mat3x4<f16>":a.mat3x4h,"mat4x4<f32>":a.mat4x4f,"mat4x4<f16>":a.mat4x4h},c=(l=u,Object.keys(l));var l;function p(t=[],o){const e=new Set;for(const n of c){const r=u[n];e.has(r)||(e.add(r),r.flatten=t.includes(n)?o:!o)}}function h(t){const o=t;if(o.elementType)return o.size;{const e=t,r=o.numElements||1;if(e.fields)return t.size*r;{const o=t,{align:e}=u[o.type];return r>1?n(t.size,e)*r:t.size}}}function d(t,o,e,r){const{size:i,type:s}=t;try{const{View:t,align:a}=u[s],c=void 0!==r,l=c?n(i,a):i;return new t(o,e,l/t.BYTES_PER_ELEMENT*(c?0===r?(o.byteLength-e)/l:r:1))}catch{throw new Error(`unknown type: ${s}`)}}function f(t){return!t.fields&&!t.elementType}function m(t,o,e){const n=e||0,r=o||new ArrayBuffer(h(t)),i=(t,o)=>{const e=t,n=e.elementType;if(n){if(f(n)&&u[n.type].flatten)return d(n,r,o,e.numElements);{const t=h(n),a=0===e.numElements?(r.byteLength-o)/t:e.numElements;return s=e=>i(n,o+t*e),new Array(a).fill(0).map(((t,o)=>s(o)))}}if("string"==typeof t)throw Error("unreachable");{const e=t.fields;if(e){const t={};for(const[n,{type:r,offset:s}]of Object.entries(e))t[n]=i(r,o+s);return t}return d(t,r,o)}var s};return{views:i(t,n),arrayBuffer:r}}function _(t,o){if(void 0!==t)if(s(o)){const e=o;if(1===e.length&&"number"==typeof t)e[0]=t;else if(Array.isArray(t[0])||s(t[0])){const o=t[0].length,n=3===o?4:o;for(let o=0;o<t.length;++o){const r=o*n;e.set(t[o],r)}}else e.set(t)}else if(Array.isArray(o)){const e=o;t.forEach(((t,o)=>{_(t,e[o])}))}else{const e=o;for(const[o,n]of Object.entries(t)){const t=e[o];t&&_(n,t)}}}function y(t,o,e=0){const n=t,r=m(void 0===n.group?t:n.typeDefinition,o,e);return{...r,set(t){_(t,r.views)}}}p();const g=new WeakMap;function w(t,o,e,n){const r=function(t,o){const e=function(t){let o=g.get(t);return o||(o=new Map,g.set(t,o)),o}(t);let n=e.get(o);return n||(n=new o(t),e.set(o,n)),n}(e,u[t.type].View),i=n/r.BYTES_PER_ELEMENT;"number"==typeof o?r[i]=o:r.set(o,i)}function v(t,o,e,n=0){const r=t.elementType;if(r){if(f(r)){const t=r;if(function(t){return s(t)||Array.isArray(t)&&"number"==typeof t[0]}(o))return void w(t,o,e,n)}return void o.forEach(((t,o)=>{v(r,t,e,n+r.size*o)}))}const i=t.fields;if(i)for(const[t,r]of Object.entries(o)){const o=i[t];o&&v(o.type,r,e,n+o.offset)}else w(t,o,e,n)}function x(t,o,e,n=0){v(t.typeDefinition,o,e,n)}class b{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class k{constructor(){}get isAstNode(){return!0}get astNodeType(){return""}evaluate(t){throw new Error("Cannot evaluate node")}evaluateString(t){return this.evaluate(t).toString()}}class M extends k{constructor(){super()}}class A extends M{constructor(t,o,e,n){super(),this.name=t,this.args=o,this.returnType=e,this.body=n}get astNodeType(){return"function"}}class E extends M{constructor(t){super(),this.expression=t}get astNodeType(){return"staticAssert"}}class T extends M{constructor(t,o){super(),this.condition=t,this.body=o}get astNodeType(){return"while"}}class S extends M{constructor(t){super(),this.body=t}get astNodeType(){return"continuing"}}class O extends M{constructor(t,o,e,n){super(),this.init=t,this.condition=o,this.increment=e,this.body=n}get astNodeType(){return"for"}}class z extends M{constructor(t,o,e,n,r){super(),this.name=t,this.type=o,this.storage=e,this.access=n,this.value=r}get astNodeType(){return"var"}}class I extends M{constructor(t,o,e){super(),this.name=t,this.type=o,this.value=e}get astNodeType(){return"override"}}class V extends M{constructor(t,o,e,n,r){super(),this.name=t,this.type=o,this.storage=e,this.access=n,this.value=r}get astNodeType(){return"let"}}class q extends M{constructor(t,o,e,n,r){super(),this.name=t,this.type=o,this.storage=e,this.access=n,this.value=r}get astNodeType(){return"const"}evaluate(t){return this.value.evaluate(t)}}var F,P,B,U,D;!function(t){t.increment="++",t.decrement="--"}(F||(F={})),function(t){t.parse=function(o){const e=o;if("parse"==e)throw new Error("Invalid value for IncrementOperator");return t[e]}}(F||(F={}));class N extends M{constructor(t,o){super(),this.operator=t,this.variable=o}get astNodeType(){return"increment"}}!function(t){t.assign="=",t.addAssign="+=",t.subtractAssin="-=",t.multiplyAssign="*=",t.divideAssign="/=",t.moduloAssign="%=",t.andAssign="&=",t.orAssign="|=",t.xorAssign="^=",t.shiftLeftAssign="<<=",t.shiftRightAssign=">>="}(P||(P={})),function(t){t.parse=function(o){const e=o;if("parse"==e)throw new Error("Invalid value for AssignOperator");return t[e]}}(P||(P={}));class C extends M{constructor(t,o,e){super(),this.operator=t,this.variable=o,this.value=e}get astNodeType(){return"assign"}}class L extends M{constructor(t,o){super(),this.name=t,this.args=o}get astNodeType(){return"call"}}class j extends M{constructor(t,o){super(),this.body=t,this.continuing=o}get astNodeType(){return"loop"}}class R extends M{constructor(t,o){super(),this.condition=t,this.body=o}get astNodeType(){return"body"}}class $ extends M{constructor(t,o,e,n){super(),this.condition=t,this.body=o,this.elseif=e,this.else=n}get astNodeType(){return"if"}}class W extends M{constructor(t){super(),this.value=t}get astNodeType(){return"return"}}class G extends M{constructor(t){super(),this.name=t}get astNodeType(){return"enable"}}class H extends M{constructor(t,o){super(),this.name=t,this.type=o}get astNodeType(){return"alias"}}class Y extends M{constructor(){super()}get astNodeType(){return"discard"}}class X extends M{constructor(){super()}get astNodeType(){return"break"}}class Z extends M{constructor(){super()}get astNodeType(){return"continue"}}class K extends M{constructor(t){super(),this.name=t}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}}class Q extends K{constructor(t,o){super(t),this.members=o}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(t){for(let o=0;o<this.members.length;o++)if(this.members[o].name==t)return o;return-1}}class J extends K{constructor(t,o,e){super(t),this.format=o,this.access=e}get astNodeType(){return"template"}}class tt extends K{constructor(t,o,e,n){super(t),this.storage=o,this.type=e,this.access=n}get astNodeType(){return"pointer"}}class ot extends K{constructor(t,o,e,n){super(t),this.attributes=o,this.format=e,this.count=n}get astNodeType(){return"array"}get isArray(){return!0}}class et extends K{constructor(t,o,e){super(t),this.format=o,this.access=e}get astNodeType(){return"sampler"}}class nt extends k{constructor(){super()}}class rt extends nt{constructor(t){super(),this.value=t}get astNodeType(){return"stringExpr"}toString(){return this.value}evaluateString(){return this.value}}class it extends nt{constructor(t,o){super(),this.type=t,this.args=o}get astNodeType(){return"createExpr"}}class st extends nt{constructor(t,o){super(),this.name=t,this.args=o}get astNodeType(){return"callExpr"}evaluate(t){switch(this.name){case"abs":return Math.abs(this.args[0].evaluate(t));case"acos":return Math.acos(this.args[0].evaluate(t));case"acosh":return Math.acosh(this.args[0].evaluate(t));case"asin":return Math.asin(this.args[0].evaluate(t));case"asinh":return Math.asinh(this.args[0].evaluate(t));case"atan":return Math.atan(this.args[0].evaluate(t));case"atan2":return Math.atan2(this.args[0].evaluate(t),this.args[1].evaluate(t));case"atanh":return Math.atanh(this.args[0].evaluate(t));case"ceil":return Math.ceil(this.args[0].evaluate(t));case"clamp":return Math.min(Math.max(this.args[0].evaluate(t),this.args[1].evaluate(t)),this.args[2].evaluate(t));case"cos":return Math.cos(this.args[0].evaluate(t));case"degrees":return 180*this.args[0].evaluate(t)/Math.PI;case"distance":return Math.sqrt(Math.pow(this.args[0].evaluate(t)-this.args[1].evaluate(t),2));case"dot":case"exp":return Math.exp(this.args[0].evaluate(t));case"exp2":return Math.pow(2,this.args[0].evaluate(t));case"floor":return Math.floor(this.args[0].evaluate(t));case"fma":return this.args[0].evaluate(t)*this.args[1].evaluate(t)+this.args[2].evaluate(t);case"fract":case"modf":return this.args[0].evaluate(t)-Math.floor(this.args[0].evaluate(t));case"inverseSqrt":return 1/Math.sqrt(this.args[0].evaluate(t));case"log":return Math.log(this.args[0].evaluate(t));case"log2":return Math.log2(this.args[0].evaluate(t));case"max":return Math.max(this.args[0].evaluate(t),this.args[1].evaluate(t));case"min":return Math.min(this.args[0].evaluate(t),this.args[1].evaluate(t));case"mix":return this.args[0].evaluate(t)*(1-this.args[2].evaluate(t))+this.args[1].evaluate(t)*this.args[2].evaluate(t);case"pow":return Math.pow(this.args[0].evaluate(t),this.args[1].evaluate(t));case"radians":return this.args[0].evaluate(t)*Math.PI/180;case"round":return Math.round(this.args[0].evaluate(t));case"sign":return Math.sign(this.args[0].evaluate(t));case"sin":return Math.sin(this.args[0].evaluate(t));case"sinh":return Math.sinh(this.args[0].evaluate(t));case"saturate":return Math.min(Math.max(this.args[0].evaluate(t),0),1);case"smoothstep":return this.args[0].evaluate(t)*this.args[0].evaluate(t)*(3-2*this.args[0].evaluate(t));case"sqrt":return Math.sqrt(this.args[0].evaluate(t));case"step":return this.args[0].evaluate(t)<this.args[1].evaluate(t)?0:1;case"tan":return Math.tan(this.args[0].evaluate(t));case"tanh":return Math.tanh(this.args[0].evaluate(t));case"trunc":return Math.trunc(this.args[0].evaluate(t));default:throw new Error("Non const function: "+this.name)}}}class at extends nt{constructor(t){super(),this.name=t}get astNodeType(){return"varExpr"}}class ut extends nt{constructor(t,o){super(),this.name=t,this.initializer=o}get astNodeType(){return"constExpr"}evaluate(t){var o,e;if(this.initializer instanceof it){const n=null===(o=this.postfix)||void 0===o?void 0:o.evaluateString(t),r=null===(e=this.initializer.type)||void 0===e?void 0:e.name,i=t.structs.get(r),s=null==i?void 0:i.getMemberIndex(n);if(-1!=s)return this.initializer.args[s].evaluate(t);console.log(s)}return this.initializer.evaluate(t)}}class ct extends nt{constructor(t){super(),this.value=t}get astNodeType(){return"literalExpr"}evaluate(){return this.value}}class lt extends nt{constructor(t,o){super(),this.type=t,this.value=o}get astNodeType(){return"bitcastExpr"}}class pt extends nt{constructor(t,o){super(),this.type=t,this.args=o}get astNodeType(){return"typecastExpr"}evaluate(t){return this.args[0].evaluate(t)}}class ht extends nt{constructor(t){super(),this.contents=t}get astNodeType(){return"groupExpr"}evaluate(t){return this.contents[0].evaluate(t)}}class dt extends nt{constructor(){super()}}class ft extends dt{constructor(t,o){super(),this.operator=t,this.right=o}get astNodeType(){return"unaryOp"}evaluate(t){switch(this.operator){case"+":return this.right.evaluate(t);case"-":return-this.right.evaluate(t);case"!":return this.right.evaluate(t)?0:1;case"~":return~this.right.evaluate(t);default:throw new Error("Unknown unary operator: "+this.operator)}}}class mt extends dt{constructor(t,o,e){super(),this.operator=t,this.left=o,this.right=e}get astNodeType(){return"binaryOp"}evaluate(t){switch(this.operator){case"+":return this.left.evaluate(t)+this.right.evaluate(t);case"-":return this.left.evaluate(t)-this.right.evaluate(t);case"*":return this.left.evaluate(t)*this.right.evaluate(t);case"/":return this.left.evaluate(t)/this.right.evaluate(t);case"%":return this.left.evaluate(t)%this.right.evaluate(t);case"==":return this.left.evaluate(t)==this.right.evaluate(t)?1:0;case"!=":return this.left.evaluate(t)!=this.right.evaluate(t)?1:0;case"<":return this.left.evaluate(t)<this.right.evaluate(t)?1:0;case">":return this.left.evaluate(t)>this.right.evaluate(t)?1:0;case"<=":return this.left.evaluate(t)<=this.right.evaluate(t)?1:0;case">=":return this.left.evaluate(t)>=this.right.evaluate(t)?1:0;case"&&":return this.left.evaluate(t)&&this.right.evaluate(t)?1:0;case"||":return this.left.evaluate(t)||this.right.evaluate(t)?1:0;default:throw new Error(`Unknown operator ${this.operator}`)}}}class _t extends k{constructor(){super()}}class yt extends _t{constructor(t,o){super(),this.selector=t,this.body=o}get astNodeType(){return"case"}}class gt extends _t{constructor(t){super(),this.body=t}get astNodeType(){return"default"}}class wt extends k{constructor(t,o,e){super(),this.name=t,this.type=o,this.attributes=e}get astNodeType(){return"argument"}}class vt extends k{constructor(t,o){super(),this.condition=t,this.body=o}get astNodeType(){return"elseif"}}class xt extends k{constructor(t,o,e){super(),this.name=t,this.type=o,this.attributes=e}get astNodeType(){return"member"}}class bt extends k{constructor(t,o){super(),this.name=t,this.value=o}get astNodeType(){return"attribute"}}!function(t){t[t.token=0]="token",t[t.keyword=1]="keyword",t[t.reserved=2]="reserved"}(U||(U={}));class kt{constructor(t,o,e){this.name=t,this.type=o,this.rule=e}toString(){return this.name}}class Mt{}B=Mt,Mt.none=new kt("",U.reserved,""),Mt.eof=new kt("EOF",U.token,""),Mt.reserved={asm:new kt("asm",U.reserved,"asm"),bf16:new kt("bf16",U.reserved,"bf16"),do:new kt("do",U.reserved,"do"),enum:new kt("enum",U.reserved,"enum"),f16:new kt("f16",U.reserved,"f16"),f64:new kt("f64",U.reserved,"f64"),handle:new kt("handle",U.reserved,"handle"),i8:new kt("i8",U.reserved,"i8"),i16:new kt("i16",U.reserved,"i16"),i64:new kt("i64",U.reserved,"i64"),mat:new kt("mat",U.reserved,"mat"),premerge:new kt("premerge",U.reserved,"premerge"),regardless:new kt("regardless",U.reserved,"regardless"),typedef:new kt("typedef",U.reserved,"typedef"),u8:new kt("u8",U.reserved,"u8"),u16:new kt("u16",U.reserved,"u16"),u64:new kt("u64",U.reserved,"u64"),unless:new kt("unless",U.reserved,"unless"),using:new kt("using",U.reserved,"using"),vec:new kt("vec",U.reserved,"vec"),void:new kt("void",U.reserved,"void")},Mt.keywords={array:new kt("array",U.keyword,"array"),atomic:new kt("atomic",U.keyword,"atomic"),bool:new kt("bool",U.keyword,"bool"),f32:new kt("f32",U.keyword,"f32"),i32:new kt("i32",U.keyword,"i32"),mat2x2:new kt("mat2x2",U.keyword,"mat2x2"),mat2x3:new kt("mat2x3",U.keyword,"mat2x3"),mat2x4:new kt("mat2x4",U.keyword,"mat2x4"),mat3x2:new kt("mat3x2",U.keyword,"mat3x2"),mat3x3:new kt("mat3x3",U.keyword,"mat3x3"),mat3x4:new kt("mat3x4",U.keyword,"mat3x4"),mat4x2:new kt("mat4x2",U.keyword,"mat4x2"),mat4x3:new kt("mat4x3",U.keyword,"mat4x3"),mat4x4:new kt("mat4x4",U.keyword,"mat4x4"),ptr:new kt("ptr",U.keyword,"ptr"),sampler:new kt("sampler",U.keyword,"sampler"),sampler_comparison:new kt("sampler_comparison",U.keyword,"sampler_comparison"),struct:new kt("struct",U.keyword,"struct"),texture_1d:new kt("texture_1d",U.keyword,"texture_1d"),texture_2d:new kt("texture_2d",U.keyword,"texture_2d"),texture_2d_array:new kt("texture_2d_array",U.keyword,"texture_2d_array"),texture_3d:new kt("texture_3d",U.keyword,"texture_3d"),texture_cube:new kt("texture_cube",U.keyword,"texture_cube"),texture_cube_array:new kt("texture_cube_array",U.keyword,"texture_cube_array"),texture_multisampled_2d:new kt("texture_multisampled_2d",U.keyword,"texture_multisampled_2d"),texture_storage_1d:new kt("texture_storage_1d",U.keyword,"texture_storage_1d"),texture_storage_2d:new kt("texture_storage_2d",U.keyword,"texture_storage_2d"),texture_storage_2d_array:new kt("texture_storage_2d_array",U.keyword,"texture_storage_2d_array"),texture_storage_3d:new kt("texture_storage_3d",U.keyword,"texture_storage_3d"),texture_depth_2d:new kt("texture_depth_2d",U.keyword,"texture_depth_2d"),texture_depth_2d_array:new kt("texture_depth_2d_array",U.keyword,"texture_depth_2d_array"),texture_depth_cube:new kt("texture_depth_cube",U.keyword,"texture_depth_cube"),texture_depth_cube_array:new kt("texture_depth_cube_array",U.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new kt("texture_depth_multisampled_2d",U.keyword,"texture_depth_multisampled_2d"),texture_external:new kt("texture_external",U.keyword,"texture_external"),u32:new kt("u32",U.keyword,"u32"),vec2:new kt("vec2",U.keyword,"vec2"),vec3:new kt("vec3",U.keyword,"vec3"),vec4:new kt("vec4",U.keyword,"vec4"),bitcast:new kt("bitcast",U.keyword,"bitcast"),block:new kt("block",U.keyword,"block"),break:new kt("break",U.keyword,"break"),case:new kt("case",U.keyword,"case"),continue:new kt("continue",U.keyword,"continue"),continuing:new kt("continuing",U.keyword,"continuing"),default:new kt("default",U.keyword,"default"),discard:new kt("discard",U.keyword,"discard"),else:new kt("else",U.keyword,"else"),enable:new kt("enable",U.keyword,"enable"),fallthrough:new kt("fallthrough",U.keyword,"fallthrough"),false:new kt("false",U.keyword,"false"),fn:new kt("fn",U.keyword,"fn"),for:new kt("for",U.keyword,"for"),function:new kt("function",U.keyword,"function"),if:new kt("if",U.keyword,"if"),let:new kt("let",U.keyword,"let"),const:new kt("const",U.keyword,"const"),loop:new kt("loop",U.keyword,"loop"),while:new kt("while",U.keyword,"while"),private:new kt("private",U.keyword,"private"),read:new kt("read",U.keyword,"read"),read_write:new kt("read_write",U.keyword,"read_write"),return:new kt("return",U.keyword,"return"),storage:new kt("storage",U.keyword,"storage"),switch:new kt("switch",U.keyword,"switch"),true:new kt("true",U.keyword,"true"),alias:new kt("alias",U.keyword,"alias"),type:new kt("type",U.keyword,"type"),uniform:new kt("uniform",U.keyword,"uniform"),var:new kt("var",U.keyword,"var"),override:new kt("override",U.keyword,"override"),workgroup:new kt("workgroup",U.keyword,"workgroup"),write:new kt("write",U.keyword,"write"),r8unorm:new kt("r8unorm",U.keyword,"r8unorm"),r8snorm:new kt("r8snorm",U.keyword,"r8snorm"),r8uint:new kt("r8uint",U.keyword,"r8uint"),r8sint:new kt("r8sint",U.keyword,"r8sint"),r16uint:new kt("r16uint",U.keyword,"r16uint"),r16sint:new kt("r16sint",U.keyword,"r16sint"),r16float:new kt("r16float",U.keyword,"r16float"),rg8unorm:new kt("rg8unorm",U.keyword,"rg8unorm"),rg8snorm:new kt("rg8snorm",U.keyword,"rg8snorm"),rg8uint:new kt("rg8uint",U.keyword,"rg8uint"),rg8sint:new kt("rg8sint",U.keyword,"rg8sint"),r32uint:new kt("r32uint",U.keyword,"r32uint"),r32sint:new kt("r32sint",U.keyword,"r32sint"),r32float:new kt("r32float",U.keyword,"r32float"),rg16uint:new kt("rg16uint",U.keyword,"rg16uint"),rg16sint:new kt("rg16sint",U.keyword,"rg16sint"),rg16float:new kt("rg16float",U.keyword,"rg16float"),rgba8unorm:new kt("rgba8unorm",U.keyword,"rgba8unorm"),rgba8unorm_srgb:new kt("rgba8unorm_srgb",U.keyword,"rgba8unorm_srgb"),rgba8snorm:new kt("rgba8snorm",U.keyword,"rgba8snorm"),rgba8uint:new kt("rgba8uint",U.keyword,"rgba8uint"),rgba8sint:new kt("rgba8sint",U.keyword,"rgba8sint"),bgra8unorm:new kt("bgra8unorm",U.keyword,"bgra8unorm"),bgra8unorm_srgb:new kt("bgra8unorm_srgb",U.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new kt("rgb10a2unorm",U.keyword,"rgb10a2unorm"),rg11b10float:new kt("rg11b10float",U.keyword,"rg11b10float"),rg32uint:new kt("rg32uint",U.keyword,"rg32uint"),rg32sint:new kt("rg32sint",U.keyword,"rg32sint"),rg32float:new kt("rg32float",U.keyword,"rg32float"),rgba16uint:new kt("rgba16uint",U.keyword,"rgba16uint"),rgba16sint:new kt("rgba16sint",U.keyword,"rgba16sint"),rgba16float:new kt("rgba16float",U.keyword,"rgba16float"),rgba32uint:new kt("rgba32uint",U.keyword,"rgba32uint"),rgba32sint:new kt("rgba32sint",U.keyword,"rgba32sint"),rgba32float:new kt("rgba32float",U.keyword,"rgba32float"),static_assert:new kt("static_assert",U.keyword,"static_assert")},Mt.tokens={decimal_float_literal:new kt("decimal_float_literal",U.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?f?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+f?)|([0-9]+f)/),hex_float_literal:new kt("hex_float_literal",U.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+f?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+f?))/),int_literal:new kt("int_literal",U.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new kt("uint_literal",U.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),ident:new kt("ident",U.token,/[a-zA-Z][0-9a-zA-Z_]*/),and:new kt("and",U.token,"&"),and_and:new kt("and_and",U.token,"&&"),arrow:new kt("arrow ",U.token,"->"),attr:new kt("attr",U.token,"@"),attr_left:new kt("attr_left",U.token,"[["),attr_right:new kt("attr_right",U.token,"]]"),forward_slash:new kt("forward_slash",U.token,"/"),bang:new kt("bang",U.token,"!"),bracket_left:new kt("bracket_left",U.token,"["),bracket_right:new kt("bracket_right",U.token,"]"),brace_left:new kt("brace_left",U.token,"{"),brace_right:new kt("brace_right",U.token,"}"),colon:new kt("colon",U.token,":"),comma:new kt("comma",U.token,","),equal:new kt("equal",U.token,"="),equal_equal:new kt("equal_equal",U.token,"=="),not_equal:new kt("not_equal",U.token,"!="),greater_than:new kt("greater_than",U.token,">"),greater_than_equal:new kt("greater_than_equal",U.token,">="),shift_right:new kt("shift_right",U.token,">>"),less_than:new kt("less_than",U.token,"<"),less_than_equal:new kt("less_than_equal",U.token,"<="),shift_left:new kt("shift_left",U.token,"<<"),modulo:new kt("modulo",U.token,"%"),minus:new kt("minus",U.token,"-"),minus_minus:new kt("minus_minus",U.token,"--"),period:new kt("period",U.token,"."),plus:new kt("plus",U.token,"+"),plus_plus:new kt("plus_plus",U.token,"++"),or:new kt("or",U.token,"|"),or_or:new kt("or_or",U.token,"||"),paren_left:new kt("paren_left",U.token,"("),paren_right:new kt("paren_right",U.token,")"),semicolon:new kt("semicolon",U.token,";"),star:new kt("star",U.token,"*"),tilde:new kt("tilde",U.token,"~"),underscore:new kt("underscore",U.token,"_"),xor:new kt("xor",U.token,"^"),plus_equal:new kt("plus_equal",U.token,"+="),minus_equal:new kt("minus_equal",U.token,"-="),times_equal:new kt("times_equal",U.token,"*="),division_equal:new kt("division_equal",U.token,"/="),modulo_equal:new kt("modulo_equal",U.token,"%="),and_equal:new kt("and_equal",U.token,"&="),or_equal:new kt("or_equal",U.token,"|="),xor_equal:new kt("xor_equal",U.token,"^="),shift_right_equal:new kt("shift_right_equal",U.token,">>="),shift_left_equal:new kt("shift_left_equal",U.token,"<<=")},Mt.storage_class=[B.keywords.function,B.keywords.private,B.keywords.workgroup,B.keywords.uniform,B.keywords.storage],Mt.access_mode=[B.keywords.read,B.keywords.write,B.keywords.read_write],Mt.sampler_type=[B.keywords.sampler,B.keywords.sampler_comparison],Mt.sampled_texture_type=[B.keywords.texture_1d,B.keywords.texture_2d,B.keywords.texture_2d_array,B.keywords.texture_3d,B.keywords.texture_cube,B.keywords.texture_cube_array],Mt.multisampled_texture_type=[B.keywords.texture_multisampled_2d],Mt.storage_texture_type=[B.keywords.texture_storage_1d,B.keywords.texture_storage_2d,B.keywords.texture_storage_2d_array,B.keywords.texture_storage_3d],Mt.depth_texture_type=[B.keywords.texture_depth_2d,B.keywords.texture_depth_2d_array,B.keywords.texture_depth_cube,B.keywords.texture_depth_cube_array,B.keywords.texture_depth_multisampled_2d],Mt.texture_external_type=[B.keywords.texture_external],Mt.any_texture_type=[...B.sampled_texture_type,...B.multisampled_texture_type,...B.storage_texture_type,...B.depth_texture_type,...B.texture_external_type],Mt.texel_format=[B.keywords.r8unorm,B.keywords.r8snorm,B.keywords.r8uint,B.keywords.r8sint,B.keywords.r16uint,B.keywords.r16sint,B.keywords.r16float,B.keywords.rg8unorm,B.keywords.rg8snorm,B.keywords.rg8uint,B.keywords.rg8sint,B.keywords.r32uint,B.keywords.r32sint,B.keywords.r32float,B.keywords.rg16uint,B.keywords.rg16sint,B.keywords.rg16float,B.keywords.rgba8unorm,B.keywords.rgba8unorm_srgb,B.keywords.rgba8snorm,B.keywords.rgba8uint,B.keywords.rgba8sint,B.keywords.bgra8unorm,B.keywords.bgra8unorm_srgb,B.keywords.rgb10a2unorm,B.keywords.rg11b10float,B.keywords.rg32uint,B.keywords.rg32sint,B.keywords.rg32float,B.keywords.rgba16uint,B.keywords.rgba16sint,B.keywords.rgba16float,B.keywords.rgba32uint,B.keywords.rgba32sint,B.keywords.rgba32float],Mt.const_literal=[B.tokens.int_literal,B.tokens.uint_literal,B.tokens.decimal_float_literal,B.tokens.hex_float_literal,B.keywords.true,B.keywords.false],Mt.literal_or_ident=[B.tokens.ident,B.tokens.int_literal,B.tokens.uint_literal,B.tokens.decimal_float_literal,B.tokens.hex_float_literal],Mt.element_count_expression=[B.tokens.int_literal,B.tokens.uint_literal,B.tokens.ident],Mt.template_types=[B.keywords.vec2,B.keywords.vec3,B.keywords.vec4,B.keywords.mat2x2,B.keywords.mat2x3,B.keywords.mat2x4,B.keywords.mat3x2,B.keywords.mat3x3,B.keywords.mat3x4,B.keywords.mat4x2,B.keywords.mat4x3,B.keywords.mat4x4,B.keywords.atomic,B.keywords.bitcast,...B.any_texture_type],Mt.attribute_name=[B.tokens.ident,B.keywords.block],Mt.assignment_operators=[B.tokens.equal,B.tokens.plus_equal,B.tokens.minus_equal,B.tokens.times_equal,B.tokens.division_equal,B.tokens.modulo_equal,B.tokens.and_equal,B.tokens.or_equal,B.tokens.xor_equal,B.tokens.shift_right_equal,B.tokens.shift_left_equal],Mt.increment_operators=[B.tokens.plus_plus,B.tokens.minus_minus];class At{constructor(t,o,e){this.type=t,this.lexeme=o,this.line=e}toString(){return this.lexeme}isTemplateType(){return-1!=Mt.template_types.indexOf(this.type)}isArrayType(){return this.type==Mt.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class Et{constructor(t){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=null!=t?t:""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new At(Mt.eof,"",this._line)),this._tokens}scanToken(){let t=this._advance();if("\n"==t)return this._line++,!0;if(this._isWhitespace(t))return!0;if("/"==t){if("/"==this._peekAhead()){for(;"\n"!=t;){if(this._isAtEnd())return!0;t=this._advance()}return this._line++,!0}if("*"==this._peekAhead()){this._advance();let o=1;for(;o>0;){if(this._isAtEnd())return!0;if(t=this._advance(),"\n"==t)this._line++;else if("*"==t){if("/"==this._peekAhead()&&(this._advance(),o--,0==o))return!0}else"/"==t&&"*"==this._peekAhead()&&(this._advance(),o++)}return!0}}let o=Mt.none;for(;;){let e=this._findType(t);const n=this._peekAhead();if(">"==t&&(">"==n||"="==n)){let t=!1,o=this._tokens.length-1;for(let e=0;e<5&&o>=0;++e,--o)if(this._tokens[o].type===Mt.tokens.less_than){o>0&&this._tokens[o-1].isArrayOrTemplateType()&&(t=!0);break}if(t)return this._addToken(e),!0}if(e===Mt.none){let n=t,r=0;const i=2;for(let t=0;t<i;++t)if(n+=this._peekAhead(t),e=this._findType(n),e!==Mt.none){r=t;break}if(e===Mt.none)return o!==Mt.none&&(this._current--,this._addToken(o),!0);t=n,this._current+=r+1}if(o=e,this._isAtEnd())break;t+=this._advance()}return o!==Mt.none&&(this._addToken(o),!0)}_findType(t){for(const o in Mt.keywords){const e=Mt.keywords[o];if(this._match(t,e.rule))return e}for(const o in Mt.tokens){const e=Mt.tokens[o];if(this._match(t,e.rule))return e}return Mt.none}_match(t,o){if("string"==typeof o){if(o==t)return!0}else{const e=o.exec(t);if(e&&0==e.index&&e[0]==t)return!0}return!1}_isAtEnd(){return this._current>=this._source.length}_isWhitespace(t){return" "==t||"\t"==t||"\r"==t}_advance(t=0){let o=this._source[this._current];return t=t||0,t++,this._current+=t,o}_peekAhead(t=0){return t=t||0,this._current+t>=this._source.length?"\0":this._source[this._current+t]}_addToken(t){const o=this._source.substring(this._start,this._current);this._tokens.push(new At(t,o,this._line))}}class Tt{constructor(){this._tokens=[],this._current=0,this._context=new b}parse(t){this._initialize(t);let o=[];for(;!this._isAtEnd();){const t=this._global_decl_or_directive();if(!t)break;o.push(t)}return o}_initialize(t){if(t)if("string"==typeof t){const o=new Et(t);this._tokens=o.scanTokens()}else this._tokens=t;else this._tokens=[];this._current=0}_error(t,o){return console.error(t,o),{token:t,message:o,toString:function(){return`${o}`}}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==Mt.eof}_match(t){if(t instanceof kt)return!!this._check(t)&&(this._advance(),!0);for(let o=0,e=t.length;o<e;++o){const e=t[o];if(this._check(e))return this._advance(),!0}return!1}_consume(t,o){if(this._check(t))return this._advance();throw this._error(this._peek(),o)}_check(t){if(this._isAtEnd())return!1;const o=this._peek();if(t instanceof Array){let e=o.type;return-1!=t.indexOf(e)}return o.type==t}_advance(){return this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(Mt.tokens.semicolon)&&!this._isAtEnd(););if(this._match(Mt.keywords.alias)){const t=this._type_alias();return this._consume(Mt.tokens.semicolon,"Expected ';'"),t}if(this._match(Mt.keywords.enable)){const t=this._enable_directive();return this._consume(Mt.tokens.semicolon,"Expected ';'"),t}const t=this._attribute();if(this._check(Mt.keywords.var)){const o=this._global_variable_decl();return null!=o&&(o.attributes=t),this._consume(Mt.tokens.semicolon,"Expected ';'."),o}if(this._check(Mt.keywords.override)){const o=this._override_variable_decl();return null!=o&&(o.attributes=t),this._consume(Mt.tokens.semicolon,"Expected ';'."),o}if(this._check(Mt.keywords.let)){const o=this._global_let_decl();return null!=o&&(o.attributes=t),this._consume(Mt.tokens.semicolon,"Expected ';'."),o}if(this._check(Mt.keywords.const)){const o=this._global_const_decl();return null!=o&&(o.attributes=t),this._consume(Mt.tokens.semicolon,"Expected ';'."),o}if(this._check(Mt.keywords.struct)){const o=this._struct_decl();return null!=o&&(o.attributes=t),o}if(this._check(Mt.keywords.fn)){const o=this._function_decl();return null!=o&&(o.attributes=t),o}return null}_function_decl(){if(!this._match(Mt.keywords.fn))return null;const t=this._consume(Mt.tokens.ident,"Expected function name.").toString();this._consume(Mt.tokens.paren_left,"Expected '(' for function arguments.");const o=[];if(!this._check(Mt.tokens.paren_right))do{if(this._check(Mt.tokens.paren_right))break;const t=this._attribute(),e=this._consume(Mt.tokens.ident,"Expected argument name.").toString();this._consume(Mt.tokens.colon,"Expected ':' for argument type.");const n=this._attribute(),r=this._type_decl();null!=r&&(r.attributes=n,o.push(new wt(e,r,t)))}while(this._match(Mt.tokens.comma));this._consume(Mt.tokens.paren_right,"Expected ')' after function arguments.");let e=null;if(this._match(Mt.tokens.arrow)){const t=this._attribute();e=this._type_decl(),null!=e&&(e.attributes=t)}const n=this._compound_statement();return new A(t,o,e,n)}_compound_statement(){const t=[];for(this._consume(Mt.tokens.brace_left,"Expected '{' for block.");!this._check(Mt.tokens.brace_right);){const o=this._statement();null!==o&&t.push(o)}return this._consume(Mt.tokens.brace_right,"Expected '}' for block."),t}_statement(){for(;this._match(Mt.tokens.semicolon)&&!this._isAtEnd(););if(this._check(Mt.keywords.if))return this._if_statement();if(this._check(Mt.keywords.switch))return this._switch_statement();if(this._check(Mt.keywords.loop))return this._loop_statement();if(this._check(Mt.keywords.for))return this._for_statement();if(this._check(Mt.keywords.while))return this._while_statement();if(this._check(Mt.keywords.continuing))return this._continuing_statement();if(this._check(Mt.keywords.static_assert))return this._static_assert_statement();if(this._check(Mt.tokens.brace_left))return this._compound_statement();let t=null;return t=this._check(Mt.keywords.return)?this._return_statement():this._check([Mt.keywords.var,Mt.keywords.let,Mt.keywords.const])?this._variable_statement():this._match(Mt.keywords.discard)?new Y:this._match(Mt.keywords.break)?new X:this._match(Mt.keywords.continue)?new Z:this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement(),null!=t&&this._consume(Mt.tokens.semicolon,"Expected ';' after statement."),t}_static_assert_statement(){if(!this._match(Mt.keywords.static_assert))return null;let t=this._optional_paren_expression();return new E(t)}_while_statement(){if(!this._match(Mt.keywords.while))return null;let t=this._optional_paren_expression();const o=this._compound_statement();return new T(t,o)}_continuing_statement(){if(!this._match(Mt.keywords.continuing))return null;const t=this._compound_statement();return new S(t)}_for_statement(){if(!this._match(Mt.keywords.for))return null;this._consume(Mt.tokens.paren_left,"Expected '('.");const t=this._check(Mt.tokens.semicolon)?null:this._for_init();this._consume(Mt.tokens.semicolon,"Expected ';'.");const o=this._check(Mt.tokens.semicolon)?null:this._short_circuit_or_expression();this._consume(Mt.tokens.semicolon,"Expected ';'.");const e=this._check(Mt.tokens.paren_right)?null:this._for_increment();this._consume(Mt.tokens.paren_right,"Expected ')'.");const n=this._compound_statement();return new O(t,o,e,n)}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(Mt.keywords.var)){const t=this._variable_decl();if(null===t)throw this._error(this._peek(),"Variable declaration expected.");let o=null;return this._match(Mt.tokens.equal)&&(o=this._short_circuit_or_expression()),new z(t.name,t.type,t.storage,t.access,o)}if(this._match(Mt.keywords.let)){const t=this._consume(Mt.tokens.ident,"Expected name for let.").toString();let o=null;if(this._match(Mt.tokens.colon)){const t=this._attribute();o=this._type_decl(),null!=o&&(o.attributes=t)}this._consume(Mt.tokens.equal,"Expected '=' for let.");const e=this._short_circuit_or_expression();return new V(t,o,null,null,e)}if(this._match(Mt.keywords.const)){const t=this._consume(Mt.tokens.ident,"Expected name for const.").toString();let o=null;if(this._match(Mt.tokens.colon)){const t=this._attribute();o=this._type_decl(),null!=o&&(o.attributes=t)}this._consume(Mt.tokens.equal,"Expected '=' for const.");const e=this._short_circuit_or_expression();return new q(t,o,null,null,e)}return null}_increment_decrement_statement(){const t=this._current,o=this._unary_expression();if(null==o)return null;if(!this._check(Mt.increment_operators))return this._current=t,null;const e=this._consume(Mt.increment_operators,"Expected increment operator");return new N(e.type===Mt.tokens.plus_plus?F.increment:F.decrement,o)}_assignment_statement(){let t=null;if(this._check(Mt.tokens.brace_right))return null;let o=this._match(Mt.tokens.underscore);if(o||(t=this._unary_expression()),!o&&null==t)return null;const e=this._consume(Mt.assignment_operators,"Expected assignment operator."),n=this._short_circuit_or_expression();return new C(P.parse(e.lexeme),t,n)}_func_call_statement(){if(!this._check(Mt.tokens.ident))return null;const t=this._current,o=this._consume(Mt.tokens.ident,"Expected function name."),e=this._argument_expression_list();return null===e?(this._current=t,null):new L(o.lexeme,e)}_loop_statement(){if(!this._match(Mt.keywords.loop))return null;this._consume(Mt.tokens.brace_left,"Expected '{' for loop.");const t=[];let o=this._statement();for(;null!==o;){if(Array.isArray(o))for(let e of o)t.push(e);else t.push(o);o=this._statement()}let e=null;return this._match(Mt.keywords.continuing)&&(e=this._compound_statement()),this._consume(Mt.tokens.brace_right,"Expected '}' for loop."),new j(t,e)}_switch_statement(){if(!this._match(Mt.keywords.switch))return null;const t=this._optional_paren_expression();this._consume(Mt.tokens.brace_left,"Expected '{' for switch.");const o=this._switch_body();if(null==o||0==o.length)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(Mt.tokens.brace_right,"Expected '}' for switch."),new R(t,o)}_switch_body(){const t=[];if(this._match(Mt.keywords.case)){const o=this._case_selectors();this._match(Mt.tokens.colon),this._consume(Mt.tokens.brace_left,"Exected '{' for switch case.");const e=this._case_body();this._consume(Mt.tokens.brace_right,"Exected '}' for switch case."),t.push(new yt(o,e))}if(this._match(Mt.keywords.default)){this._match(Mt.tokens.colon),this._consume(Mt.tokens.brace_left,"Exected '{' for switch default.");const o=this._case_body();this._consume(Mt.tokens.brace_right,"Exected '}' for switch default."),t.push(new gt(o))}if(this._check([Mt.keywords.default,Mt.keywords.case])){const o=this._switch_body();t.push(o[0])}return t}_case_selectors(){var t,o,e,n;const r=[null!==(o=null===(t=this._shift_expression())||void 0===t?void 0:t.evaluate(this._context).toString())&&void 0!==o?o:""];for(;this._match(Mt.tokens.comma);)r.push(null!==(n=null===(e=this._shift_expression())||void 0===e?void 0:e.evaluate(this._context).toString())&&void 0!==n?n:"");return r}_case_body(){if(this._match(Mt.keywords.fallthrough))return this._consume(Mt.tokens.semicolon,"Expected ';'"),[];let t=this._statement();if(null==t)return[];t instanceof Array||(t=[t]);const o=this._case_body();return 0==o.length?t:[...t,o[0]]}_if_statement(){if(!this._match(Mt.keywords.if))return null;const t=this._optional_paren_expression(),o=this._compound_statement();let e=[];this._match_elseif()&&(e=this._elseif_statement(e));let n=null;return this._match(Mt.keywords.else)&&(n=this._compound_statement()),new $(t,o,e,n)}_match_elseif(){return this._tokens[this._current].type===Mt.keywords.else&&this._tokens[this._current+1].type===Mt.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(t=[]){const o=this._optional_paren_expression(),e=this._compound_statement();return t.push(new vt(o,e)),this._match_elseif()&&this._elseif_statement(t),t}_return_statement(){if(!this._match(Mt.keywords.return))return null;const t=this._short_circuit_or_expression();return new W(t)}_short_circuit_or_expression(){let t=this._short_circuit_and_expr();for(;this._match(Mt.tokens.or_or);)t=new mt(this._previous().toString(),t,this._short_circuit_and_expr());return t}_short_circuit_and_expr(){let t=this._inclusive_or_expression();for(;this._match(Mt.tokens.and_and);)t=new mt(this._previous().toString(),t,this._inclusive_or_expression());return t}_inclusive_or_expression(){let t=this._exclusive_or_expression();for(;this._match(Mt.tokens.or);)t=new mt(this._previous().toString(),t,this._exclusive_or_expression());return t}_exclusive_or_expression(){let t=this._and_expression();for(;this._match(Mt.tokens.xor);)t=new mt(this._previous().toString(),t,this._and_expression());return t}_and_expression(){let t=this._equality_expression();for(;this._match(Mt.tokens.and);)t=new mt(this._previous().toString(),t,this._equality_expression());return t}_equality_expression(){const t=this._relational_expression();return this._match([Mt.tokens.equal_equal,Mt.tokens.not_equal])?new mt(this._previous().toString(),t,this._relational_expression()):t}_relational_expression(){let t=this._shift_expression();for(;this._match([Mt.tokens.less_than,Mt.tokens.greater_than,Mt.tokens.less_than_equal,Mt.tokens.greater_than_equal]);)t=new mt(this._previous().toString(),t,this._shift_expression());return t}_shift_expression(){let t=this._additive_expression();for(;this._match([Mt.tokens.shift_left,Mt.tokens.shift_right]);)t=new mt(this._previous().toString(),t,this._additive_expression());return t}_additive_expression(){let t=this._multiplicative_expression();for(;this._match([Mt.tokens.plus,Mt.tokens.minus]);)t=new mt(this._previous().toString(),t,this._multiplicative_expression());return t}_multiplicative_expression(){let t=this._unary_expression();for(;this._match([Mt.tokens.star,Mt.tokens.forward_slash,Mt.tokens.modulo]);)t=new mt(this._previous().toString(),t,this._unary_expression());return t}_unary_expression(){return this._match([Mt.tokens.minus,Mt.tokens.bang,Mt.tokens.tilde,Mt.tokens.star,Mt.tokens.and])?new ft(this._previous().toString(),this._unary_expression()):this._singular_expression()}_singular_expression(){const t=this._primary_expression(),o=this._postfix_expression();return o&&(t.postfix=o),t}_postfix_expression(){if(this._match(Mt.tokens.bracket_left)){const t=this._short_circuit_or_expression();this._consume(Mt.tokens.bracket_right,"Expected ']'.");const o=this._postfix_expression();return o&&(t.postfix=o),t}if(this._match(Mt.tokens.period)){const t=this._consume(Mt.tokens.ident,"Expected member name."),o=this._postfix_expression(),e=new rt(t.lexeme);return o&&(e.postfix=o),e}return null}_getStruct(t){return this._context.aliases.has(t)?this._context.aliases.get(t).type:this._context.structs.has(t)?this._context.structs.get(t):null}_primary_expression(){if(this._match(Mt.tokens.ident)){const t=this._previous().toString();if(this._check(Mt.tokens.paren_left)){const o=this._argument_expression_list(),e=this._getStruct(t);return null!=e?new it(e,o):new st(t,o)}if(this._context.constants.has(t)){const o=this._context.constants.get(t);return new ut(t,o.value)}return new at(t)}if(this._match(Mt.const_literal))return new ct(parseFloat(this._previous().toString()));if(this._check(Mt.tokens.paren_left))return this._paren_expression();if(this._match(Mt.keywords.bitcast)){this._consume(Mt.tokens.less_than,"Expected '<'.");const t=this._type_decl();this._consume(Mt.tokens.greater_than,"Expected '>'.");const o=this._paren_expression();return new lt(t,o)}const t=this._type_decl(),o=this._argument_expression_list();return new pt(t,o)}_argument_expression_list(){if(!this._match(Mt.tokens.paren_left))return null;const t=[];do{if(this._check(Mt.tokens.paren_right))break;const o=this._short_circuit_or_expression();t.push(o)}while(this._match(Mt.tokens.comma));return this._consume(Mt.tokens.paren_right,"Expected ')' for agument list"),t}_optional_paren_expression(){this._match(Mt.tokens.paren_left);const t=this._short_circuit_or_expression();return this._match(Mt.tokens.paren_right),new ht([t])}_paren_expression(){this._consume(Mt.tokens.paren_left,"Expected '('.");const t=this._short_circuit_or_expression();return this._consume(Mt.tokens.paren_right,"Expected ')'."),new ht([t])}_struct_decl(){if(!this._match(Mt.keywords.struct))return null;const t=this._consume(Mt.tokens.ident,"Expected name for struct.").toString();this._consume(Mt.tokens.brace_left,"Expected '{' for struct body.");const o=[];for(;!this._check(Mt.tokens.brace_right);){const t=this._attribute(),e=this._consume(Mt.tokens.ident,"Expected variable name.").toString();this._consume(Mt.tokens.colon,"Expected ':' for struct member type.");const n=this._attribute(),r=this._type_decl();null!=r&&(r.attributes=n),this._check(Mt.tokens.brace_right)?this._match(Mt.tokens.comma):this._consume(Mt.tokens.comma,"Expected ',' for struct member."),o.push(new xt(e,r,t))}this._consume(Mt.tokens.brace_right,"Expected '}' after struct body.");const e=new Q(t,o);return this._context.structs.set(t,e),e}_global_variable_decl(){const t=this._variable_decl();return t&&this._match(Mt.tokens.equal)&&(t.value=this._const_expression()),t}_override_variable_decl(){const t=this._override_decl();return t&&this._match(Mt.tokens.equal)&&(t.value=this._const_expression()),t}_global_const_decl(){if(!this._match(Mt.keywords.const))return null;const t=this._consume(Mt.tokens.ident,"Expected variable name");let o=null;if(this._match(Mt.tokens.colon)){const t=this._attribute();o=this._type_decl(),null!=o&&(o.attributes=t)}let e=null;if(this._match(Mt.tokens.equal)){const t=this._short_circuit_or_expression();if(t instanceof it)e=t;else if(t instanceof ut&&t.initializer instanceof it)e=t.initializer;else try{const o=t.evaluate(this._context);e=new ct(o)}catch(o){e=t}}const n=new q(t.toString(),o,"","",e);return this._context.constants.set(n.name,n),n}_global_let_decl(){if(!this._match(Mt.keywords.let))return null;const t=this._consume(Mt.tokens.ident,"Expected variable name");let o=null;if(this._match(Mt.tokens.colon)){const t=this._attribute();o=this._type_decl(),null!=o&&(o.attributes=t)}let e=null;return this._match(Mt.tokens.equal)&&(e=this._const_expression()),new V(t.toString(),o,"","",e)}_const_expression(){if(this._match(Mt.const_literal))return new rt(this._previous().toString());const t=this._type_decl();this._consume(Mt.tokens.paren_left,"Expected '('.");let o=[];for(;!this._check(Mt.tokens.paren_right)&&(o.push(this._const_expression()),this._check(Mt.tokens.comma));)this._advance();return this._consume(Mt.tokens.paren_right,"Expected ')'."),new it(t,o)}_variable_decl(){if(!this._match(Mt.keywords.var))return null;let t="",o="";this._match(Mt.tokens.less_than)&&(t=this._consume(Mt.storage_class,"Expected storage_class.").toString(),this._match(Mt.tokens.comma)&&(o=this._consume(Mt.access_mode,"Expected access_mode.").toString()),this._consume(Mt.tokens.greater_than,"Expected '>'."));const e=this._consume(Mt.tokens.ident,"Expected variable name");let n=null;if(this._match(Mt.tokens.colon)){const t=this._attribute();n=this._type_decl(),null!=n&&(n.attributes=t)}return new z(e.toString(),n,t,o,null)}_override_decl(){if(!this._match(Mt.keywords.override))return null;const t=this._consume(Mt.tokens.ident,"Expected variable name");let o=null;if(this._match(Mt.tokens.colon)){const t=this._attribute();o=this._type_decl(),null!=o&&(o.attributes=t)}return new I(t.toString(),o,null)}_enable_directive(){const t=this._consume(Mt.tokens.ident,"identity expected.");return new G(t.toString())}_type_alias(){const t=this._consume(Mt.tokens.ident,"identity expected.");this._consume(Mt.tokens.equal,"Expected '=' for type alias.");let o=this._type_decl();if(null===o)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(o.name)&&(o=this._context.aliases.get(o.name).type);const e=new H(t.toString(),o);return this._context.aliases.set(e.name,e),e}_type_decl(){if(this._check([Mt.tokens.ident,...Mt.texel_format,Mt.keywords.bool,Mt.keywords.f32,Mt.keywords.i32,Mt.keywords.u32])){const t=this._advance(),o=t.toString();return this._context.structs.has(o)?this._context.structs.get(o):this._context.aliases.has(o)?this._context.aliases.get(o).type:new K(t.toString())}let t=this._texture_sampler_types();if(t)return t;if(this._check(Mt.template_types)){let t=this._advance().toString(),o=null,e=null;return this._match(Mt.tokens.less_than)&&(o=this._type_decl(),e=null,this._match(Mt.tokens.comma)&&(e=this._consume(Mt.access_mode,"Expected access_mode for pointer").toString()),this._consume(Mt.tokens.greater_than,"Expected '>' for type.")),new J(t,o,e)}if(this._match(Mt.keywords.ptr)){let t=this._previous().toString();this._consume(Mt.tokens.less_than,"Expected '<' for pointer.");const o=this._consume(Mt.storage_class,"Expected storage_class for pointer");this._consume(Mt.tokens.comma,"Expected ',' for pointer.");const e=this._type_decl();let n=null;return this._match(Mt.tokens.comma)&&(n=this._consume(Mt.access_mode,"Expected access_mode for pointer").toString()),this._consume(Mt.tokens.greater_than,"Expected '>' for pointer."),new tt(t,o.toString(),e,n)}const o=this._attribute();if(this._match(Mt.keywords.array)){let t=null,e=-1;const n=this._previous();if(this._match(Mt.tokens.less_than)){t=this._type_decl(),this._context.aliases.has(t.name)&&(t=this._context.aliases.get(t.name).type);let o="";this._match(Mt.tokens.comma)&&(o=this._shift_expression().evaluate(this._context).toString()),this._consume(Mt.tokens.greater_than,"Expected '>' for array."),e=o?parseInt(o):0}return new ot(n.toString(),o,t,e)}return null}_texture_sampler_types(){if(this._match(Mt.sampler_type))return new et(this._previous().toString(),null,null);if(this._match(Mt.depth_texture_type))return new et(this._previous().toString(),null,null);if(this._match(Mt.sampled_texture_type)||this._match(Mt.multisampled_texture_type)){const t=this._previous();this._consume(Mt.tokens.less_than,"Expected '<' for sampler type.");const o=this._type_decl();return this._consume(Mt.tokens.greater_than,"Expected '>' for sampler type."),new et(t.toString(),o,null)}if(this._match(Mt.storage_texture_type)){const t=this._previous();this._consume(Mt.tokens.less_than,"Expected '<' for sampler type.");const o=this._consume(Mt.texel_format,"Invalid texel format.").toString();this._consume(Mt.tokens.comma,"Expected ',' after texel format.");const e=this._consume(Mt.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(Mt.tokens.greater_than,"Expected '>' for sampler type."),new et(t.toString(),o,e)}return null}_attribute(){let t=[];for(;this._match(Mt.tokens.attr);){const o=this._consume(Mt.attribute_name,"Expected attribute name"),e=new bt(o.toString(),null);if(this._match(Mt.tokens.paren_left)){if(e.value=this._consume(Mt.literal_or_ident,"Expected attribute value").toString(),this._check(Mt.tokens.comma)){this._advance();do{const t=this._consume(Mt.literal_or_ident,"Expected attribute value").toString();e.value instanceof Array||(e.value=[e.value]),e.value.push(t)}while(this._match(Mt.tokens.comma))}this._consume(Mt.tokens.paren_right,"Expected ')'")}t.push(e)}for(;this._match(Mt.tokens.attr_left);){if(!this._check(Mt.tokens.attr_right))do{const o=this._consume(Mt.attribute_name,"Expected attribute name"),e=new bt(o.toString(),null);if(this._match(Mt.tokens.paren_left)){if(e.value=[this._consume(Mt.literal_or_ident,"Expected attribute value").toString()],this._check(Mt.tokens.comma)){this._advance();do{const t=this._consume(Mt.literal_or_ident,"Expected attribute value").toString();e.value.push(t)}while(this._match(Mt.tokens.comma))}this._consume(Mt.tokens.paren_right,"Expected ')'")}t.push(e)}while(this._match(Mt.tokens.comma));this._consume(Mt.tokens.attr_right,"Expected ']]' after attribute declarations")}return 0==t.length?null:t}}class St{constructor(t,o){this.name=t,this.attributes=o,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}}class Ot{constructor(t,o,e){this.name=t,this.type=o,this.attributes=e,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class zt extends St{constructor(t,o){super(t,o),this.members=[],this.align=0}get isStruct(){return!0}}class It extends St{constructor(t,o){super(t,o),this.count=0,this.stride=0}get isArray(){return!0}}class Vt extends St{constructor(t,o,e,n){super(t,e),this.format=o,this.access=n}get isTemplate(){return!0}}!function(t){t[t.Uniform=0]="Uniform",t[t.Storage=1]="Storage",t[t.Texture=2]="Texture",t[t.Sampler=3]="Sampler",t[t.StorageTexture=4]="StorageTexture"}(D||(D={}));class qt{constructor(t,o,e,n,r,i,s){this.name=t,this.type=o,this.group=e,this.binding=n,this.attributes=r,this.resourceType=i,this.access=s}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class Ft{constructor(t,o){this.name=t,this.type=o}}class Pt{constructor(t,o){this.align=t,this.size=o}}class Bt{constructor(t,o,e,n){this.name=t,this.type=o,this.locationType=e,this.location=n,this.interpolation=null}}class Ut{constructor(t,o,e,n){this.name=t,this.type=o,this.locationType=e,this.location=n}}class Dt{constructor(t,o=null){this.stage=null,this.inputs=[],this.outputs=[],this.name=t,this.stage=o}}class Nt{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}class Ct{constructor(t,o,e,n){this.name=t,this.type=o,this.attributes=e,this.id=n}}class Lt{constructor(t){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new Nt,this._types=new Map,t&&this.update(t)}_isStorageTexture(t){return"texture_storage_1d"==t.name||"texture_storage_2d"==t.name||"texture_storage_2d_array"==t.name||"texture_storage_3d"==t.name}update(t){const o=(new Tt).parse(t);for(const t of o)if(t instanceof Q){const o=this._getTypeInfo(t,null);o instanceof zt&&this.structs.push(o)}else if(t instanceof H)this.aliases.push(this._getAliasInfo(t));else if(t instanceof I){const o=t,e=this._getAttributeNum(o.attributes,"id",0),n=null!=o.type?this._getTypeInfo(o.type,o.attributes):null;this.overrides.push(new Ct(o.name,n,o.attributes,e))}else if(this._isUniformVar(t)){const o=t,e=this._getAttributeNum(o.attributes,"group",0),n=this._getAttributeNum(o.attributes,"binding",0),r=this._getTypeInfo(o.type,o.attributes),i=new qt(o.name,r,e,n,o.attributes,D.Uniform,o.access);this.uniforms.push(i)}else if(this._isStorageVar(t)){const o=t,e=this._getAttributeNum(o.attributes,"group",0),n=this._getAttributeNum(o.attributes,"binding",0),r=this._getTypeInfo(o.type,o.attributes),i=this._isStorageTexture(r),s=new qt(o.name,r,e,n,o.attributes,i?D.StorageTexture:D.Storage,o.access);this.storage.push(s)}else if(this._isTextureVar(t)){const o=t,e=this._getAttributeNum(o.attributes,"group",0),n=this._getAttributeNum(o.attributes,"binding",0),r=this._getTypeInfo(o.type,o.attributes),i=this._isStorageTexture(r),s=new qt(o.name,r,e,n,o.attributes,i?D.StorageTexture:D.Texture,o.access);i?this.storage.push(s):this.textures.push(s)}else if(this._isSamplerVar(t)){const o=t,e=this._getAttributeNum(o.attributes,"group",0),n=this._getAttributeNum(o.attributes,"binding",0),r=this._getTypeInfo(o.type,o.attributes),i=new qt(o.name,r,e,n,o.attributes,D.Sampler,o.access);this.samplers.push(i)}else if(t instanceof A){const o=this._getAttribute(t,"vertex"),e=this._getAttribute(t,"fragment"),n=this._getAttribute(t,"compute"),r=o||e||n;if(r){const o=new Dt(t.name,r.name);o.inputs=this._getInputs(t.args),o.outputs=this._getOutputs(t.returnType),this.entry[r.name].push(o)}}}getBindGroups(){const t=[];function o(o,e){o>=t.length&&(t.length=o+1),void 0===t[o]&&(t[o]=[]),e>=t[o].length&&(t[o].length=e+1)}for(const e of this.uniforms)o(e.group,e.binding),t[e.group][e.binding]=e;for(const e of this.storage)o(e.group,e.binding),t[e.group][e.binding]=e;for(const e of this.textures)o(e.group,e.binding),t[e.group][e.binding]=e;for(const e of this.samplers)o(e.group,e.binding),t[e.group][e.binding]=e;return t}_getOutputs(t,o=undefined){if(void 0===o&&(o=[]),t instanceof Q)this._getStructOutputs(t,o);else{const e=this._getOutputInfo(t);null!==e&&o.push(e)}return o}_getStructOutputs(t,o){for(const e of t.members)if(e.type instanceof Q)this._getStructOutputs(e.type,o);else{const t=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(null!==t){const n=this._getTypeInfo(e.type,e.type.attributes),r=this._parseInt(t.value),i=new Ut(e.name,n,t.name,r);o.push(i)}}}_getOutputInfo(t){const o=this._getAttribute(t,"location")||this._getAttribute(t,"builtin");if(null!==o){const e=this._getTypeInfo(t,t.attributes),n=this._parseInt(o.value);return new Ut("",e,o.name,n)}return null}_getInputs(t,o=undefined){void 0===o&&(o=[]);for(const e of t)if(e.type instanceof Q)this._getStructInputs(e.type,o);else{const t=this._getInputInfo(e);null!==t&&o.push(t)}return o}_getStructInputs(t,o){for(const e of t.members)if(e.type instanceof Q)this._getStructInputs(e.type,o);else{const t=this._getInputInfo(e);null!==t&&o.push(t)}}_getInputInfo(t){const o=this._getAttribute(t,"location")||this._getAttribute(t,"builtin");if(null!==o){const e=this._getAttribute(t,"interpolation"),n=this._getTypeInfo(t.type,t.attributes),r=this._parseInt(o.value),i=new Bt(t.name,n,o.name,r);return null!==e&&(i.interpolation=this._parseString(e.value)),i}return null}_parseString(t){return t instanceof Array&&(t=t[0]),t}_parseInt(t){t instanceof Array&&(t=t[0]);const o=parseInt(t);return isNaN(o)?t:o}_getAlias(t){for(const o of this.aliases)if(o.name==t)return o.type;return null}_getAliasInfo(t){return new Ft(t.name,this._getTypeInfo(t.type,null))}_getTypeInfo(t,o){if(this._types.has(t))return this._types.get(t);if(t instanceof ot){const e=t,n=this._getTypeInfo(e.format,e.attributes),r=new It(e.name,o);return r.format=n,r.count=e.count,this._types.set(t,r),this._updateTypeInfo(r),r}if(t instanceof Q){const e=t,n=new zt(e.name,o);for(const t of e.members){const o=this._getTypeInfo(t.type,t.attributes);n.members.push(new Ot(t.name,o,t.attributes))}return this._types.set(t,n),this._updateTypeInfo(n),n}if(t instanceof et){const e=t,n=e.format instanceof K,r=e.format?n?this._getTypeInfo(e.format,null):new St(e.format,null):null,i=new Vt(e.name,r,o,e.access);return this._types.set(t,i),this._updateTypeInfo(i),i}if(t instanceof J){const e=t,n=e.format?this._getTypeInfo(e.format,null):null,r=new Vt(e.name,n,o,e.access);return this._types.set(t,r),this._updateTypeInfo(r),r}const e=new St(t.name,o);return this._types.set(t,e),this._updateTypeInfo(e),e}_updateTypeInfo(t){var o,e;const n=this._getTypeSize(t);if(t.size=null!==(o=null==n?void 0:n.size)&&void 0!==o?o:0,t instanceof It){const o=this._getTypeSize(t.format);t.stride=null!==(e=null==o?void 0:o.size)&&void 0!==e?e:0,this._updateTypeInfo(t.format)}t instanceof zt&&this._updateStructInfo(t)}_updateStructInfo(t){var o;let e=0,n=0,r=0,i=0;for(let s=0,a=t.members.length;s<a;++s){const a=t.members[s],u=this._getTypeSize(a);if(!u)continue;null!==(o=this._getAlias(a.type.name))&&void 0!==o||a.type;const c=u.align,l=u.size;e=this._roundUp(c,e+n),n=l,r=e,i=Math.max(i,c),a.offset=e,a.size=l,this._updateTypeInfo(a.type)}t.size=this._roundUp(i,r+n),t.align=i}_getTypeSize(t){var o;if(null==t)return null;const e=this._getAttributeNum(t.attributes,"size",0),n=this._getAttributeNum(t.attributes,"align",0);if(t instanceof Ot&&(t=t.type),t instanceof St){const o=this._getAlias(t.name);null!==o&&(t=o)}{const o=Lt._typeInfo[t.name];if(void 0!==o){const r="f16"===t.format?2:1;return new Pt(Math.max(n,o.align/r),Math.max(e,o.size/r))}}{const o=Lt._typeInfo[t.name.substring(0,t.name.length-1)];if(o){const r="h"===t.name[t.name.length-1]?2:1;return new Pt(Math.max(n,o.align/r),Math.max(e,o.size/r))}}if(t instanceof It){let r=t,i=8,s=8;const a=this._getTypeSize(r.format);return null!==a&&(s=a.size,i=a.align),s=r.count*this._getAttributeNum(null!==(o=null==t?void 0:t.attributes)&&void 0!==o?o:null,"stride",this._roundUp(i,s)),e&&(s=e),new Pt(Math.max(n,i),Math.max(e,s))}if(t instanceof zt){let o=0,r=0,i=0,s=0,a=0;for(const e of t.members){const t=this._getTypeSize(e.type);null!==t&&(o=Math.max(t.align,o),i=this._roundUp(t.align,i+s),s=t.size,a=i)}return r=this._roundUp(o,a+s),new Pt(Math.max(n,o),Math.max(e,r))}return null}_isUniformVar(t){return t instanceof z&&"uniform"==t.storage}_isStorageVar(t){return t instanceof z&&"storage"==t.storage}_isTextureVar(t){return t instanceof z&&null!==t.type&&-1!=Lt._textureTypes.indexOf(t.type.name)}_isSamplerVar(t){return t instanceof z&&null!==t.type&&-1!=Lt._samplerTypes.indexOf(t.type.name)}_getAttribute(t,o){const e=t;if(!e||!e.attributes)return null;const n=e.attributes;for(let t of n)if(t.name==o)return t;return null}_getAttributeNum(t,o,e){if(null===t)return e;for(let n of t)if(n.name==o){let t=null!==n&&null!==n.value?n.value:e;return t instanceof Array&&(t=t[0]),"number"==typeof t?t:"string"==typeof t?parseInt(t):e}return e}_roundUp(t,o){return Math.ceil(o/t)*t}}function jt(t,o){return Object.fromEntries(o.map((o=>{const e=Gt(t,o.type,0);return[o.name,{typeDefinition:e,group:o.group,binding:o.binding,size:e.size}]})))}function Rt(t,o,e){return{fields:Object.fromEntries(o.members.map((o=>[o.name,{offset:o.offset,type:Gt(t,o.type,0)}]))),size:o.size,offset:e}}function $t(t){const o=new Lt(t),e=Object.fromEntries(o.structs.map((t=>[t.name,Rt(o,t,0)]))),n=jt(o,o.uniforms);return{structs:e,storages:jt(o,o.storage),uniforms:n}}function Wt(t,o=""){if(!t)throw new Error(o)}function Gt(t,o,e){if(o.isArray){Wt(!o.isStruct,"struct array is invalid"),Wt(!o.isStruct,"template array is invalid");const n=o;return{size:n.size,elementType:Gt(t,n.format,e),numElements:n.count}}if(o.isStruct)return Wt(!o.isTemplate,"template struct is invalid"),Rt(t,o,e);{const t=o,e=o.isTemplate?`${t.name}<${t.format.name}>`:o.name;return{size:o.size,type:e}}}function Ht(t){return Array.isArray(t)||s(t)?[...t,1,1].slice(0,3):function(t){return[t.width,t.height||1,t.depthOrArrayLayers||1]}(t)}function Yt(t,o){const e=Ht(t),n=Math.max(...e.slice(0,"3d"===o?3:2));return 1+Math.log2(n)|0}Lt._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},Lt._textureTypes=Mt.any_texture_type.map((t=>t.name)),Lt._samplerTypes=Mt.sampler_type.map((t=>t.name));const Xt=new WeakMap;function Zt(t,o){let e=Xt.get(t);e||(e={pipelineByFormat:{},moduleByView:{}},Xt.set(t,e));let{sampler:n}=e;const{pipelineByFormat:r,moduleByView:i}=e,s=function(t){switch(t.dimension){case"1d":return"1d";case"3d":return"3d";default:return t.depthOrArrayLayers>1?"2d-array":"2d"}}(o);let a=i[s];a||(a=t.createShaderModule({label:`mip level generation for ${s}`,code:"\n        struct VSOutput {\n          @builtin(position) position: vec4f,\n          @location(0) texcoord: vec2f,\n        };\n\n        @vertex fn vs(\n          @builtin(vertex_index) vertexIndex : u32\n        ) -> VSOutput {\n          var pos = array<vec2f, 3>(\n            vec2f(-1.0, -1.0),\n            vec2f(-1.0,  3.0),\n            vec2f( 3.0, -1.0),\n          );\n\n          var vsOutput: VSOutput;\n          let xy = pos[vertexIndex];\n          vsOutput.position = vec4f(xy, 0.0, 1.0);\n          vsOutput.texcoord = xy * vec2f(0.5, -0.5) + vec2f(0.5);\n          return vsOutput;\n        }\n\n        @group(0) @binding(0) var ourSampler: sampler;\n        @group(0) @binding(1) var ourTexture: texture_2d<f32>;\n\n        @fragment fn fs(fsInput: VSOutput) -> @location(0) vec4f {\n          return textureSample(ourTexture, ourSampler, fsInput.texcoord);\n        }\n      "}),i[s]=a),n||(n=t.createSampler({minFilter:"linear"}),e.sampler=n);const u=`${o.format}`;r[u]||(r[u]=t.createRenderPipeline({label:`mip level generator pipeline for ${s}`,layout:"auto",vertex:{module:a,entryPoint:"vs"},fragment:{module:a,entryPoint:"fs",targets:[{format:o.format}]}}));const c=r[u],l=t.createCommandEncoder({label:"mip gen encoder"});for(let e=1;e<o.mipLevelCount;++e)for(let r=0;r<o.depthOrArrayLayers;++r){const i=t.createBindGroup({layout:c.getBindGroupLayout(0),entries:[{binding:0,resource:n},{binding:1,resource:o.createView({dimension:"2d",baseMipLevel:e-1,mipLevelCount:1,baseArrayLayer:r,arrayLayerCount:1})}]}),s={label:"mip gen renderPass",colorAttachments:[{view:o.createView({baseMipLevel:e,mipLevelCount:1,baseArrayLayer:r,arrayLayerCount:1}),loadOp:"clear",storeOp:"store"}]},a=l.beginRenderPass(s);a.setPipeline(c),a.setBindGroup(0,i),a.draw(3),a.end()}const p=l.finish();t.queue.submit([p])}const Kt=new Map([[Int8Array,{formats:["sint8","snorm8"],defaultForType:1}],[Uint8Array,{formats:["uint8","unorm8"],defaultForType:1}],[Int16Array,{formats:["sint16","snorm16"],defaultForType:1}],[Uint16Array,{formats:["uint16","unorm16"],defaultForType:1}],[Int32Array,{formats:["sint32","snorm32"],defaultForType:0}],[Uint32Array,{formats:["uint32","unorm32"],defaultForType:0}],[Float32Array,{formats:["float32","float32"],defaultForType:0}]]),Qt=new Map([...Kt.entries()].map((([t,{formats:[o,e]}])=>[[o,t],[e,t]])).flat());function Jt(t){return"indices"===t}function to(t,o){if(s(t))return t;let e=t;if(s(e.data))return e.data;(Array.isArray(t)||"number"==typeof t)&&(e={data:t});let n=e.type;return n||(n=Jt(o)?Uint32Array:Float32Array),new n(e.data)}const oo=[{re:/coord|texture|uv/i,numComponents:2},{re:/color|colour/i,numComponents:4}];const eo=/(\w+)(?:x(\d))$/;function no(t){const o=eo.exec(t),[e,n]=o?[o[1],parseInt(o[2])]:[t,1];return{Type:Qt.get(e),numComponents:n}}function ro(t,o){return new(0,Object.getPrototypeOf(t).constructor)(o)}function io(t,o={}){const e=void 0===o.interleave||o.interleave,n=o.stepMode||"vertex",r=o.shaderLocation?Array.isArray(o.shaderLocation)?o.shaderLocation:[o.shaderLocation]:[0];let i=0;const s=[],a=[],u=[];return Object.keys(t).filter((t=>!Jt(t))).forEach((o=>{const c=t[o],l=to(c,o),p=function(t,o){return t.numComponents||function(t,o){const e=function(t){for(const{re:o,numComponents:e}of oo)if(o.test(t))return e;return 3}(t);if(o%e>0)throw new Error(`Can not guess numComponents for attribute '${t}'. Tried ${e} but ${o} values is not evenly divisible by ${e}. You should specify it.`);return e}(o,function(t){return t.length?t:t.data}(t).length)}(c,o),h=p/4%1==0?4:p/3%1==0?3:4;for(let t=0;t<p;t+=h){const o=Math.min(h,p-t),e=i;i+=o*l.BYTES_PER_ELEMENT;const{defaultForType:n,formats:s}=Kt.get(Object.getPrototypeOf(l).constructor),d=c.normalize,f=`${s[void 0===d?n:d?1:0]}${o>1?`x${o}`:""}`,m=r.shift();0===r.length&&r.push(m+1),a.push({offset:e,format:f,shaderLocation:m}),u.push({data:l,offset:t,stride:p})}e||(s.push({stepMode:n,arrayStride:i,attributes:a.slice()}),i=0,a.length=0)})),a.length&&s.push({stepMode:n,arrayStride:i,attributes:a}),{bufferLayouts:s,typedArrays:u}}function so(t,o){return s(t)?{data:t,offset:0,stride:o}:t}function ao(t,o,e,n){const r=new Map;t.forEach(((t,i)=>{const{offset:s,format:a}=t,{numComponents:u}=no(a),{data:c,offset:l,stride:p}=so(o[i],u),h=(t=>{const o=Object.getPrototypeOf(t).constructor,e=r.get(o);if(e)return e;const i=new o(n);return r.set(o,i),i})(c);for(let t=0;t<c.length;t+=p){const o=(s+t/p*e)/h.BYTES_PER_ELEMENT,n=t+l,r=c.subarray(n,n+u);h.set(r,o)}}))}function uo(t,o,e={}){const n=e.usage||0,{bufferLayouts:r,typedArrays:i}=io(o,e),s=[];let a=-1,u=0;for(const{attributes:o,arrayStride:e}of r){const r=o,c=r[0],{numComponents:l}=no(c.format),{data:p,stride:h}=so(i[u],l);a<0&&(a=p.length/h);const d=e*a,f=t.createBuffer({usage:n|GPUBufferUsage.VERTEX,size:d,mappedAtCreation:!0}),m=f.getMappedRange();1===r.length&&e===p.BYTES_PER_ELEMENT*l?ro(p,m).set(p):ao(r,i.slice(u),e,m),f.unmap(),s.push(f),u+=r.length}const c={numElements:a,bufferLayouts:r,buffers:s},l=Object.entries(o).find((([t])=>Jt(t)));if(l){const o=to(l[1],"indices"),e=t.createBuffer({size:o.byteLength,usage:GPUBufferUsage.INDEX|n,mappedAtCreation:!0});ro(o,e.getMappedRange()).set(o),e.unmap(),c.indexBuffer=e,c.indexFormat=o instanceof Uint16Array?"uint16":"uint32",c.numElements=o.length}return c}function co(t){return s(t)||Array.isArray(t)||function(t){const o=t;return s(o.data)||Array.isArray(o.data)}(t)}function lo(t){switch(t){case"1d":return"1d";case"3d":return"3d";default:return"2d"}}const po={"8snorm":Int8Array,"8unorm":Uint8Array,"8sint":Int8Array,"8uint":Uint8Array,"16snorm":Int16Array,"16unorm":Uint16Array,"16sint":Int16Array,"16uint":Uint16Array,"32snorm":Int32Array,"32unorm":Uint32Array,"32sint":Int32Array,"32uint":Uint32Array,"16float":Uint16Array,"32float":Float32Array},ho=/([a-z]+)(\d+)([a-z]+)/;function fo(t){const[,o,e,n]=ho.exec(t),r=o.length,i=parseInt(e)/8;return{channels:o,numChannels:r,bytesPerChannel:i,bytesPerElement:r*i,Type:po[`${e}${n}`]}}function mo(t,o){return[t.width,t.height,t.depthOrArrayLayers].map((t=>Math.max(1,Math.floor(t/2**o))))}function _o(t,o,e,n={}){e.forEach(((e,r)=>{const i=[0,0,r+(n.baseArrayLayer||0)];if(co(e))!function(t,o,e,n){const r=function(t,o){if(s(t))return t;const{Type:e}=fo(o);return new e(t)}(e.data||e,o.format),i=mo(o,0),{bytesPerElement:a}=fo(o.format),u=n.origin||[0,0,0];t.queue.writeTexture({texture:o,origin:u},r,{bytesPerRow:a*i[0],rowsPerImage:i[1]},i)}(t,o,e,{origin:i});else{const r=e,{flipY:s,premultipliedAlpha:a,colorSpace:u}=n;t.queue.copyExternalImageToTexture({source:r,flipY:s},{texture:o,premultipliedAlpha:a,colorSpace:u,origin:i},go(r,n))}})),o.mipLevelCount>1&&Zt(t,o)}function yo(t,o,e,n={}){_o(t,o,[e],n)}function go(t,o){if(t instanceof HTMLVideoElement)return[t.videoWidth,t.videoHeight,1];{const e=t,{width:n,height:r}=e;if(n>0&&r>0&&!co(t))return[n,r,1];const i=o.format||"rgba8unorm",{bytesPerElement:a,bytesPerChannel:u}=fo(i),c=s(t)||Array.isArray(t)?t:t.data;return function(t,o,e,n="2d"){if(e%1!=0)throw new Error("can't guess dimensions");if(t||o){if(o){if(!t&&(t=e/o)%1)throw new Error("can't guess dimensions")}else if((o=e/t)%1)throw new Error("can't guess dimensions")}else{const r=Math.sqrt(e/("cube"===n?6:1));r%1==0?(t=r,o=r):(t=e,o=1)}const r=e/t/o;if(r%1)throw new Error("can't guess dimensions");return[t,o,r]}(n,r,(s(c)?c.byteLength:c.length*u)/a)}}function wo(t,o,e={}){const n=go(o[0],e);n[2]=n[2]>1?n[2]:o.length;const r=t.createTexture({dimension:lo(e.dimension),format:e.format||"rgba8unorm",mipLevelCount:e.mipLevelCount?e.mipLevelCount:e.mips?Yt(n):1,size:n,usage:(e.usage??0)|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT});return _o(t,r,o,e),r}function vo(t,o,e={}){return wo(t,[o],e)}async function xo(t,o={}){const e=await fetch(t),n=await e.blob(),r={...o,...void 0!==o.colorSpaceConversion&&{colorSpaceConversion:"none"}};return await createImageBitmap(n,r)}async function bo(t,o,e={}){return wo(t,await Promise.all(o.map((t=>xo(t)))),e)}async function ko(t,o,e={}){return bo(t,[o],e)}class Mo{typedArray;cursor=0;numComponents;constructor(t,o){this.typedArray=t,this.numComponents=o}get numElements(){return this.typedArray.length/this.numComponents}push(...t){for(const o of t)if(Array.isArray(o)||s(o)){const o=t;this.typedArray.set(o,this.cursor),this.cursor+=o.length}else this.typedArray[this.cursor++]=o}reset(t=0){this.cursor=t}}function Ao(t,o,e){return new Mo(new e(t*o),t)}const Eo=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function To(t=1,o=0,e=1,n=24,r=1,i=!0,s=!0){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(r<1)throw new Error("verticalSubdivisions must be 1 or greater");const a=(i?2:0)+(s?2:0),u=(n+1)*(r+1+a),c=Ao(3,u,Float32Array),l=Ao(3,u,Float32Array),p=Ao(2,u,Float32Array),h=Ao(3,n*(r+a/2)*2,Uint16Array),d=n+1,f=Math.atan2(t-o,e),m=Math.cos(f),_=Math.sin(f),y=r+(s?2:0);for(let s=i?-2:0;s<=y;++s){let i,a=s/r,u=e*a;s<0?(u=0,a=1,i=t):s>r?(u=e,a=1,i=o):i=t+s/r*(o-t),-2!==s&&s!==r+2||(i=0,a=0),u-=e/2;for(let t=0;t<d;++t){const o=Math.sin(t*Math.PI*2/n),e=Math.cos(t*Math.PI*2/n);c.push(o*i,u,e*i),s<0?l.push(0,-1,0):s>r?l.push(0,1,0):0===i?l.push(0,0,0):l.push(o*m,_,e*m),p.push(t/n,1-a)}}for(let t=0;t<r+a;++t)if(!(1===t&&i||t===r+a-2&&s))for(let o=0;o<n;++o)h.push(d*(t+0)+0+o,d*(t+0)+1+o,d*(t+1)+1+o),h.push(d*(t+0)+0+o,d*(t+1)+1+o,d*(t+1)+0+o);return{position:c.typedArray,normal:l.typedArray,texcoord:p.typedArray,indices:h.typedArray}}function So(t,o=[]){o=o||[];const e=[];for(let n=0;n<t.length;n+=4){const r=t[n],i=t.slice(n+1,n+4);i.push(...o);for(let t=0;t<r;++t)e.push(...i)}return e}var Oo=Object.freeze({__proto__:null,TypedArrayWrapper:Mo,create3DFVertices:function(){const t=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],o=So([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),e=So([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=t.length/3,r={position:Ao(3,n,Float32Array),texcoord:Ao(2,n,Float32Array),normal:Ao(3,n,Float32Array),color:Ao(4,n,Uint8Array),indices:Ao(3,n/3,Uint16Array)};r.position.push(t),r.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),r.normal.push(o),r.color.push(e);for(let t=0;t<n;++t)r.indices.push(t);return Object.fromEntries(Object.entries(r).map((([t,o])=>[t,o.typedArray])))},createCrescentVertices:function(t,o,e,n,r,i,s){if(r<=0)throw new Error("subdivisionDown must be > 0");const a=2,u=s-i,c=2*(r+1)*(2+a),l=Ao(3,c,Float32Array),p=Ao(3,c,Float32Array),h=Ao(2,c,Float32Array);function d(t,o,e){return t+(o-t)*e}function f(t,o){return t.map(((t,e)=>t+o[e]))}function m(t,o){return t.map(((t,e)=>t*o[e]))}function _(o,e,s,c,_,y){for(let g=0;g<=r;g++){const w=e/(a-1),v=g/r,x=2*(w-.5),b=(i+v*u)*Math.PI,k=Math.sin(b),M=Math.cos(b),A=d(t,o,k),E=x*n,T=M*t,S=k*A;l.push(E,T,S);const O=f(m([0,k,M],s),c);p.push(O),h.push(w*_+y,v)}}for(let t=0;t<a;t++){const n=2*(t/(a-1)-.5);_(o,t,[1,1,1],[0,0,0],1,0),_(o,t,[0,0,0],[n,0,0],0,0),_(e,t,[1,1,1],[0,0,0],1,0),_(e,t,[0,0,0],[n,0,0],0,1)}const y=Ao(3,2*r*(2+a),Uint16Array);function g(t,o){for(let e=0;e<r;++e)y.push(t+e+0,t+e+1,o+e+0),y.push(t+e+1,o+e+1,o+e+0)}const w=r+1;return g(0*w,4*w),g(5*w,7*w),g(6*w,2*w),g(3*w,1*w),{position:l.typedArray,normal:p.typedArray,texcoord:h.typedArray,indices:y.typedArray}},createCubeVertices:function(t=1){const o=t/2,e=[[-o,-o,-o],[+o,-o,-o],[-o,+o,-o],[+o,+o,-o],[-o,-o,+o],[+o,-o,+o],[-o,+o,+o],[+o,+o,+o]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],r=[[1,0],[0,0],[0,1],[1,1]],i=Ao(3,24,Float32Array),s=Ao(3,24,Float32Array),a=Ao(2,24,Float32Array),u=Ao(3,12,Uint16Array);for(let t=0;t<6;++t){const o=Eo[t];for(let u=0;u<4;++u){const c=e[o[u]],l=n[t],p=r[u];i.push(c),s.push(l),a.push(p)}const c=4*t;u.push(c+0,c+1,c+2),u.push(c+0,c+2,c+3)}return{position:i.typedArray,normal:s.typedArray,texcoord:a.typedArray,indices:u.typedArray}},createCylinderVertices:function(t=1,o=1,e=24,n=1,r=!0,i=!0){return To(t,t,o,e,n,r,i)},createDiscVertices:function(t=1,o=24,e=1,n=0,r=1){if(o<3)throw new Error("divisions must be at least 3");const i=(o+1)*(e+1),s=Ao(3,i,Float32Array),a=Ao(3,i,Float32Array),u=Ao(2,i,Float32Array),c=Ao(3,e*o*2,Uint16Array);let l=0;const p=t-n,h=o+1;for(let t=0;t<=e;++t){const i=n+p*Math.pow(t/e,r);for(let n=0;n<=o;++n){const r=2*Math.PI*n/o,p=i*Math.cos(r),d=i*Math.sin(r);if(s.push(p,0,d),a.push(0,1,0),u.push(1-n/o,t/e),t>0&&n!==o){const t=l+(n+1),o=l+n,e=l+n-h,r=l+(n+1)-h;c.push(t,o,e),c.push(t,e,r)}}l+=o+1}return{position:s.typedArray,normal:a.typedArray,texcoord:u.typedArray,indices:c.typedArray}},createPlaneVertices:function(t=1,o=1,e=1,n=1){const r=(e+1)*(n+1),i=Ao(3,r,Float32Array),s=Ao(3,r,Float32Array),a=Ao(2,r,Float32Array);for(let r=0;r<=n;r++)for(let u=0;u<=e;u++){const c=u/e,l=r/n;i.push(t*c-.5*t,0,o*l-.5*o),s.push(0,1,0),a.push(c,l)}const u=e+1,c=Ao(3,e*n*2,Uint16Array);for(let t=0;t<n;t++)for(let o=0;o<e;o++)c.push((t+0)*u+o,(t+1)*u+o,(t+0)*u+o+1),c.push((t+1)*u+o,(t+1)*u+o+1,(t+0)*u+o+1);return{position:i.typedArray,normal:s.typedArray,texcoord:a.typedArray,indices:c.typedArray}},createSphereVertices:function(t=1,o=24,e=12,n=0,r=Math.PI,i=0,s=2*Math.PI){if(o<=0||e<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");const a=r-n,u=s-i,c=(o+1)*(e+1),l=Ao(3,c,Float32Array),p=Ao(3,c,Float32Array),h=Ao(2,c,Float32Array);for(let r=0;r<=e;r++)for(let s=0;s<=o;s++){const c=s/o,d=r/e,f=u*c+i,m=a*d+n,_=Math.sin(f),y=Math.cos(f),g=Math.sin(m),w=y*g,v=Math.cos(m),x=_*g;l.push(t*w,t*v,t*x),p.push(w,v,x),h.push(1-c,d)}const d=o+1,f=Ao(3,o*e*2,Uint16Array);for(let t=0;t<o;t++)for(let o=0;o<e;o++)f.push((o+0)*d+t,(o+0)*d+t+1,(o+1)*d+t),f.push((o+1)*d+t,(o+0)*d+t+1,(o+1)*d+t+1);return{position:l.typedArray,normal:p.typedArray,texcoord:h.typedArray,indices:f.typedArray}},createTorusVertices:function(t=1,o=.24,e=24,n=12,r=0,i=2*Math.PI){if(e<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");const s=i-r,a=e+1,u=n+1,c=a*u,l=Ao(3,c,Float32Array),p=Ao(3,c,Float32Array),h=Ao(2,c,Float32Array),d=Ao(3,e*n*2,Uint16Array);for(let i=0;i<u;++i){const u=i/n,c=u*Math.PI*2,d=Math.sin(c),f=t+d*o,m=Math.cos(c),_=m*o;for(let t=0;t<a;++t){const o=t/e,n=r+o*s,i=Math.sin(n),a=Math.cos(n),c=i*f,y=a*f,g=i*d,w=a*d;l.push(c,_,y),p.push(g,m,w),h.push(o,1-u)}}for(let t=0;t<n;++t)for(let o=0;o<e;++o){const e=1+o,n=1+t;d.push(a*t+o,a*n+o,a*t+e),d.push(a*n+o,a*n+e,a*t+e)}return{position:l.typedArray,normal:p.typedArray,texcoord:h.typedArray,indices:d.typedArray}},createTruncatedConeVertices:To,createXYQuadVertices:function(t=2,o=0,e=0){return{position:{numComponents:2,data:[o+-1*(t*=.5),e+-1*t,o+1*t,e+-1*t,o+-1*t,e+1*t,o+1*t,e+1*t]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}})},416:(t,o,e)=>{"use strict";e.r(o),e.d(o,{mat3:()=>W,mat4:()=>qt,quat:()=>io,setDefaultType:()=>Vo,utils:()=>r,vec2:()=>q,vec3:()=>_t,vec4:()=>Io});let n=1e-6;var r=Object.freeze({__proto__:null,get EPSILON(){return n},setEpsilon:function(t){const o=n;return n=t,o},degToRad:function(t){return t*Math.PI/180},radToDeg:function(t){return 180*t/Math.PI},lerp:function(t,o,e){return t+(o-t)*e},inverseLerp:function(t,o,e){const r=o-t;return Math.abs(o-t)<n?t:(e-t)/r},euclideanModulo:function(t,o){return(t%o+o)%o}});let i=Float32Array;function s(t){const o=i;return i=t,o}function a(t=0,o=0){const e=new i(2);return void 0!==t&&(e[0]=t,void 0!==o&&(e[1]=o)),e}let u=Float32Array;function c(t){const o=u;return u=t,o}function l(t,o,e){const n=new u(3);return void 0!==t&&(n[0]=t,void 0!==o&&(n[1]=o,void 0!==e&&(n[2]=e))),n}const p=a;function h(t,o,e){return(e=e||new i(2))[0]=t[0]-o[0],e[1]=t[1]-o[1],e}const d=h;function f(t,o,e){return(e=e||new i(2))[0]=t[0]*o,e[1]=t[1]*o,e}const m=f;function _(t,o){return(o=o||new i(2))[0]=1/t[0],o[1]=1/t[1],o}const y=_;function g(t,o){return t[0]*o[0]+t[1]*o[1]}function w(t){const o=t[0],e=t[1];return Math.sqrt(o*o+e*e)}const v=w;function x(t){const o=t[0],e=t[1];return o*o+e*e}const b=x;function k(t,o){const e=t[0]-o[0],n=t[1]-o[1];return Math.sqrt(e*e+n*n)}const M=k;function A(t,o){const e=t[0]-o[0],n=t[1]-o[1];return e*e+n*n}const E=A;function T(t,o){return(o=o||new i(2))[0]=t[0],o[1]=t[1],o}const S=T;function O(t,o,e){return(e=e||new i(2))[0]=t[0]*o[0],e[1]=t[1]*o[1],e}const z=O;function I(t,o,e){return(e=e||new i(2))[0]=t[0]/o[0],e[1]=t[1]/o[1],e}const V=I;var q=Object.freeze({__proto__:null,create:a,setDefaultType:s,fromValues:p,set:function(t,o,e){return(e=e||new i(2))[0]=t,e[1]=o,e},ceil:function(t,o){return(o=o||new i(2))[0]=Math.ceil(t[0]),o[1]=Math.ceil(t[1]),o},floor:function(t,o){return(o=o||new i(2))[0]=Math.floor(t[0]),o[1]=Math.floor(t[1]),o},round:function(t,o){return(o=o||new i(2))[0]=Math.round(t[0]),o[1]=Math.round(t[1]),o},clamp:function(t,o=0,e=1,n){return(n=n||new i(2))[0]=Math.min(e,Math.max(o,t[0])),n[1]=Math.min(e,Math.max(o,t[1])),n},add:function(t,o,e){return(e=e||new i(2))[0]=t[0]+o[0],e[1]=t[1]+o[1],e},addScaled:function(t,o,e,n){return(n=n||new i(2))[0]=t[0]+o[0]*e,n[1]=t[1]+o[1]*e,n},angle:function(t,o){const e=t[0],n=t[1],r=t[0],i=t[1],s=Math.sqrt(e*e+n*n)*Math.sqrt(r*r+i*i),a=s&&g(t,o)/s;return Math.acos(a)},subtract:h,sub:d,equalsApproximately:function(t,o){return Math.abs(t[0]-o[0])<n&&Math.abs(t[1]-o[1])<n},equals:function(t,o){return t[0]===o[0]&&t[1]===o[1]},lerp:function(t,o,e,n){return(n=n||new i(2))[0]=t[0]+e*(o[0]-t[0]),n[1]=t[1]+e*(o[1]-t[1]),n},lerpV:function(t,o,e,n){return(n=n||new i(2))[0]=t[0]+e[0]*(o[0]-t[0]),n[1]=t[1]+e[1]*(o[1]-t[1]),n},max:function(t,o,e){return(e=e||new i(2))[0]=Math.max(t[0],o[0]),e[1]=Math.max(t[1],o[1]),e},min:function(t,o,e){return(e=e||new i(2))[0]=Math.min(t[0],o[0]),e[1]=Math.min(t[1],o[1]),e},mulScalar:f,scale:m,divScalar:function(t,o,e){return(e=e||new i(2))[0]=t[0]/o,e[1]=t[1]/o,e},inverse:_,invert:y,cross:function(t,o,e){e=e||new u(3);const n=t[0]*o[1]-t[1]*o[0];return e[0]=0,e[1]=0,e[2]=n,e},dot:g,length:w,len:v,lengthSq:x,lenSq:b,distance:k,dist:M,distanceSq:A,distSq:E,normalize:function(t,o){o=o||new i(2);const e=t[0],n=t[1],r=Math.sqrt(e*e+n*n);return r>1e-5?(o[0]=e/r,o[1]=n/r):(o[0]=0,o[1]=0),o},negate:function(t,o){return(o=o||new i(2))[0]=-t[0],o[1]=-t[1],o},copy:T,clone:S,multiply:O,mul:z,divide:I,div:V,random:function(t=1,o){o=o||new i(2);const e=2*Math.random()*Math.PI;return o[0]=Math.cos(e)*t,o[1]=Math.sin(e)*t,o},zero:function(t){return(t=t||new i(2))[0]=0,t[1]=0,t},transformMat4:function(t,o,e){e=e||new i(2);const n=t[0],r=t[1];return e[0]=n*o[0]+r*o[4]+o[12],e[1]=n*o[1]+r*o[5]+o[13],e},transformMat3:function(t,o,e){e=e||new i(2);const n=t[0],r=t[1];return e[0]=o[0]*n+o[4]*r+o[8],e[1]=o[1]*n+o[5]*r+o[9],e}});let F=Float32Array;const P=new Map([[Float32Array,()=>new Float32Array(12)],[Float64Array,()=>new Float64Array(12)],[Array,()=>new Array(12).fill(0)]]);let B=P.get(Float32Array);function U(t){const o=F;return F=t,B=P.get(t),o}function D(t,o){return(o=o||B())[0]=t[0],o[1]=t[1],o[2]=t[2],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[8]=t[8],o[9]=t[9],o[10]=t[10],o}const N=D;function C(t){return(t=t||B())[0]=1,t[1]=0,t[2]=0,t[4]=0,t[5]=1,t[6]=0,t[8]=0,t[9]=0,t[10]=1,t}function L(t,o){o=o||B();const e=t[0],n=t[1],r=t[2],i=t[4],s=t[5],a=t[6],u=t[8],c=t[9],l=t[10],p=l*s-a*c,h=-l*i+a*u,d=c*i-s*u,f=1/(e*p+n*h+r*d);return o[0]=p*f,o[1]=(-l*n+r*c)*f,o[2]=(a*n-r*s)*f,o[4]=h*f,o[5]=(l*e-r*u)*f,o[6]=(-a*e+r*i)*f,o[8]=d*f,o[9]=(-c*e+n*u)*f,o[10]=(s*e-n*i)*f,o}const j=L;function R(t,o,e){e=e||B();const n=t[0],r=t[1],i=t[2],s=t[4],a=t[5],u=t[6],c=t[8],l=t[9],p=t[10],h=o[0],d=o[1],f=o[2],m=o[4],_=o[5],y=o[6],g=o[8],w=o[9],v=o[10];return e[0]=n*h+s*d+c*f,e[1]=r*h+a*d+l*f,e[2]=i*h+u*d+p*f,e[4]=n*m+s*_+c*y,e[5]=r*m+a*_+l*y,e[6]=i*m+u*_+p*y,e[8]=n*g+s*w+c*v,e[9]=r*g+a*w+l*v,e[10]=i*g+u*w+p*v,e}const $=R;var W=Object.freeze({__proto__:null,setDefaultType:U,create:function(t,o,e,n,r,i,s,a,u){const c=B();return c[3]=0,c[7]=0,c[11]=0,void 0!==t&&(c[0]=t,void 0!==o&&(c[1]=o,void 0!==e&&(c[2]=e,void 0!==n&&(c[4]=n,void 0!==r&&(c[5]=r,void 0!==i&&(c[6]=i,void 0!==s&&(c[8]=s,void 0!==a&&(c[9]=a,void 0!==u&&(c[10]=u))))))))),c},set:function(t,o,e,n,r,i,s,a,u,c){return(c=c||B())[0]=t,c[1]=o,c[2]=e,c[3]=0,c[4]=n,c[5]=r,c[6]=i,c[7]=0,c[8]=s,c[9]=a,c[10]=u,c[11]=0,c},fromMat4:function(t,o){return(o=o||B())[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=0,o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=0,o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=0,o},fromQuat:function(t,o){o=o||B();const e=t[0],n=t[1],r=t[2],i=t[3],s=e+e,a=n+n,u=r+r,c=e*s,l=n*s,p=n*a,h=r*s,d=r*a,f=r*u,m=i*s,_=i*a,y=i*u;return o[0]=1-p-f,o[1]=l+y,o[2]=h-_,o[3]=0,o[4]=l-y,o[5]=1-c-f,o[6]=d+m,o[7]=0,o[8]=h+_,o[9]=d-m,o[10]=1-c-p,o[11]=0,o},negate:function(t,o){return(o=o||B())[0]=-t[0],o[1]=-t[1],o[2]=-t[2],o[4]=-t[4],o[5]=-t[5],o[6]=-t[6],o[8]=-t[8],o[9]=-t[9],o[10]=-t[10],o},copy:D,clone:N,equalsApproximately:function(t,o){return Math.abs(t[0]-o[0])<n&&Math.abs(t[1]-o[1])<n&&Math.abs(t[2]-o[2])<n&&Math.abs(t[4]-o[4])<n&&Math.abs(t[5]-o[5])<n&&Math.abs(t[6]-o[6])<n&&Math.abs(t[8]-o[8])<n&&Math.abs(t[9]-o[9])<n&&Math.abs(t[10]-o[10])<n},equals:function(t,o){return t[0]===o[0]&&t[1]===o[1]&&t[2]===o[2]&&t[4]===o[4]&&t[5]===o[5]&&t[6]===o[6]&&t[8]===o[8]&&t[9]===o[9]&&t[10]===o[10]},identity:C,transpose:function(t,o){if((o=o||B())===t){let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,o}const e=t[0],n=t[1],r=t[2],i=t[4],s=t[5],a=t[6],u=t[8],c=t[9],l=t[10];return o[0]=e,o[1]=i,o[2]=u,o[4]=n,o[5]=s,o[6]=c,o[8]=r,o[9]=a,o[10]=l,o},inverse:L,determinant:function(t){const o=t[0],e=t[1],n=t[2],r=t[4],i=t[5],s=t[6],a=t[8],u=t[9],c=t[10];return o*(i*c-u*s)-r*(e*c-u*n)+a*(e*s-i*n)},invert:j,multiply:R,mul:$,setTranslation:function(t,o,e){return t!==(e=e||C())&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[4]=t[4],e[5]=t[5],e[6]=t[6]),e[8]=o[0],e[9]=o[1],e[10]=1,e},getTranslation:function(t,o){return(o=o||a())[0]=t[8],o[1]=t[9],o},getAxis:function(t,o,e){const n=4*o;return(e=e||a())[0]=t[n+0],e[1]=t[n+1],e},setAxis:function(t,o,e,n){n!==t&&(n=D(t,n));const r=4*e;return n[r+0]=o[0],n[r+1]=o[1],n},getScaling:function(t,o){o=o||a();const e=t[0],n=t[1],r=t[4],i=t[5];return o[0]=Math.sqrt(e*e+n*n),o[1]=Math.sqrt(r*r+i*i),o},translation:function(t,o){return(o=o||B())[0]=1,o[1]=0,o[2]=0,o[4]=0,o[5]=1,o[6]=0,o[8]=t[0],o[9]=t[1],o[10]=1,o},translate:function(t,o,e){e=e||B();const n=o[0],r=o[1],i=t[0],s=t[1],a=t[2],u=t[4],c=t[5],l=t[6],p=t[8],h=t[9],d=t[10];return t!==e&&(e[0]=i,e[1]=s,e[2]=a,e[4]=u,e[5]=c,e[6]=l),e[8]=i*n+u*r+p,e[9]=s*n+c*r+h,e[10]=a*n+l*r+d,e},rotation:function(t,o){o=o||B();const e=Math.cos(t),n=Math.sin(t);return o[0]=e,o[1]=n,o[2]=0,o[4]=-n,o[5]=e,o[6]=0,o[8]=0,o[9]=0,o[10]=1,o},rotate:function(t,o,e){e=e||B();const n=t[0],r=t[1],i=t[2],s=t[4],a=t[5],u=t[6],c=Math.cos(o),l=Math.sin(o);return e[0]=c*n+l*s,e[1]=c*r+l*a,e[2]=c*i+l*u,e[4]=c*s-l*n,e[5]=c*a-l*r,e[6]=c*u-l*i,t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10]),e},scaling:function(t,o){return(o=o||B())[0]=t[0],o[1]=0,o[2]=0,o[4]=0,o[5]=t[1],o[6]=0,o[8]=0,o[9]=0,o[10]=1,o},scale:function(t,o,e){e=e||B();const n=o[0],r=o[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[4]=r*t[4],e[5]=r*t[5],e[6]=r*t[6],t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10]),e},uniformScaling:function(t,o){return(o=o||B())[0]=t,o[1]=0,o[2]=0,o[4]=0,o[5]=t,o[6]=0,o[8]=0,o[9]=0,o[10]=1,o},uniformScale:function(t,o,e){return(e=e||B())[0]=o*t[0],e[1]=o*t[1],e[2]=o*t[2],e[4]=o*t[4],e[5]=o*t[5],e[6]=o*t[6],t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10]),e}});const G=l;function H(t,o,e){return(e=e||new u(3))[0]=t[0]-o[0],e[1]=t[1]-o[1],e[2]=t[2]-o[2],e}const Y=H;function X(t,o,e){return(e=e||new u(3))[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}const Z=X;function K(t,o){return(o=o||new u(3))[0]=1/t[0],o[1]=1/t[1],o[2]=1/t[2],o}const Q=K;function J(t,o,e){e=e||new u(3);const n=t[2]*o[0]-t[0]*o[2],r=t[0]*o[1]-t[1]*o[0];return e[0]=t[1]*o[2]-t[2]*o[1],e[1]=n,e[2]=r,e}function tt(t,o){return t[0]*o[0]+t[1]*o[1]+t[2]*o[2]}function ot(t){const o=t[0],e=t[1],n=t[2];return Math.sqrt(o*o+e*e+n*n)}const et=ot;function nt(t){const o=t[0],e=t[1],n=t[2];return o*o+e*e+n*n}const rt=nt;function it(t,o){const e=t[0]-o[0],n=t[1]-o[1],r=t[2]-o[2];return Math.sqrt(e*e+n*n+r*r)}const st=it;function at(t,o){const e=t[0]-o[0],n=t[1]-o[1],r=t[2]-o[2];return e*e+n*n+r*r}const ut=at;function ct(t,o){o=o||new u(3);const e=t[0],n=t[1],r=t[2],i=Math.sqrt(e*e+n*n+r*r);return i>1e-5?(o[0]=e/i,o[1]=n/i,o[2]=r/i):(o[0]=0,o[1]=0,o[2]=0),o}function lt(t,o){return(o=o||new u(3))[0]=t[0],o[1]=t[1],o[2]=t[2],o}const pt=lt;function ht(t,o,e){return(e=e||new u(3))[0]=t[0]*o[0],e[1]=t[1]*o[1],e[2]=t[2]*o[2],e}const dt=ht;function ft(t,o,e){return(e=e||new u(3))[0]=t[0]/o[0],e[1]=t[1]/o[1],e[2]=t[2]/o[2],e}const mt=ft;var _t=Object.freeze({__proto__:null,create:l,setDefaultType:c,fromValues:G,set:function(t,o,e,n){return(n=n||new u(3))[0]=t,n[1]=o,n[2]=e,n},ceil:function(t,o){return(o=o||new u(3))[0]=Math.ceil(t[0]),o[1]=Math.ceil(t[1]),o[2]=Math.ceil(t[2]),o},floor:function(t,o){return(o=o||new u(3))[0]=Math.floor(t[0]),o[1]=Math.floor(t[1]),o[2]=Math.floor(t[2]),o},round:function(t,o){return(o=o||new u(3))[0]=Math.round(t[0]),o[1]=Math.round(t[1]),o[2]=Math.round(t[2]),o},clamp:function(t,o=0,e=1,n){return(n=n||new u(3))[0]=Math.min(e,Math.max(o,t[0])),n[1]=Math.min(e,Math.max(o,t[1])),n[2]=Math.min(e,Math.max(o,t[2])),n},add:function(t,o,e){return(e=e||new u(3))[0]=t[0]+o[0],e[1]=t[1]+o[1],e[2]=t[2]+o[2],e},addScaled:function(t,o,e,n){return(n=n||new u(3))[0]=t[0]+o[0]*e,n[1]=t[1]+o[1]*e,n[2]=t[2]+o[2]*e,n},angle:function(t,o){const e=t[0],n=t[1],r=t[2],i=t[0],s=t[1],a=t[2],u=Math.sqrt(e*e+n*n+r*r)*Math.sqrt(i*i+s*s+a*a),c=u&&tt(t,o)/u;return Math.acos(c)},subtract:H,sub:Y,equalsApproximately:function(t,o){return Math.abs(t[0]-o[0])<n&&Math.abs(t[1]-o[1])<n&&Math.abs(t[2]-o[2])<n},equals:function(t,o){return t[0]===o[0]&&t[1]===o[1]&&t[2]===o[2]},lerp:function(t,o,e,n){return(n=n||new u(3))[0]=t[0]+e*(o[0]-t[0]),n[1]=t[1]+e*(o[1]-t[1]),n[2]=t[2]+e*(o[2]-t[2]),n},lerpV:function(t,o,e,n){return(n=n||new u(3))[0]=t[0]+e[0]*(o[0]-t[0]),n[1]=t[1]+e[1]*(o[1]-t[1]),n[2]=t[2]+e[2]*(o[2]-t[2]),n},max:function(t,o,e){return(e=e||new u(3))[0]=Math.max(t[0],o[0]),e[1]=Math.max(t[1],o[1]),e[2]=Math.max(t[2],o[2]),e},min:function(t,o,e){return(e=e||new u(3))[0]=Math.min(t[0],o[0]),e[1]=Math.min(t[1],o[1]),e[2]=Math.min(t[2],o[2]),e},mulScalar:X,scale:Z,divScalar:function(t,o,e){return(e=e||new u(3))[0]=t[0]/o,e[1]=t[1]/o,e[2]=t[2]/o,e},inverse:K,invert:Q,cross:J,dot:tt,length:ot,len:et,lengthSq:nt,lenSq:rt,distance:it,dist:st,distanceSq:at,distSq:ut,normalize:ct,negate:function(t,o){return(o=o||new u(3))[0]=-t[0],o[1]=-t[1],o[2]=-t[2],o},copy:lt,clone:pt,multiply:ht,mul:dt,divide:ft,div:mt,random:function(t=1,o){o=o||new u(3);const e=2*Math.random()*Math.PI,n=2*Math.random()-1,r=Math.sqrt(1-n*n)*t;return o[0]=Math.cos(e)*r,o[1]=Math.sin(e)*r,o[2]=n*t,o},zero:function(t){return(t=t||new u(3))[0]=0,t[1]=0,t[2]=0,t},transformMat4:function(t,o,e){e=e||new u(3);const n=t[0],r=t[1],i=t[2],s=o[3]*n+o[7]*r+o[11]*i+o[15]||1;return e[0]=(o[0]*n+o[4]*r+o[8]*i+o[12])/s,e[1]=(o[1]*n+o[5]*r+o[9]*i+o[13])/s,e[2]=(o[2]*n+o[6]*r+o[10]*i+o[14])/s,e},transformMat4Upper3x3:function(t,o,e){e=e||new u(3);const n=t[0],r=t[1],i=t[2];return e[0]=n*o[0]+r*o[4]+i*o[8],e[1]=n*o[1]+r*o[5]+i*o[9],e[2]=n*o[2]+r*o[6]+i*o[10],e},transformMat3:function(t,o,e){e=e||new u(3);const n=t[0],r=t[1],i=t[2];return e[0]=n*o[0]+r*o[4]+i*o[8],e[1]=n*o[1]+r*o[5]+i*o[9],e[2]=n*o[2]+r*o[6]+i*o[10],e},transformQuat:function(t,o,e){e=e||new u(3);const n=o[0],r=o[1],i=o[2],s=2*o[3],a=t[0],c=t[1],l=t[2],p=r*l-i*c,h=i*a-n*l,d=n*c-r*a;return e[0]=a+p*s+2*(r*d-i*h),e[1]=c+h*s+2*(i*p-n*d),e[2]=l+d*s+2*(n*h-r*p),e},getTranslation:function(t,o){return(o=o||new u(3))[0]=t[12],o[1]=t[13],o[2]=t[14],o},getAxis:function(t,o,e){const n=4*o;return(e=e||new u(3))[0]=t[n+0],e[1]=t[n+1],e[2]=t[n+2],e},getScaling:function(t,o){o=o||new u(3);const e=t[0],n=t[1],r=t[2],i=t[4],s=t[5],a=t[6],c=t[8],l=t[9],p=t[10];return o[0]=Math.sqrt(e*e+n*n+r*r),o[1]=Math.sqrt(i*i+s*s+a*a),o[2]=Math.sqrt(c*c+l*l+p*p),o}});let yt=Float32Array;function gt(t){const o=yt;return yt=t,o}function wt(t,o){return(o=o||new yt(16))[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15],o}const vt=wt;function xt(t){return(t=t||new yt(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bt(t,o){o=o||new yt(16);const e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],a=t[5],u=t[6],c=t[7],l=t[8],p=t[9],h=t[10],d=t[11],f=t[12],m=t[13],_=t[14],y=t[15],g=h*y,w=_*d,v=u*y,x=_*c,b=u*d,k=h*c,M=r*y,A=_*i,E=r*d,T=h*i,S=r*c,O=u*i,z=l*m,I=f*p,V=s*m,q=f*a,F=s*p,P=l*a,B=e*m,U=f*n,D=e*p,N=l*n,C=e*a,L=s*n,j=g*a+x*p+b*m-(w*a+v*p+k*m),R=w*n+M*p+T*m-(g*n+A*p+E*m),$=v*n+A*a+S*m-(x*n+M*a+O*m),W=k*n+E*a+O*p-(b*n+T*a+S*p),G=1/(e*j+s*R+l*$+f*W);return o[0]=G*j,o[1]=G*R,o[2]=G*$,o[3]=G*W,o[4]=G*(w*s+v*l+k*f-(g*s+x*l+b*f)),o[5]=G*(g*e+A*l+E*f-(w*e+M*l+T*f)),o[6]=G*(x*e+M*s+O*f-(v*e+A*s+S*f)),o[7]=G*(b*e+T*s+S*l-(k*e+E*s+O*l)),o[8]=G*(z*c+q*d+F*y-(I*c+V*d+P*y)),o[9]=G*(I*i+B*d+N*y-(z*i+U*d+D*y)),o[10]=G*(V*i+U*c+C*y-(q*i+B*c+L*y)),o[11]=G*(P*i+D*c+L*d-(F*i+N*c+C*d)),o[12]=G*(V*h+P*_+I*u-(F*_+z*u+q*h)),o[13]=G*(D*_+z*r+U*h-(B*h+N*_+I*r)),o[14]=G*(B*u+L*_+q*r-(C*_+V*r+U*u)),o[15]=G*(C*h+F*r+N*u-(D*u+L*h+P*r)),o}const kt=bt;function Mt(t,o,e){e=e||new yt(16);const n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],p=t[8],h=t[9],d=t[10],f=t[11],m=t[12],_=t[13],y=t[14],g=t[15],w=o[0],v=o[1],x=o[2],b=o[3],k=o[4],M=o[5],A=o[6],E=o[7],T=o[8],S=o[9],O=o[10],z=o[11],I=o[12],V=o[13],q=o[14],F=o[15];return e[0]=n*w+a*v+p*x+m*b,e[1]=r*w+u*v+h*x+_*b,e[2]=i*w+c*v+d*x+y*b,e[3]=s*w+l*v+f*x+g*b,e[4]=n*k+a*M+p*A+m*E,e[5]=r*k+u*M+h*A+_*E,e[6]=i*k+c*M+d*A+y*E,e[7]=s*k+l*M+f*A+g*E,e[8]=n*T+a*S+p*O+m*z,e[9]=r*T+u*S+h*O+_*z,e[10]=i*T+c*S+d*O+y*z,e[11]=s*T+l*S+f*O+g*z,e[12]=n*I+a*V+p*q+m*F,e[13]=r*I+u*V+h*q+_*F,e[14]=i*I+c*V+d*q+y*F,e[15]=s*I+l*V+f*q+g*F,e}const At=Mt;let Et,Tt,St;function Ot(t,o,e){e=e||new yt(16);let n=t[0],r=t[1],i=t[2];const s=Math.sqrt(n*n+r*r+i*i);n/=s,r/=s,i/=s;const a=n*n,u=r*r,c=i*i,l=Math.cos(o),p=Math.sin(o),h=1-l;return e[0]=a+(1-a)*l,e[1]=n*r*h+i*p,e[2]=n*i*h-r*p,e[3]=0,e[4]=n*r*h-i*p,e[5]=u+(1-u)*l,e[6]=r*i*h+n*p,e[7]=0,e[8]=n*i*h+r*p,e[9]=r*i*h-n*p,e[10]=c+(1-c)*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}const zt=Ot;function It(t,o,e,n){n=n||new yt(16);let r=o[0],i=o[1],s=o[2];const a=Math.sqrt(r*r+i*i+s*s);r/=a,i/=a,s/=a;const u=r*r,c=i*i,l=s*s,p=Math.cos(e),h=Math.sin(e),d=1-p,f=u+(1-u)*p,m=r*i*d+s*h,_=r*s*d-i*h,y=r*i*d-s*h,g=c+(1-c)*p,w=i*s*d+r*h,v=r*s*d+i*h,x=i*s*d-r*h,b=l+(1-l)*p,k=t[0],M=t[1],A=t[2],E=t[3],T=t[4],S=t[5],O=t[6],z=t[7],I=t[8],V=t[9],q=t[10],F=t[11];return n[0]=f*k+m*T+_*I,n[1]=f*M+m*S+_*V,n[2]=f*A+m*O+_*q,n[3]=f*E+m*z+_*F,n[4]=y*k+g*T+w*I,n[5]=y*M+g*S+w*V,n[6]=y*A+g*O+w*q,n[7]=y*E+g*z+w*F,n[8]=v*k+x*T+b*I,n[9]=v*M+x*S+b*V,n[10]=v*A+x*O+b*q,n[11]=v*E+x*z+b*F,t!==n&&(n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n}const Vt=It;var qt=Object.freeze({__proto__:null,setDefaultType:gt,create:function(t,o,e,n,r,i,s,a,u,c,l,p,h,d,f,m){const _=new yt(16);return void 0!==t&&(_[0]=t,void 0!==o&&(_[1]=o,void 0!==e&&(_[2]=e,void 0!==n&&(_[3]=n,void 0!==r&&(_[4]=r,void 0!==i&&(_[5]=i,void 0!==s&&(_[6]=s,void 0!==a&&(_[7]=a,void 0!==u&&(_[8]=u,void 0!==c&&(_[9]=c,void 0!==l&&(_[10]=l,void 0!==p&&(_[11]=p,void 0!==h&&(_[12]=h,void 0!==d&&(_[13]=d,void 0!==f&&(_[14]=f,void 0!==m&&(_[15]=m)))))))))))))))),_},set:function(t,o,e,n,r,i,s,a,u,c,l,p,h,d,f,m,_){return(_=_||new yt(16))[0]=t,_[1]=o,_[2]=e,_[3]=n,_[4]=r,_[5]=i,_[6]=s,_[7]=a,_[8]=u,_[9]=c,_[10]=l,_[11]=p,_[12]=h,_[13]=d,_[14]=f,_[15]=m,_},fromMat3:function(t,o){return(o=o||new yt(16))[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=0,o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=0,o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},fromQuat:function(t,o){o=o||new yt(16);const e=t[0],n=t[1],r=t[2],i=t[3],s=e+e,a=n+n,u=r+r,c=e*s,l=n*s,p=n*a,h=r*s,d=r*a,f=r*u,m=i*s,_=i*a,y=i*u;return o[0]=1-p-f,o[1]=l+y,o[2]=h-_,o[3]=0,o[4]=l-y,o[5]=1-c-f,o[6]=d+m,o[7]=0,o[8]=h+_,o[9]=d-m,o[10]=1-c-p,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},negate:function(t,o){return(o=o||new yt(16))[0]=-t[0],o[1]=-t[1],o[2]=-t[2],o[3]=-t[3],o[4]=-t[4],o[5]=-t[5],o[6]=-t[6],o[7]=-t[7],o[8]=-t[8],o[9]=-t[9],o[10]=-t[10],o[11]=-t[11],o[12]=-t[12],o[13]=-t[13],o[14]=-t[14],o[15]=-t[15],o},copy:wt,clone:vt,equalsApproximately:function(t,o){return Math.abs(t[0]-o[0])<n&&Math.abs(t[1]-o[1])<n&&Math.abs(t[2]-o[2])<n&&Math.abs(t[3]-o[3])<n&&Math.abs(t[4]-o[4])<n&&Math.abs(t[5]-o[5])<n&&Math.abs(t[6]-o[6])<n&&Math.abs(t[7]-o[7])<n&&Math.abs(t[8]-o[8])<n&&Math.abs(t[9]-o[9])<n&&Math.abs(t[10]-o[10])<n&&Math.abs(t[11]-o[11])<n&&Math.abs(t[12]-o[12])<n&&Math.abs(t[13]-o[13])<n&&Math.abs(t[14]-o[14])<n&&Math.abs(t[15]-o[15])<n},equals:function(t,o){return t[0]===o[0]&&t[1]===o[1]&&t[2]===o[2]&&t[3]===o[3]&&t[4]===o[4]&&t[5]===o[5]&&t[6]===o[6]&&t[7]===o[7]&&t[8]===o[8]&&t[9]===o[9]&&t[10]===o[10]&&t[11]===o[11]&&t[12]===o[12]&&t[13]===o[13]&&t[14]===o[14]&&t[15]===o[15]},identity:xt,transpose:function(t,o){if((o=o||new yt(16))===t){let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,o}const e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],a=t[5],u=t[6],c=t[7],l=t[8],p=t[9],h=t[10],d=t[11],f=t[12],m=t[13],_=t[14],y=t[15];return o[0]=e,o[1]=s,o[2]=l,o[3]=f,o[4]=n,o[5]=a,o[6]=p,o[7]=m,o[8]=r,o[9]=u,o[10]=h,o[11]=_,o[12]=i,o[13]=c,o[14]=d,o[15]=y,o},inverse:bt,determinant:function(t){const o=t[0],e=t[1],n=t[2],r=t[3],i=t[4],s=t[5],a=t[6],u=t[7],c=t[8],l=t[9],p=t[10],h=t[11],d=t[12],f=t[13],m=t[14],_=t[15],y=p*_,g=m*h,w=a*_,v=m*u,x=a*h,b=p*u,k=n*_,M=m*r,A=n*h,E=p*r,T=n*u,S=a*r;return o*(y*s+v*l+x*f-(g*s+w*l+b*f))+i*(g*e+k*l+E*f-(y*e+M*l+A*f))+c*(w*e+M*s+T*f-(v*e+k*s+S*f))+d*(b*e+A*s+S*l-(x*e+E*s+T*l))},invert:kt,multiply:Mt,mul:At,setTranslation:function(t,o,e){return t!==(e=e||xt())&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11]),e[12]=o[0],e[13]=o[1],e[14]=o[2],e[15]=1,e},getTranslation:function(t,o){return(o=o||l())[0]=t[12],o[1]=t[13],o[2]=t[14],o},getAxis:function(t,o,e){const n=4*o;return(e=e||l())[0]=t[n+0],e[1]=t[n+1],e[2]=t[n+2],e},setAxis:function(t,o,e,n){n!==t&&(n=wt(t,n));const r=4*e;return n[r+0]=o[0],n[r+1]=o[1],n[r+2]=o[2],n},getScaling:function(t,o){o=o||l();const e=t[0],n=t[1],r=t[2],i=t[4],s=t[5],a=t[6],u=t[8],c=t[9],p=t[10];return o[0]=Math.sqrt(e*e+n*n+r*r),o[1]=Math.sqrt(i*i+s*s+a*a),o[2]=Math.sqrt(u*u+c*c+p*p),o},perspective:function(t,o,e,n,r){r=r||new yt(16);const i=Math.tan(.5*Math.PI-.5*t);if(r[0]=i/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,n===1/0)r[10]=-1,r[14]=-e;else{const t=1/(e-n);r[10]=n*t,r[14]=n*e*t}return r},ortho:function(t,o,e,n,r,i,s){return(s=s||new yt(16))[0]=2/(o-t),s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2/(n-e),s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1/(r-i),s[11]=0,s[12]=(o+t)/(t-o),s[13]=(n+e)/(e-n),s[14]=r/(r-i),s[15]=1,s},frustum:function(t,o,e,n,r,i,s){const a=o-t,u=n-e,c=r-i;return(s=s||new yt(16))[0]=2*r/a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*r/u,s[6]=0,s[7]=0,s[8]=(t+o)/a,s[9]=(n+e)/u,s[10]=i/c,s[11]=-1,s[12]=0,s[13]=0,s[14]=r*i/c,s[15]=0,s},aim:function(t,o,e,n){return n=n||new yt(16),Et=Et||l(),Tt=Tt||l(),St=St||l(),ct(H(o,t,St),St),ct(J(e,St,Et),Et),ct(J(St,Et,Tt),Tt),n[0]=Et[0],n[1]=Et[1],n[2]=Et[2],n[3]=0,n[4]=Tt[0],n[5]=Tt[1],n[6]=Tt[2],n[7]=0,n[8]=St[0],n[9]=St[1],n[10]=St[2],n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n},cameraAim:function(t,o,e,n){return n=n||new yt(16),Et=Et||l(),Tt=Tt||l(),St=St||l(),ct(H(t,o,St),St),ct(J(e,St,Et),Et),ct(J(St,Et,Tt),Tt),n[0]=Et[0],n[1]=Et[1],n[2]=Et[2],n[3]=0,n[4]=Tt[0],n[5]=Tt[1],n[6]=Tt[2],n[7]=0,n[8]=St[0],n[9]=St[1],n[10]=St[2],n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n},lookAt:function(t,o,e,n){return n=n||new yt(16),Et=Et||l(),Tt=Tt||l(),St=St||l(),ct(H(t,o,St),St),ct(J(e,St,Et),Et),ct(J(St,Et,Tt),Tt),n[0]=Et[0],n[1]=Tt[0],n[2]=St[0],n[3]=0,n[4]=Et[1],n[5]=Tt[1],n[6]=St[1],n[7]=0,n[8]=Et[2],n[9]=Tt[2],n[10]=St[2],n[11]=0,n[12]=-(Et[0]*t[0]+Et[1]*t[1]+Et[2]*t[2]),n[13]=-(Tt[0]*t[0]+Tt[1]*t[1]+Tt[2]*t[2]),n[14]=-(St[0]*t[0]+St[1]*t[1]+St[2]*t[2]),n[15]=1,n},translation:function(t,o){return(o=o||new yt(16))[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=t[0],o[13]=t[1],o[14]=t[2],o[15]=1,o},translate:function(t,o,e){e=e||new yt(16);const n=o[0],r=o[1],i=o[2],s=t[0],a=t[1],u=t[2],c=t[3],l=t[4],p=t[5],h=t[6],d=t[7],f=t[8],m=t[9],_=t[10],y=t[11],g=t[12],w=t[13],v=t[14],x=t[15];return t!==e&&(e[0]=s,e[1]=a,e[2]=u,e[3]=c,e[4]=l,e[5]=p,e[6]=h,e[7]=d,e[8]=f,e[9]=m,e[10]=_,e[11]=y),e[12]=s*n+l*r+f*i+g,e[13]=a*n+p*r+m*i+w,e[14]=u*n+h*r+_*i+v,e[15]=c*n+d*r+y*i+x,e},rotationX:function(t,o){o=o||new yt(16);const e=Math.cos(t),n=Math.sin(t);return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=e,o[6]=n,o[7]=0,o[8]=0,o[9]=-n,o[10]=e,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},rotateX:function(t,o,e){e=e||new yt(16);const n=t[4],r=t[5],i=t[6],s=t[7],a=t[8],u=t[9],c=t[10],l=t[11],p=Math.cos(o),h=Math.sin(o);return e[4]=p*n+h*a,e[5]=p*r+h*u,e[6]=p*i+h*c,e[7]=p*s+h*l,e[8]=p*a-h*n,e[9]=p*u-h*r,e[10]=p*c-h*i,e[11]=p*l-h*s,t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e},rotationY:function(t,o){o=o||new yt(16);const e=Math.cos(t),n=Math.sin(t);return o[0]=e,o[1]=0,o[2]=-n,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=n,o[9]=0,o[10]=e,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},rotateY:function(t,o,e){e=e||new yt(16);const n=t[0],r=t[1],i=t[2],s=t[3],a=t[8],u=t[9],c=t[10],l=t[11],p=Math.cos(o),h=Math.sin(o);return e[0]=p*n-h*a,e[1]=p*r-h*u,e[2]=p*i-h*c,e[3]=p*s-h*l,e[8]=p*a+h*n,e[9]=p*u+h*r,e[10]=p*c+h*i,e[11]=p*l+h*s,t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e},rotationZ:function(t,o){o=o||new yt(16);const e=Math.cos(t),n=Math.sin(t);return o[0]=e,o[1]=n,o[2]=0,o[3]=0,o[4]=-n,o[5]=e,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},rotateZ:function(t,o,e){e=e||new yt(16);const n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],p=Math.cos(o),h=Math.sin(o);return e[0]=p*n+h*a,e[1]=p*r+h*u,e[2]=p*i+h*c,e[3]=p*s+h*l,e[4]=p*a-h*n,e[5]=p*u-h*r,e[6]=p*c-h*i,e[7]=p*l-h*s,t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e},axisRotation:Ot,rotation:zt,axisRotate:It,rotate:Vt,scaling:function(t,o){return(o=o||new yt(16))[0]=t[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=t[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=t[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},scale:function(t,o,e){e=e||new yt(16);const n=o[0],r=o[1],i=o[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=n*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=r*t[6],e[7]=r*t[7],e[8]=i*t[8],e[9]=i*t[9],e[10]=i*t[10],e[11]=i*t[11],t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e},uniformScaling:function(t,o){return(o=o||new yt(16))[0]=t,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=t,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=t,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},uniformScale:function(t,o,e){return(e=e||new yt(16))[0]=o*t[0],e[1]=o*t[1],e[2]=o*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=o*t[6],e[7]=o*t[7],e[8]=o*t[8],e[9]=o*t[9],e[10]=o*t[10],e[11]=o*t[11],t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e}});let Ft=Float32Array;function Pt(t){const o=Ft;return Ft=t,o}function Bt(t,o,e,n){const r=new Ft(4);return void 0!==t&&(r[0]=t,void 0!==o&&(r[1]=o,void 0!==e&&(r[2]=e,void 0!==n&&(r[3]=n)))),r}const Ut=Bt;function Dt(t,o,e){e=e||new Ft(4);const n=.5*o,r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Nt(t,o,e){e=e||new Ft(4);const n=t[0],r=t[1],i=t[2],s=t[3],a=o[0],u=o[1],c=o[2],l=o[3];return e[0]=n*l+s*a+r*c-i*u,e[1]=r*l+s*u+i*a-n*c,e[2]=i*l+s*c+n*u-r*a,e[3]=s*l-n*a-r*u-i*c,e}const Ct=Nt;function Lt(t,o,e,r){r=r||new Ft(4);const i=t[0],s=t[1],a=t[2],u=t[3];let c,l,p=o[0],h=o[1],d=o[2],f=o[3],m=i*p+s*h+a*d+u*f;if(m<0&&(m=-m,p=-p,h=-h,d=-d,f=-f),1-m>n){const t=Math.acos(m),o=Math.sin(t);c=Math.sin((1-e)*t)/o,l=Math.sin(e*t)/o}else c=1-e,l=e;return r[0]=c*i+l*p,r[1]=c*s+l*h,r[2]=c*a+l*d,r[3]=c*u+l*f,r}function jt(t,o){return(o=o||new Ft(4))[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o}const Rt=jt;function $t(t,o,e){return(e=e||new Ft(4))[0]=t[0]-o[0],e[1]=t[1]-o[1],e[2]=t[2]-o[2],e[3]=t[3]-o[3],e}const Wt=$t;function Gt(t,o,e){return(e=e||new Ft(4))[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e}const Ht=Gt;function Yt(t,o){return t[0]*o[0]+t[1]*o[1]+t[2]*o[2]+t[3]*o[3]}function Xt(t){const o=t[0],e=t[1],n=t[2],r=t[3];return Math.sqrt(o*o+e*e+n*n+r*r)}const Zt=Xt;function Kt(t){const o=t[0],e=t[1],n=t[2],r=t[3];return o*o+e*e+n*n+r*r}const Qt=Kt;function Jt(t,o){o=o||new Ft(4);const e=t[0],n=t[1],r=t[2],i=t[3],s=Math.sqrt(e*e+n*n+r*r+i*i);return s>1e-5?(o[0]=e/s,o[1]=n/s,o[2]=r/s,o[3]=i/s):(o[0]=0,o[1]=0,o[2]=0,o[3]=0),o}let to,oo,eo,no,ro;var io=Object.freeze({__proto__:null,create:Bt,setDefaultType:Pt,fromValues:Ut,set:function(t,o,e,n,r){return(r=r||new Ft(4))[0]=t,r[1]=o,r[2]=e,r[3]=n,r},fromAxisAngle:Dt,toAxisAngle:function(t,o){o=o||l(4);const e=2*Math.acos(t[3]),r=Math.sin(.5*e);return r>n?(o[0]=t[0]/r,o[1]=t[1]/r,o[2]=t[2]/r):(o[0]=1,o[1]=0,o[2]=0),{angle:e,axis:o}},angle:function(t,o){const e=Yt(t,o);return Math.acos(2*e*e-1)},multiply:Nt,mul:Ct,rotateX:function(t,o,e){e=e||new Ft(4);const n=.5*o,r=t[0],i=t[1],s=t[2],a=t[3],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*u,e[1]=i*c+s*u,e[2]=s*c-i*u,e[3]=a*c-r*u,e},rotateY:function(t,o,e){e=e||new Ft(4);const n=.5*o,r=t[0],i=t[1],s=t[2],a=t[3],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c-s*u,e[1]=i*c+a*u,e[2]=s*c+r*u,e[3]=a*c-i*u,e},rotateZ:function(t,o,e){e=e||new Ft(4);const n=.5*o,r=t[0],i=t[1],s=t[2],a=t[3],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+i*u,e[1]=i*c-r*u,e[2]=s*c+a*u,e[3]=a*c-s*u,e},slerp:Lt,inverse:function(t,o){o=o||new Ft(4);const e=t[0],n=t[1],r=t[2],i=t[3],s=e*e+n*n+r*r+i*i,a=s?1/s:0;return o[0]=-e*a,o[1]=-n*a,o[2]=-r*a,o[3]=i*a,o},conjugate:function(t,o){return(o=o||new Ft(4))[0]=-t[0],o[1]=-t[1],o[2]=-t[2],o[3]=t[3],o},fromMat:function(t,o){o=o||new Ft(4);const e=t[0]+t[5]+t[10];if(e>0){const n=Math.sqrt(e+1);o[3]=.5*n;const r=.5/n;o[0]=(t[6]-t[9])*r,o[1]=(t[8]-t[2])*r,o[2]=(t[1]-t[4])*r}else{let e=0;t[5]>t[0]&&(e=1),t[10]>t[4*e+e]&&(e=2);const n=(e+1)%3,r=(e+2)%3,i=Math.sqrt(t[4*e+e]-t[4*n+n]-t[4*r+r]+1);o[e]=.5*i;const s=.5/i;o[3]=(t[4*n+r]-t[4*r+n])*s,o[n]=(t[4*n+e]+t[4*e+n])*s,o[r]=(t[4*r+e]+t[4*e+r])*s}return o},fromEuler:function(t,o,e,n,r){r=r||new Ft(4);const i=.5*t,s=.5*o,a=.5*e,u=Math.sin(i),c=Math.cos(i),l=Math.sin(s),p=Math.cos(s),h=Math.sin(a),d=Math.cos(a);switch(n){case"xyz":r[0]=u*p*d+c*l*h,r[1]=c*l*d-u*p*h,r[2]=c*p*h+u*l*d,r[3]=c*p*d-u*l*h;break;case"xzy":r[0]=u*p*d-c*l*h,r[1]=c*l*d-u*p*h,r[2]=c*p*h+u*l*d,r[3]=c*p*d+u*l*h;break;case"yxz":r[0]=u*p*d+c*l*h,r[1]=c*l*d-u*p*h,r[2]=c*p*h-u*l*d,r[3]=c*p*d+u*l*h;break;case"yzx":r[0]=u*p*d+c*l*h,r[1]=c*l*d+u*p*h,r[2]=c*p*h-u*l*d,r[3]=c*p*d-u*l*h;break;case"zxy":r[0]=u*p*d-c*l*h,r[1]=c*l*d+u*p*h,r[2]=c*p*h+u*l*d,r[3]=c*p*d-u*l*h;break;case"zyx":r[0]=u*p*d-c*l*h,r[1]=c*l*d+u*p*h,r[2]=c*p*h-u*l*d,r[3]=c*p*d+u*l*h;break;default:throw new Error(`Unknown rotation order: ${n}`)}return r},copy:jt,clone:Rt,add:function(t,o,e){return(e=e||new Ft(4))[0]=t[0]+o[0],e[1]=t[1]+o[1],e[2]=t[2]+o[2],e[3]=t[3]+o[3],e},subtract:$t,sub:Wt,mulScalar:Gt,scale:Ht,divScalar:function(t,o,e){return(e=e||new Ft(4))[0]=t[0]/o,e[1]=t[1]/o,e[2]=t[2]/o,e[3]=t[3]/o,e},dot:Yt,lerp:function(t,o,e,n){return(n=n||new Ft(4))[0]=t[0]+e*(o[0]-t[0]),n[1]=t[1]+e*(o[1]-t[1]),n[2]=t[2]+e*(o[2]-t[2]),n[3]=t[3]+e*(o[3]-t[3]),n},length:Xt,len:Zt,lengthSq:Kt,lenSq:Qt,normalize:Jt,equalsApproximately:function(t,o){return Math.abs(t[0]-o[0])<n&&Math.abs(t[1]-o[1])<n&&Math.abs(t[2]-o[2])<n&&Math.abs(t[3]-o[3])<n},equals:function(t,o){return t[0]===o[0]&&t[1]===o[1]&&t[2]===o[2]&&t[3]===o[3]},identity:function(t){return(t=t||new Ft(4))[0]=0,t[1]=0,t[2]=0,t[3]=1,t},rotationTo:function(t,o,e){e=e||new Ft(4),to=to||l(),oo=oo||l(1,0,0),eo=eo||l(0,1,0);const n=tt(t,o);return n<-.999999?(J(oo,t,to),et(to)<1e-6&&J(eo,t,to),ct(to,to),Dt(to,Math.PI,e),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(J(t,o,to),e[0]=to[0],e[1]=to[1],e[2]=to[2],e[3]=1+n,Jt(e,e))},sqlerp:function(t,o,e,n,r,i){return i=i||new Ft(4),no=no||new Ft(4),ro=ro||new Ft(4),Lt(t,n,r,no),Lt(o,e,r,ro),Lt(no,ro,2*r*(1-r),i),i}});let so=Float32Array;function ao(t){const o=so;return so=t,o}function uo(t,o,e,n){const r=new so(4);return void 0!==t&&(r[0]=t,void 0!==o&&(r[1]=o,void 0!==e&&(r[2]=e,void 0!==n&&(r[3]=n)))),r}const co=uo;function lo(t,o,e){return(e=e||new so(4))[0]=t[0]-o[0],e[1]=t[1]-o[1],e[2]=t[2]-o[2],e[3]=t[3]-o[3],e}const po=lo;function ho(t,o,e){return(e=e||new so(4))[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e}const fo=ho;function mo(t,o){return(o=o||new so(4))[0]=1/t[0],o[1]=1/t[1],o[2]=1/t[2],o[3]=1/t[3],o}const _o=mo;function yo(t){const o=t[0],e=t[1],n=t[2],r=t[3];return Math.sqrt(o*o+e*e+n*n+r*r)}const go=yo;function wo(t){const o=t[0],e=t[1],n=t[2],r=t[3];return o*o+e*e+n*n+r*r}const vo=wo;function xo(t,o){const e=t[0]-o[0],n=t[1]-o[1],r=t[2]-o[2],i=t[3]-o[3];return Math.sqrt(e*e+n*n+r*r+i*i)}const bo=xo;function ko(t,o){const e=t[0]-o[0],n=t[1]-o[1],r=t[2]-o[2],i=t[3]-o[3];return e*e+n*n+r*r+i*i}const Mo=ko;function Ao(t,o){return(o=o||new so(4))[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o}const Eo=Ao;function To(t,o,e){return(e=e||new so(4))[0]=t[0]*o[0],e[1]=t[1]*o[1],e[2]=t[2]*o[2],e[3]=t[3]*o[3],e}const So=To;function Oo(t,o,e){return(e=e||new so(4))[0]=t[0]/o[0],e[1]=t[1]/o[1],e[2]=t[2]/o[2],e[3]=t[3]/o[3],e}const zo=Oo;var Io=Object.freeze({__proto__:null,create:uo,setDefaultType:ao,fromValues:co,set:function(t,o,e,n,r){return(r=r||new so(4))[0]=t,r[1]=o,r[2]=e,r[3]=n,r},ceil:function(t,o){return(o=o||new so(4))[0]=Math.ceil(t[0]),o[1]=Math.ceil(t[1]),o[2]=Math.ceil(t[2]),o[3]=Math.ceil(t[3]),o},floor:function(t,o){return(o=o||new so(4))[0]=Math.floor(t[0]),o[1]=Math.floor(t[1]),o[2]=Math.floor(t[2]),o[3]=Math.floor(t[3]),o},round:function(t,o){return(o=o||new so(4))[0]=Math.round(t[0]),o[1]=Math.round(t[1]),o[2]=Math.round(t[2]),o[3]=Math.round(t[3]),o},clamp:function(t,o=0,e=1,n){return(n=n||new so(4))[0]=Math.min(e,Math.max(o,t[0])),n[1]=Math.min(e,Math.max(o,t[1])),n[2]=Math.min(e,Math.max(o,t[2])),n[3]=Math.min(e,Math.max(o,t[3])),n},add:function(t,o,e){return(e=e||new so(4))[0]=t[0]+o[0],e[1]=t[1]+o[1],e[2]=t[2]+o[2],e[3]=t[3]+o[3],e},addScaled:function(t,o,e,n){return(n=n||new so(4))[0]=t[0]+o[0]*e,n[1]=t[1]+o[1]*e,n[2]=t[2]+o[2]*e,n[3]=t[3]+o[3]*e,n},subtract:lo,sub:po,equalsApproximately:function(t,o){return Math.abs(t[0]-o[0])<n&&Math.abs(t[1]-o[1])<n&&Math.abs(t[2]-o[2])<n&&Math.abs(t[3]-o[3])<n},equals:function(t,o){return t[0]===o[0]&&t[1]===o[1]&&t[2]===o[2]&&t[3]===o[3]},lerp:function(t,o,e,n){return(n=n||new so(4))[0]=t[0]+e*(o[0]-t[0]),n[1]=t[1]+e*(o[1]-t[1]),n[2]=t[2]+e*(o[2]-t[2]),n[3]=t[3]+e*(o[3]-t[3]),n},lerpV:function(t,o,e,n){return(n=n||new so(4))[0]=t[0]+e[0]*(o[0]-t[0]),n[1]=t[1]+e[1]*(o[1]-t[1]),n[2]=t[2]+e[2]*(o[2]-t[2]),n[3]=t[3]+e[3]*(o[3]-t[3]),n},max:function(t,o,e){return(e=e||new so(4))[0]=Math.max(t[0],o[0]),e[1]=Math.max(t[1],o[1]),e[2]=Math.max(t[2],o[2]),e[3]=Math.max(t[3],o[3]),e},min:function(t,o,e){return(e=e||new so(4))[0]=Math.min(t[0],o[0]),e[1]=Math.min(t[1],o[1]),e[2]=Math.min(t[2],o[2]),e[3]=Math.min(t[3],o[3]),e},mulScalar:ho,scale:fo,divScalar:function(t,o,e){return(e=e||new so(4))[0]=t[0]/o,e[1]=t[1]/o,e[2]=t[2]/o,e[3]=t[3]/o,e},inverse:mo,invert:_o,dot:function(t,o){return t[0]*o[0]+t[1]*o[1]+t[2]*o[2]+t[3]*o[3]},length:yo,len:go,lengthSq:wo,lenSq:vo,distance:xo,dist:bo,distanceSq:ko,distSq:Mo,normalize:function(t,o){o=o||new so(4);const e=t[0],n=t[1],r=t[2],i=t[3],s=Math.sqrt(e*e+n*n+r*r+i*i);return s>1e-5?(o[0]=e/s,o[1]=n/s,o[2]=r/s,o[3]=i/s):(o[0]=0,o[1]=0,o[2]=0,o[3]=0),o},negate:function(t,o){return(o=o||new so(4))[0]=-t[0],o[1]=-t[1],o[2]=-t[2],o[3]=-t[3],o},copy:Ao,clone:Eo,multiply:To,mul:So,divide:Oo,div:zo,zero:function(t){return(t=t||new so(4))[0]=0,t[1]=0,t[2]=0,t[3]=0,t},transformMat4:function(t,o,e){e=e||new so(4);const n=t[0],r=t[1],i=t[2],s=t[3];return e[0]=o[0]*n+o[4]*r+o[8]*i+o[12]*s,e[1]=o[1]*n+o[5]*r+o[9]*i+o[13]*s,e[2]=o[2]*n+o[6]*r+o[10]*i+o[14]*s,e[3]=o[3]*n+o[7]*r+o[11]*i+o[15]*s,e}});function Vo(t){U(t),gt(t),Pt(t),s(t),c(t),ao(t)}}},o={};function e(n){var r=o[n];if(void 0!==r)return r.exports;var i=o[n]={exports:{}};return t[n].call(i.exports,i,i.exports,e),i.exports}e.d=(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},e.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(752)})();